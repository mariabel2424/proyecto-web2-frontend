{"version":3,"sources":["../../../../../../../Documents/GitHub/proyecto-web2-frontend/src/app/%28dashboard%29/sistema/usuarios/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useCallback, useEffect } from 'react';\r\nimport { DashboardLayout } from '@/components/layout';\r\nimport {\r\n  Button,\r\n  Table,\r\n  Pagination,\r\n  Modal,\r\n  ConfirmModal,\r\n} from '@/components/ui';\r\nimport { usePagination } from '@/hooks/usePagination';\r\nimport { usuariosService, rolesService } from '@/services/usuarios.service';\r\nimport type { Usuario, Rol } from '@/types';\r\nimport {\r\n  PlusIcon,\r\n  MagnifyingGlassIcon,\r\n  EyeIcon,\r\n  PencilSquareIcon,\r\n  TrashIcon,\r\n  UsersIcon,\r\n  FunnelIcon,\r\n} from '@heroicons/react/24/outline';\r\n\r\nexport default function UsuariosPage() {\r\n  const [roles, setRoles] = useState<Rol[]>([]);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [showFormModal, setShowFormModal] = useState(false);\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [selectedUsuario, setSelectedUsuario] = useState<Usuario | null>(null);\r\n  const [editingUsuario, setEditingUsuario] = useState<Usuario | null>(null);\r\n  const [deleteId, setDeleteId] = useState<number | null>(null);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [filters, setFilters] = useState({ status: '', id_rol: '' });\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  const [formErrors, setFormErrors] = useState<Record<string, string>>({});\r\n  const [formData, setFormData] = useState({\r\n    nombre: '',\r\n    apellido: '',\r\n    email: '',\r\n    cedula: '',\r\n    telefono: '',\r\n    id_rol: '',\r\n    password: '',\r\n    password_confirmation: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    rolesService\r\n      .getAll()\r\n      .then((res: any) => {\r\n        // Handle both array and { data: array } responses\r\n        const rolesData = Array.isArray(res) ? res : res?.data || [];\r\n        setRoles(rolesData);\r\n      })\r\n      .catch(console.error);\r\n  }, []);\r\n\r\n  const fetchUsuarios = useCallback(\r\n    (params: Parameters<typeof usuariosService.getAll>[0]) => {\r\n      // Solo incluir filtros que tengan valor\r\n      const activeFilters: Record<string, string> = {};\r\n      if (filters.status) activeFilters.status = filters.status;\r\n      if (filters.id_rol) activeFilters.id_rol = filters.id_rol;\r\n      return usuariosService.getAll({ ...params, ...activeFilters });\r\n    },\r\n    [filters],\r\n  );\r\n\r\n  const {\r\n    data,\r\n    isLoading,\r\n    page,\r\n    perPage,\r\n    total,\r\n    lastPage,\r\n    search,\r\n    sortBy,\r\n    sortOrder,\r\n    goToPage,\r\n    changePerPage,\r\n    handleSearch,\r\n    handleSort,\r\n    refetch,\r\n  } = usePagination<Usuario>(fetchUsuarios);\r\n\r\n  const handleCambiarEstado = async (id: number, estado: string) => {\r\n    await usuariosService.cambiarEstado(id, estado);\r\n    refetch();\r\n  };\r\n\r\n  const handleDelete = (id: number) => {\r\n    setDeleteId(id);\r\n    setShowDeleteModal(true);\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    if (!deleteId) return;\r\n    setIsDeleting(true);\r\n    try {\r\n      await usuariosService.delete(deleteId);\r\n      refetch();\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n    } finally {\r\n      setIsDeleting(false);\r\n      setShowDeleteModal(false);\r\n      setDeleteId(null);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (usuario: Usuario) => {\r\n    setEditingUsuario(usuario);\r\n    setFormData({\r\n      nombre: usuario.nombre || '',\r\n      apellido: usuario.apellido || '',\r\n      email: usuario.email || '',\r\n      cedula: usuario.cedula || '',\r\n      telefono: usuario.telefono || '',\r\n      id_rol: usuario.id_rol?.toString() || '',\r\n      password: '',\r\n      password_confirmation: '',\r\n    });\r\n    setShowFormModal(true);\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setEditingUsuario(null);\r\n    setFormErrors({});\r\n    setFormData({\r\n      nombre: '',\r\n      apellido: '',\r\n      email: '',\r\n      cedula: '',\r\n      telefono: '',\r\n      id_rol: '',\r\n      password: '',\r\n      password_confirmation: '',\r\n    });\r\n  };\r\n\r\n  const validateForm = (): boolean => {\r\n    const errors: Record<string, string> = {};\r\n\r\n    if (!formData.nombre.trim()) {\r\n      errors.nombre = 'El nombre es requerido';\r\n    }\r\n    if (!formData.apellido.trim()) {\r\n      errors.apellido = 'El apellido es requerido';\r\n    }\r\n    if (!formData.email.trim()) {\r\n      errors.email = 'El email es requerido';\r\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\r\n      errors.email = 'El email no es válido';\r\n    }\r\n    if (!formData.id_rol) {\r\n      errors.id_rol = 'Debe seleccionar un rol';\r\n    }\r\n\r\n    // Validar contraseña solo si se está creando o si se ingresó una nueva\r\n    if (!editingUsuario || formData.password) {\r\n      if (!formData.password) {\r\n        errors.password = 'La contraseña es requerida';\r\n      } else if (formData.password.length < 8) {\r\n        errors.password = 'La contraseña debe tener al menos 8 caracteres';\r\n      }\r\n\r\n      if (!formData.password_confirmation) {\r\n        errors.password_confirmation = 'Debe confirmar la contraseña';\r\n      } else if (formData.password !== formData.password_confirmation) {\r\n        errors.password_confirmation = 'Las contraseñas no coinciden';\r\n      }\r\n    }\r\n\r\n    setFormErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    setIsSaving(true);\r\n    setFormErrors({});\r\n\r\n    try {\r\n      if (editingUsuario) {\r\n        const updatePayload: Partial<Usuario> & {\r\n          password?: string;\r\n          password_confirmation?: string;\r\n        } = {\r\n          nombre: formData.nombre,\r\n          apellido: formData.apellido,\r\n          email: formData.email,\r\n          cedula: formData.cedula,\r\n          telefono: formData.telefono,\r\n          id_rol: formData.id_rol ? Number(formData.id_rol) : undefined,\r\n        };\r\n        if (formData.password) {\r\n          updatePayload.password = formData.password;\r\n          updatePayload.password_confirmation = formData.password_confirmation;\r\n        }\r\n        await usuariosService.update(editingUsuario.id_usuario, updatePayload);\r\n      } else {\r\n        await usuariosService.create({\r\n          nombre: formData.nombre,\r\n          apellido: formData.apellido,\r\n          email: formData.email,\r\n          cedula: formData.cedula,\r\n          telefono: formData.telefono,\r\n          id_rol: formData.id_rol ? Number(formData.id_rol) : undefined,\r\n          password: formData.password,\r\n          password_confirmation: formData.password_confirmation,\r\n        });\r\n      }\r\n      setShowFormModal(false);\r\n      resetForm();\r\n      refetch();\r\n    } catch (error: any) {\r\n      console.error('Error:', error);\r\n\r\n      // Manejar errores de validación del backend\r\n      if (error.status === 422 && error.errors) {\r\n        const backendErrors: Record<string, string> = {};\r\n        Object.keys(error.errors).forEach((key) => {\r\n          backendErrors[key] = error.errors[key][0];\r\n        });\r\n        setFormErrors(backendErrors);\r\n      } else {\r\n        setFormErrors({\r\n          general:\r\n            error.message ||\r\n            'Error al guardar el usuario. Por favor verifica los datos.',\r\n        });\r\n      }\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      key: 'nombre',\r\n      header: 'Usuario',\r\n      sortable: true,\r\n      render: (item: Usuario) => (\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"w-8 h-8 bg-purple-50 rounded-lg flex items-center justify-center text-purple-600 text-sm font-medium\">\r\n            {item.nombre?.charAt(0)}\r\n          </div>\r\n          <div>\r\n            <p className=\"text-sm font-medium text-gray-900\">\r\n              {item.nombre} {item.apellido}\r\n            </p>\r\n            <p className=\"text-xs text-gray-400\">{item.email}</p>\r\n          </div>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      key: 'rol',\r\n      header: 'Rol',\r\n      render: (item: Usuario) => (\r\n        <span className=\"text-xs px-2 py-1 bg-blue-50 text-blue-600 rounded-full\">\r\n          {item.rol?.nombre || 'Sin rol'}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'cedula',\r\n      header: 'Cédula',\r\n      render: (item: Usuario) => (\r\n        <span className=\"text-sm text-gray-600\">{item.cedula || '-'}</span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'status',\r\n      header: 'Estado',\r\n      render: (item: Usuario) => (\r\n        <span\r\n          className={`text-xs px-2 py-1 rounded-full ${\r\n            item.status === 'activo'\r\n              ? 'bg-emerald-50 text-emerald-600'\r\n              : item.status === 'suspendido'\r\n                ? 'bg-red-50 text-red-600'\r\n                : 'bg-gray-100 text-gray-500'\r\n          }`}\r\n        >\r\n          {item.status === 'activo'\r\n            ? 'Activo'\r\n            : item.status === 'suspendido'\r\n              ? 'Suspendido'\r\n              : 'Inactivo'}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'acciones',\r\n      header: '',\r\n      render: (item: Usuario) => (\r\n        <div className=\"flex items-center justify-end gap-1\">\r\n          <button\r\n            onClick={() => {\r\n              setSelectedUsuario(item);\r\n              setShowModal(true);\r\n            }}\r\n            className=\"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n          >\r\n            <EyeIcon className=\"h-4 w-4\" />\r\n          </button>\r\n          <button\r\n            onClick={() => handleEdit(item)}\r\n            className=\"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\r\n          >\r\n            <PencilSquareIcon className=\"h-4 w-4\" />\r\n          </button>\r\n          <button\r\n            onClick={() => handleDelete(item.id_usuario)}\r\n            className=\"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\r\n          >\r\n            <TrashIcon className=\"h-4 w-4\" />\r\n          </button>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <DashboardLayout>\r\n      <div className=\"space-y-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-purple-50 rounded-lg\">\r\n              <UsersIcon className=\"h-5 w-5 text-purple-600\" />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-lg font-semibold text-gray-900\">Usuarios</h1>\r\n              <p className=\"text-xs text-gray-500\">{total} registros</p>\r\n            </div>\r\n          </div>\r\n          <Button\r\n            size=\"sm\"\r\n            onClick={() => {\r\n              resetForm();\r\n              setShowFormModal(true);\r\n            }}\r\n          >\r\n            <PlusIcon className=\"h-4 w-4 mr-1\" />\r\n            Nuevo\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-xl border border-gray-100 p-3\">\r\n          <div className=\"flex gap-3\">\r\n            <div className=\"relative flex-1\">\r\n              <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Buscar usuario...\"\r\n                value={search}\r\n                onChange={(e) => handleSearch(e.target.value)}\r\n                className=\"w-full pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500\"\r\n              />\r\n            </div>\r\n            <button\r\n              onClick={() => setShowFilters(!showFilters)}\r\n              className={`px-3 py-2 text-sm border rounded-lg flex items-center gap-2 transition-colors ${\r\n                showFilters\r\n                  ? 'bg-purple-50 border-purple-200 text-purple-600'\r\n                  : 'border-gray-200 text-gray-600 hover:bg-gray-50'\r\n              }`}\r\n            >\r\n              <FunnelIcon className=\"h-4 w-4\" />\r\n              Filtros\r\n            </button>\r\n          </div>\r\n          {showFilters && (\r\n            <div className=\"flex gap-3 mt-3 pt-3 border-t border-gray-100\">\r\n              <select\r\n                value={filters.status}\r\n                onChange={(e) =>\r\n                  setFilters({ ...filters, status: e.target.value })\r\n                }\r\n                className=\"px-3 py-2 text-sm border border-gray-200 rounded-lg\"\r\n              >\r\n                <option value=\"\">Todos los estados</option>\r\n                <option value=\"activo\">Activo</option>\r\n                <option value=\"inactivo\">Inactivo</option>\r\n                <option value=\"suspendido\">Suspendido</option>\r\n              </select>\r\n              <select\r\n                value={filters.id_rol}\r\n                onChange={(e) =>\r\n                  setFilters({ ...filters, id_rol: e.target.value })\r\n                }\r\n                className=\"px-3 py-2 text-sm border border-gray-200 rounded-lg\"\r\n              >\r\n                <option value=\"\">Todos los roles</option>\r\n                {roles.map((r) => (\r\n                  <option key={r.id_rol} value={r.id_rol}>\r\n                    {r.nombre}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              <button\r\n                onClick={() => setFilters({ status: '', id_rol: '' })}\r\n                className=\"text-sm text-gray-500 hover:text-gray-700\"\r\n              >\r\n                Limpiar\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-xl border border-gray-100 overflow-hidden\">\r\n          <Table\r\n            columns={columns}\r\n            data={data}\r\n            keyExtractor={(item) => item.id_usuario}\r\n            isLoading={isLoading}\r\n            onSort={handleSort}\r\n            sortBy={sortBy}\r\n            sortOrder={sortOrder}\r\n          />\r\n          <div className=\"border-t border-gray-100\">\r\n            <Pagination\r\n              page={page}\r\n              lastPage={lastPage}\r\n              total={total}\r\n              perPage={perPage}\r\n              onPageChange={goToPage}\r\n              onPerPageChange={changePerPage}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <Modal\r\n          isOpen={showModal}\r\n          onClose={() => setShowModal(false)}\r\n          title=\"Detalle del Usuario\"\r\n          size=\"lg\"\r\n        >\r\n          {selectedUsuario && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex items-center gap-4 pb-4 border-b border-gray-100\">\r\n                <div className=\"w-12 h-12 bg-purple-50 rounded-xl flex items-center justify-center text-purple-600 text-lg font-medium\">\r\n                  {selectedUsuario.nombre?.charAt(0)}\r\n                </div>\r\n                <div>\r\n                  <p className=\"font-medium text-gray-900\">\r\n                    {selectedUsuario.nombre} {selectedUsuario.apellido}\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    {selectedUsuario.email}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                <div>\r\n                  <p className=\"text-gray-400 text-xs mb-1\">Cédula</p>\r\n                  <p className=\"text-gray-900\">\r\n                    {selectedUsuario.cedula || '-'}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-gray-400 text-xs mb-1\">Teléfono</p>\r\n                  <p className=\"text-gray-900\">\r\n                    {selectedUsuario.telefono || '-'}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-gray-400 text-xs mb-1\">Rol</p>\r\n                  <p className=\"text-gray-900\">\r\n                    {selectedUsuario.rol?.nombre || '-'}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-gray-400 text-xs mb-1\">Estado</p>\r\n                  <span\r\n                    className={`text-xs px-2 py-1 rounded-full ${\r\n                      selectedUsuario.status === 'activo'\r\n                        ? 'bg-emerald-50 text-emerald-600'\r\n                        : selectedUsuario.status === 'suspendido'\r\n                          ? 'bg-red-50 text-red-600'\r\n                          : 'bg-gray-100 text-gray-500'\r\n                    }`}\r\n                  >\r\n                    {selectedUsuario.status === 'activo'\r\n                      ? 'Activo'\r\n                      : selectedUsuario.status === 'suspendido'\r\n                        ? 'Suspendido'\r\n                        : 'Inactivo'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"pt-4 border-t border-gray-100\">\r\n                <p className=\"text-gray-400 text-xs mb-2\">Cambiar Estado</p>\r\n                <select\r\n                  value={selectedUsuario.status}\r\n                  onChange={(e) =>\r\n                    handleCambiarEstado(\r\n                      selectedUsuario.id_usuario,\r\n                      e.target.value,\r\n                    )\r\n                  }\r\n                  className=\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500\"\r\n                >\r\n                  <option value=\"activo\">Activo</option>\r\n                  <option value=\"inactivo\">Inactivo</option>\r\n                  <option value=\"suspendido\">Suspendido</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Modal>\r\n\r\n        <Modal\r\n          isOpen={showFormModal}\r\n          onClose={() => setShowFormModal(false)}\r\n          title={`${editingUsuario ? 'Editar' : 'Nuevo'} Usuario`}\r\n          size=\"md\"\r\n        >\r\n          <form onSubmit={handleSubmit} className=\"space-y-3\">\r\n            {formErrors.general && (\r\n              <div className=\"p-3 bg-red-50 border border-red-200 rounded-lg\">\r\n                <p className=\"text-sm text-red-600\">{formErrors.general}</p>\r\n              </div>\r\n            )}\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                  Nombre\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.nombre}\r\n                  onChange={(e) => {\r\n                    setFormData({ ...formData, nombre: e.target.value });\r\n                    if (formErrors.nombre)\r\n                      setFormErrors({ ...formErrors, nombre: '' });\r\n                  }}\r\n                  className={`w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 ${\r\n                    formErrors.nombre\r\n                      ? 'border-red-300 bg-red-50'\r\n                      : 'border-gray-200'\r\n                  }`}\r\n                />\r\n                {formErrors.nombre && (\r\n                  <p className=\"text-xs text-red-600 mt-1\">\r\n                    {formErrors.nombre}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                  Apellido\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.apellido}\r\n                  onChange={(e) => {\r\n                    setFormData({ ...formData, apellido: e.target.value });\r\n                    if (formErrors.apellido)\r\n                      setFormErrors({ ...formErrors, apellido: '' });\r\n                  }}\r\n                  className={`w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 ${\r\n                    formErrors.apellido\r\n                      ? 'border-red-300 bg-red-50'\r\n                      : 'border-gray-200'\r\n                  }`}\r\n                />\r\n                {formErrors.apellido && (\r\n                  <p className=\"text-xs text-red-600 mt-1\">\r\n                    {formErrors.apellido}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                Email\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                value={formData.email}\r\n                onChange={(e) => {\r\n                  setFormData({ ...formData, email: e.target.value });\r\n                  if (formErrors.email)\r\n                    setFormErrors({ ...formErrors, email: '' });\r\n                }}\r\n                className={`w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 ${\r\n                  formErrors.email\r\n                    ? 'border-red-300 bg-red-50'\r\n                    : 'border-gray-200'\r\n                }`}\r\n              />\r\n              {formErrors.email && (\r\n                <p className=\"text-xs text-red-600 mt-1\">{formErrors.email}</p>\r\n              )}\r\n            </div>\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                  Cédula\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.cedula}\r\n                  onChange={(e) => {\r\n                    setFormData({ ...formData, cedula: e.target.value });\r\n                    if (formErrors.cedula)\r\n                      setFormErrors({ ...formErrors, cedula: '' });\r\n                  }}\r\n                  className={`w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 ${\r\n                    formErrors.cedula\r\n                      ? 'border-red-300 bg-red-50'\r\n                      : 'border-gray-200'\r\n                  }`}\r\n                />\r\n                {formErrors.cedula && (\r\n                  <p className=\"text-xs text-red-600 mt-1\">\r\n                    {formErrors.cedula}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                  Teléfono\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.telefono}\r\n                  onChange={(e) => {\r\n                    setFormData({ ...formData, telefono: e.target.value });\r\n                    if (formErrors.telefono)\r\n                      setFormErrors({ ...formErrors, telefono: '' });\r\n                  }}\r\n                  className={`w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 ${\r\n                    formErrors.telefono\r\n                      ? 'border-red-300 bg-red-50'\r\n                      : 'border-gray-200'\r\n                  }`}\r\n                />\r\n                {formErrors.telefono && (\r\n                  <p className=\"text-xs text-red-600 mt-1\">\r\n                    {formErrors.telefono}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                Rol\r\n              </label>\r\n              <select\r\n                value={formData.id_rol}\r\n                onChange={(e) => {\r\n                  setFormData({ ...formData, id_rol: e.target.value });\r\n                  if (formErrors.id_rol)\r\n                    setFormErrors({ ...formErrors, id_rol: '' });\r\n                }}\r\n                className={`w-full px-3 py-2 text-sm border rounded-lg ${\r\n                  formErrors.id_rol\r\n                    ? 'border-red-300 bg-red-50'\r\n                    : 'border-gray-200'\r\n                }`}\r\n              >\r\n                <option value=\"\">Seleccionar</option>\r\n                {roles.map((r) => (\r\n                  <option key={r.id_rol} value={r.id_rol}>\r\n                    {r.nombre}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              {formErrors.id_rol && (\r\n                <p className=\"text-xs text-red-600 mt-1\">{formErrors.id_rol}</p>\r\n              )}\r\n            </div>\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                  Contraseña {editingUsuario && '(opcional)'}\r\n                </label>\r\n                <input\r\n                  type=\"password\"\r\n                  value={formData.password}\r\n                  onChange={(e) => {\r\n                    setFormData({ ...formData, password: e.target.value });\r\n                    if (formErrors.password)\r\n                      setFormErrors({ ...formErrors, password: '' });\r\n                  }}\r\n                  className={`w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 ${\r\n                    formErrors.password\r\n                      ? 'border-red-300 bg-red-50'\r\n                      : 'border-gray-200'\r\n                  }`}\r\n                  placeholder=\"Mínimo 8 caracteres\"\r\n                />\r\n                {formErrors.password && (\r\n                  <p className=\"text-xs text-red-600 mt-1\">\r\n                    {formErrors.password}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                  Confirmar Contraseña\r\n                </label>\r\n                <input\r\n                  type=\"password\"\r\n                  value={formData.password_confirmation}\r\n                  onChange={(e) => {\r\n                    setFormData({\r\n                      ...formData,\r\n                      password_confirmation: e.target.value,\r\n                    });\r\n                    if (formErrors.password_confirmation)\r\n                      setFormErrors({\r\n                        ...formErrors,\r\n                        password_confirmation: '',\r\n                      });\r\n                  }}\r\n                  className={`w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 ${\r\n                    formErrors.password_confirmation\r\n                      ? 'border-red-300 bg-red-50'\r\n                      : 'border-gray-200'\r\n                  }`}\r\n                  placeholder=\"Confirmar contraseña\"\r\n                />\r\n                {formErrors.password_confirmation && (\r\n                  <p className=\"text-xs text-red-600 mt-1\">\r\n                    {formErrors.password_confirmation}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"flex justify-end gap-2 pt-3\">\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"secondary\"\r\n                size=\"sm\"\r\n                onClick={() => {\r\n                  setShowFormModal(false);\r\n                  resetForm();\r\n                }}\r\n                disabled={isSaving}\r\n              >\r\n                Cancelar\r\n              </Button>\r\n              <Button type=\"submit\" size=\"sm\" disabled={isSaving}>\r\n                {isSaving\r\n                  ? 'Guardando...'\r\n                  : editingUsuario\r\n                    ? 'Actualizar'\r\n                    : 'Crear'}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </Modal>\r\n\r\n        <ConfirmModal\r\n          isOpen={showDeleteModal}\r\n          onClose={() => setShowDeleteModal(false)}\r\n          onConfirm={confirmDelete}\r\n          title=\"¿Eliminar usuario?\"\r\n          message=\"Esta acción no se puede deshacer.\"\r\n          isLoading={isDeleting}\r\n        />\r\n      </div>\r\n    </DashboardLayout>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}