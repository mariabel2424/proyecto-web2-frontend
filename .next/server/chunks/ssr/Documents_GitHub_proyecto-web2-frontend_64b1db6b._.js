module.exports=[74891,a=>{"use strict";var b=a.i(98620);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});a.s(["TrashIcon",0,c],74891)},65513,a=>{"use strict";var b=a.i(98620);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});a.s(["PlusIcon",0,c],65513)},60407,a=>{"use strict";var b=a.i(98620);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))});a.s(["PencilSquareIcon",0,c],60407)},29869,a=>{"use strict";var b=a.i(98620);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});a.s(["MagnifyingGlassIcon",0,c],29869)},86166,a=>{"use strict";var b=a.i(98620);function c(a,d={}){let{initialPage:e=1,initialPerPage:f=10}=d,[g,h]=(0,b.useState)([]),[i,j]=(0,b.useState)(!0),[k,l]=(0,b.useState)(null),[m,n]=(0,b.useState)(e),[o,p]=(0,b.useState)(f),[q,r]=(0,b.useState)(0),[s,t]=(0,b.useState)(1),[u,v]=(0,b.useState)(""),[w,x]=(0,b.useState)(),[y,z]=(0,b.useState)("asc"),A=(0,b.useCallback)(async()=>{j(!0),l(null);try{let b=await a({page:m,per_page:o,search:u||void 0,sort_by:w,sort_order:y});h(Array.isArray(b.data)?b.data:[]),r(b.total||0),t(b.last_page||1)}catch(a){l(a instanceof Error?a.message:"Error al cargar datos"),h([])}finally{j(!1)}},[a,m,o,u,w,y]);(0,b.useEffect)(()=>{A()},[A]);let B=(0,b.useCallback)(a=>{n(Math.max(1,Math.min(a,s)))},[s]),C=(0,b.useCallback)(()=>{m<s&&n(a=>a+1)},[m,s]),D=(0,b.useCallback)(()=>{m>1&&n(a=>a-1)},[m]),E=(0,b.useCallback)(a=>{p(a),n(1)},[]),F=(0,b.useCallback)(a=>{v(a),n(1)},[]),G=(0,b.useCallback)(a=>{w===a?z(a=>"asc"===a?"desc":"asc"):(x(a),z("asc")),n(1)},[w]);return{data:g,isLoading:i,error:k,page:m,perPage:o,total:q,lastPage:s,search:u,sortBy:w,sortOrder:y,goToPage:B,nextPage:C,prevPage:D,changePerPage:E,handleSearch:F,handleSort:G,refetch:A}}a.s(["usePagination",()=>c])},11868,a=>{"use strict";var b=a.i(21652),c=a.i(34680);a.s(["categoriasService",0,{async getAll(){let{data:a}=await b.apiClient.get(c.API_ENDPOINTS.categorias);if(a&&"object"==typeof a&&"success"in a&&a.data){let b=a.data;return Array.isArray(b)?b:b.data||[]}return a&&"object"==typeof a&&"data"in a?a.data:Array.isArray(a)?a:[]},async getAllPaginated(a){let{data:d}=await b.apiClient.get(c.API_ENDPOINTS.categorias,a);if(d&&"object"==typeof d&&"success"in d&&d.data){let a=d.data;return Array.isArray(a)?{data:a,total:a.length,current_page:1,last_page:1,per_page:a.length,from:1,to:a.length}:a}return Array.isArray(d)?{data:d,total:d.length,current_page:1,last_page:1,per_page:d.length,from:1,to:d.length}:d},async getById(a){let{data:d}=await b.apiClient.get(`${c.API_ENDPOINTS.categorias}/${a}`);return d},async create(a){let{data:d}=await b.apiClient.post(c.API_ENDPOINTS.categorias,a);return d},async update(a,d){let{data:e}=await b.apiClient.put(`${c.API_ENDPOINTS.categorias}/${a}`,d);return e},async delete(a){await b.apiClient.delete(`${c.API_ENDPOINTS.categorias}/${a}`)}}])},59442,a=>{"use strict";var b=a.i(57692),c=a.i(98620);a.i(67360);var d=a.i(4656);a.i(95994);var e=a.i(77314),f=a.i(91419),g=a.i(60364),h=a.i(62664),i=a.i(72328),j=a.i(86166),k=a.i(11868),l=a.i(65513),m=a.i(29869),n=a.i(60407),o=a.i(74891);let p=c.forwardRef(function({title:a,titleId:b,...d},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":b},d),a?c.createElement("title",{id:b},a):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))});function q(){let[a,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)({nombre:"",edad_minima:"",edad_maxima:"",genero:"mixto",descripcion:""}),B=(0,c.useCallback)(a=>k.categoriasService.getAllPaginated(a),[]),{data:C,isLoading:D,page:E,perPage:F,total:G,lastPage:H,search:I,sortBy:J,sortOrder:K,goToPage:L,changePerPage:M,handleSearch:N,handleSort:O,refetch:P}=(0,j.usePagination)(B),Q=async a=>{a.preventDefault();try{let a=z.edad_minima?Number(z.edad_minima):void 0,b=z.edad_maxima?Number(z.edad_maxima):void 0;if(void 0!==a&&void 0!==b&&b<=a)return void alert("La edad máxima debe ser mayor que la edad mínima");if(!a||!b)return void alert("Las edades mínima y máxima son requeridas");let c={nombre:z.nombre,edad_minima:a,edad_maxima:b,genero:z.genero,descripcion:z.descripcion||void 0};x?await k.categoriasService.update(x.id_categoria,c):await k.categoriasService.create(c),q(!1),S(),P()}catch(a){console.error("Error guardando categoría:",a),alert("Error al guardar la categoría. Por favor verifica los datos.")}},R=async()=>{if(t){w(!0);try{await k.categoriasService.delete(t),P()}catch(a){console.error("Error:",a)}finally{w(!1),s(!1),u(null)}}},S=()=>{y(null),A({nombre:"",edad_minima:"",edad_maxima:"",genero:"mixto",descripcion:""})},T=[{key:"nombre",header:"Nombre",sortable:!0,render:a=>(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-6 h-6 bg-green-50 rounded flex items-center justify-center",children:(0,b.jsx)(p,{className:"h-3 w-3 text-green-600"})}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900",children:a.nombre})]})},{key:"edad_minima",header:"Edad Mín",render:a=>(0,b.jsx)("span",{className:"text-sm text-gray-600",children:a.edad_minima?`${a.edad_minima} a\xf1os`:"-"})},{key:"edad_maxima",header:"Edad Máx",render:a=>(0,b.jsx)("span",{className:"text-sm text-gray-600",children:a.edad_maxima?`${a.edad_maxima} a\xf1os`:"-"})},{key:"descripcion",header:"Descripción",render:a=>(0,b.jsx)("span",{className:"text-sm text-gray-500 line-clamp-1",children:a.descripcion||"-"})},{key:"acciones",header:"",render:a=>(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,b.jsx)("button",{onClick:()=>{y(a),A({nombre:a.nombre,edad_minima:a.edad_minima?.toString()||"",edad_maxima:a.edad_maxima?.toString()||"",genero:a.genero||"mixto",descripcion:a.descripcion||""}),q(!0)},className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:(0,b.jsx)(n.PencilSquareIcon,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>{u(a.id_categoria),s(!0)},className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,b.jsx)(o.TrashIcon,{className:"h-4 w-4"})})]})}];return(0,b.jsx)(d.DashboardLayout,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-50 rounded-lg",children:(0,b.jsx)(p,{className:"h-5 w-5 text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Categorías"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[G," registros"]})]})]}),(0,b.jsxs)(e.Button,{size:"sm",onClick:()=>{S(),q(!0)},children:[(0,b.jsx)(l.PlusIcon,{className:"h-4 w-4 mr-1"}),"Nueva"]})]}),(0,b.jsx)("div",{className:"bg-white rounded-xl border border-gray-100 p-3",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(m.MagnifyingGlassIcon,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Buscar categoría...",value:I,onChange:a=>N(a.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500"})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:[(0,b.jsx)(f.Table,{columns:T,data:C,keyExtractor:a=>a.id_categoria,isLoading:D,onSort:O,sortBy:J,sortOrder:K}),(0,b.jsx)("div",{className:"border-t border-gray-100",children:(0,b.jsx)(g.Pagination,{page:E,lastPage:H,total:G,perPage:F,onPageChange:L,onPerPageChange:M})})]}),(0,b.jsx)(h.Modal,{isOpen:a,onClose:()=>q(!1),title:`${x?"Editar":"Nueva"} Categor\xeda`,size:"md",children:(0,b.jsxs)("form",{onSubmit:Q,className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Nombre"}),(0,b.jsx)("input",{type:"text",value:z.nombre,onChange:a=>A({...z,nombre:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500",required:!0})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Edad Mínima *"}),(0,b.jsx)("input",{type:"number",min:"0",max:"100",value:z.edad_minima,onChange:a=>A({...z,edad_minima:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500",placeholder:"Ej: 5",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Edad Máxima *"}),(0,b.jsx)("input",{type:"number",min:"0",max:"100",value:z.edad_maxima,onChange:a=>A({...z,edad_maxima:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500",placeholder:"Ej: 12",required:!0})]})]}),z.edad_minima&&z.edad_maxima&&Number(z.edad_maxima)<=Number(z.edad_minima)&&(0,b.jsx)("div",{className:"text-xs text-red-600 bg-red-50 px-3 py-2 rounded-lg",children:"La edad máxima debe ser mayor que la edad mínima"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Género *"}),(0,b.jsxs)("select",{value:z.genero,onChange:a=>A({...z,genero:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500",required:!0,children:[(0,b.jsx)("option",{value:"mixto",children:"Mixto"}),(0,b.jsx)("option",{value:"masculino",children:"Masculino"}),(0,b.jsx)("option",{value:"femenino",children:"Femenino"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Descripción"}),(0,b.jsx)("textarea",{value:z.descripcion,onChange:a=>A({...z,descripcion:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500",rows:2})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,b.jsx)(e.Button,{type:"button",variant:"secondary",size:"sm",onClick:()=>q(!1),children:"Cancelar"}),(0,b.jsx)(e.Button,{type:"submit",size:"sm",children:x?"Actualizar":"Crear"})]})]})}),(0,b.jsx)(i.ConfirmModal,{isOpen:r,onClose:()=>s(!1),onConfirm:R,title:"¿Eliminar categoría?",message:"Esta acción no se puede deshacer.",isLoading:v})]})})}a.s(["default",()=>q],59442)}];

//# sourceMappingURL=Documents_GitHub_proyecto-web2-frontend_64b1db6b._.js.map