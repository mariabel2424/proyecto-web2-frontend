{"version":3,"sources":["../../../../../../../Documents/GitHub/proyecto-web2-frontend/src/app/%28dashboard%29/finanzas/facturas/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useCallback, useEffect } from 'react';\r\nimport { DashboardLayout } from '@/components/layout';\r\nimport {\r\n  Button,\r\n  Table,\r\n  Pagination,\r\n  Modal,\r\n  ConfirmModal,\r\n} from '@/components/ui';\r\nimport { usePagination } from '@/hooks/usePagination';\r\nimport { facturasService, pagosService } from '@/services/finanzas.service';\r\nimport { usuariosService } from '@/services/usuarios.service';\r\nimport type { Factura, Usuario } from '@/types';\r\nimport {\r\n  PlusIcon,\r\n  MagnifyingGlassIcon,\r\n  EyeIcon,\r\n  PencilSquareIcon,\r\n  TrashIcon,\r\n  DocumentTextIcon,\r\n  CreditCardIcon,\r\n  FunnelIcon,\r\n  ArrowDownTrayIcon,\r\n  PhotoIcon,\r\n} from '@heroicons/react/24/outline';\r\n\r\nexport default function FacturasPage() {\r\n  const [tutores, setTutores] = useState<Usuario[]>([]);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [showFormModal, setShowFormModal] = useState(false);\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [showEstadoModal, setShowEstadoModal] = useState(false);\r\n  const [selectedFactura, setSelectedFactura] = useState<Factura | null>(null);\r\n  const [editingFactura, setEditingFactura] = useState<Factura | null>(null);\r\n  const [deleteId, setDeleteId] = useState<number | null>(null);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [isChangingEstado, setIsChangingEstado] = useState(false);\r\n  const [isApprovingPayment, setIsApprovingPayment] = useState(false);\r\n  const [filters, setFilters] = useState({ estado: '' });\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    numero_factura: '',\r\n    concepto: '',\r\n    id_tutor: '',\r\n    id_deportista: '',\r\n    subtotal: '',\r\n    descuento: '',\r\n    impuesto: '',\r\n    fecha_emision: '',\r\n    fecha_vencimiento: '',\r\n    detalles: [] as any[],\r\n  });\r\n\r\n  useEffect(() => {\r\n    usuariosService\r\n      .getAll({ per_page: 1000, rol: 'tutor' })\r\n      .then((res: any) => {\r\n        let tutoresData: Usuario[] = [];\r\n        if (res?.data && Array.isArray(res.data)) {\r\n          tutoresData = res.data;\r\n        } else if (Array.isArray(res)) {\r\n          tutoresData = res;\r\n        }\r\n        setTutores(tutoresData);\r\n      })\r\n      .catch((err) => {\r\n        console.error('Error cargando tutores:', err);\r\n        setTutores([]);\r\n      });\r\n  }, []);\r\n\r\n  const fetchFacturas = useCallback(\r\n    (params: Parameters<typeof facturasService.getAll>[0]) =>\r\n      facturasService.getAll({ ...params, ...filters }),\r\n    [filters],\r\n  );\r\n\r\n  const {\r\n    data,\r\n    isLoading,\r\n    page,\r\n    perPage,\r\n    total,\r\n    lastPage,\r\n    search,\r\n    sortBy,\r\n    sortOrder,\r\n    goToPage,\r\n    changePerPage,\r\n    handleSearch,\r\n    handleSort,\r\n    refetch,\r\n  } = usePagination<Factura>(fetchFacturas);\r\n\r\n  // Calcular estadísticas dinámicas\r\n  const totalFacturado = data.reduce((sum, f) => sum + Number(f.total || 0), 0);\r\n  const totalPagadas = data\r\n    .filter((f) => f.estado === 'pagada')\r\n    .reduce((sum, f) => sum + Number(f.total || 0), 0);\r\n  const totalPendientes = data\r\n    .filter((f) => f.estado === 'pendiente')\r\n    .reduce((sum, f) => sum + Number(f.total || 0), 0);\r\n  const totalVencidas = data\r\n    .filter((f) => f.estado === 'vencida')\r\n    .reduce((sum, f) => sum + Number(f.total || 0), 0);\r\n\r\n  const handleDelete = (id: number) => {\r\n    setDeleteId(id);\r\n    setShowDeleteModal(true);\r\n  };\r\n\r\n  const handleMarcarPagada = async (factura: Factura) => {\r\n    if (factura.estado !== 'pendiente') return;\r\n    try {\r\n      await facturasService.cambiarEstado(factura.id_factura, 'pagada');\r\n      refetch();\r\n    } catch (error) {\r\n      console.error('Error al marcar como pagada:', error);\r\n    }\r\n  };\r\n\r\n  // Aprobar pago desde inscripción (crear registro de Pago)\r\n  const handleAprobarPagoInscripcion = async (\r\n    facturaId: number,\r\n    monto: number,\r\n    metodoPago: string,\r\n    referencia?: string,\r\n    comprobanteUrl?: string,\r\n  ) => {\r\n    if (!confirm('¿Aprobar este pago y marcar la factura como pagada?')) return;\r\n    setIsApprovingPayment(true);\r\n    try {\r\n      // Registrar el pago con el comprobante\r\n      await facturasService.registrarPago(facturaId, {\r\n        monto,\r\n        fecha_pago: new Date().toISOString().split('T')[0],\r\n        metodo_pago: metodoPago as\r\n          | 'efectivo'\r\n          | 'transferencia'\r\n          | 'tarjeta'\r\n          | 'cheque'\r\n          | 'otro',\r\n        referencia: referencia || undefined,\r\n        observaciones: comprobanteUrl\r\n          ? `Comprobante: ${comprobanteUrl}`\r\n          : undefined,\r\n      });\r\n\r\n      // El backend automáticamente cambiará el estado de la factura a 'pagada'\r\n      setShowModal(false);\r\n      refetch();\r\n      alert('Pago aprobado exitosamente');\r\n    } catch (error: any) {\r\n      console.error('Error al aprobar pago:', error);\r\n      alert(error.message || 'Error al aprobar el pago');\r\n    } finally {\r\n      setIsApprovingPayment(false);\r\n    }\r\n  };\r\n\r\n  // Rechazar pago desde inscripción\r\n  const handleRechazarPagoInscripcion = async (facturaId: number) => {\r\n    const motivo = prompt(\r\n      'Ingrese el motivo del rechazo (se notificará al usuario):',\r\n    );\r\n    if (!motivo) return;\r\n    setIsApprovingPayment(true);\r\n    try {\r\n      // Actualizar observaciones de la factura con el motivo del rechazo\r\n      await facturasService.update(facturaId, {\r\n        observaciones: `Pago rechazado: ${motivo}`,\r\n      });\r\n      alert('Pago rechazado. Se notificará al usuario.');\r\n      setShowModal(false);\r\n      refetch();\r\n    } catch (error: any) {\r\n      console.error('Error al rechazar pago:', error);\r\n      alert(error.message || 'Error al rechazar el pago');\r\n    } finally {\r\n      setIsApprovingPayment(false);\r\n    }\r\n  };\r\n\r\n  // Aprobar pago existente (verificar Pago record)\r\n  const handleAprobarPago = async (pagoId: number) => {\r\n    if (!confirm('¿Verificar este pago?')) return;\r\n    setIsApprovingPayment(true);\r\n    try {\r\n      await pagosService.verificar(pagoId);\r\n      setShowModal(false);\r\n      refetch();\r\n      alert('Pago verificado exitosamente');\r\n    } catch (error: any) {\r\n      console.error('Error al verificar pago:', error);\r\n      alert(error.message || 'Error al verificar el pago');\r\n    } finally {\r\n      setIsApprovingPayment(false);\r\n    }\r\n  };\r\n\r\n  // Rechazar pago existente\r\n  const handleRechazarPago = async (pagoId: number) => {\r\n    const motivo = prompt('Ingrese el motivo del rechazo:');\r\n    if (!motivo) return;\r\n    setIsApprovingPayment(true);\r\n    try {\r\n      await pagosService.rechazar(pagoId, motivo);\r\n      alert('Pago rechazado.');\r\n      setShowModal(false);\r\n      refetch();\r\n    } catch (error: any) {\r\n      console.error('Error al rechazar pago:', error);\r\n      alert(error.message || 'Error al rechazar el pago');\r\n    } finally {\r\n      setIsApprovingPayment(false);\r\n    }\r\n  };\r\n\r\n  const handleDescargarPDF = (factura: Factura) => {\r\n    // Crear contenido HTML para el PDF\r\n    const contenido = `\r\n      <!DOCTYPE html>\r\n      <html>\r\n      <head>\r\n        <meta charset=\"utf-8\">\r\n        <title>Factura ${factura.numero_factura || factura.id_factura}</title>\r\n        <style>\r\n          body { font-family: Arial, sans-serif; padding: 40px; color: #333; }\r\n          .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #4f46e5; padding-bottom: 20px; }\r\n          .header h1 { color: #4f46e5; margin: 0; font-size: 28px; }\r\n          .header p { margin: 5px 0; color: #666; }\r\n          .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }\r\n          .info-box { background: #f9fafb; padding: 15px; border-radius: 8px; }\r\n          .info-box h3 { margin: 0 0 10px 0; font-size: 14px; color: #6b7280; text-transform: uppercase; }\r\n          .info-box p { margin: 5px 0; font-size: 14px; }\r\n          .estado { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: 600; }\r\n          .estado-pagada { background: #d1fae5; color: #065f46; }\r\n          .estado-pendiente { background: #fef3c7; color: #92400e; }\r\n          .estado-vencida { background: #fee2e2; color: #991b1b; }\r\n          .totales { margin-top: 30px; border-top: 1px solid #e5e7eb; padding-top: 20px; }\r\n          .total-row { display: flex; justify-content: space-between; padding: 8px 0; font-size: 14px; }\r\n          .total-row.final { font-size: 18px; font-weight: bold; border-top: 2px solid #333; margin-top: 10px; padding-top: 15px; }\r\n          .footer { margin-top: 40px; text-align: center; font-size: 12px; color: #9ca3af; }\r\n        </style>\r\n      </head>\r\n      <body>\r\n        <div class=\"header\">\r\n          <h1>FACTURA</h1>\r\n          <p><strong>N° ${\r\n            factura.numero_factura || 'FAC-' + factura.id_factura\r\n          }</strong></p>\r\n          <p>Cursos Vacacionales</p>\r\n        </div>\r\n        \r\n        <div class=\"info-grid\">\r\n          <div class=\"info-box\">\r\n            <h3>Datos del Cliente</h3>\r\n            <p><strong>${\r\n              factura.tutor\r\n                ? `${factura.tutor.nombre} ${factura.tutor.apellido}`\r\n                : factura.usuario?.nombre || 'N/A'\r\n            }</strong></p>\r\n            <p>${factura.tutor?.email || factura.usuario?.email || ''}</p>\r\n          </div>\r\n          <div class=\"info-box\">\r\n            <h3>Datos de la Factura</h3>\r\n            <p><strong>Fecha:</strong> ${factura.fecha_emision || 'N/A'}</p>\r\n            <p><strong>Vencimiento:</strong> ${\r\n              factura.fecha_vencimiento || 'N/A'\r\n            }</p>\r\n            <p><strong>Estado:</strong> <span class=\"estado estado-${\r\n              factura.estado\r\n            }\">${factura.estado?.toUpperCase()}</span></p>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"info-box\">\r\n          <h3>Concepto</h3>\r\n          <p>${factura.concepto || 'Inscripción a curso vacacional'}</p>\r\n        </div>\r\n\r\n        <div class=\"totales\">\r\n          <div class=\"total-row\">\r\n            <span>Subtotal:</span>\r\n            <span>$${Number(factura.subtotal || 0).toFixed(2)}</span>\r\n          </div>\r\n          ${\r\n            factura.descuento\r\n              ? `\r\n          <div class=\"total-row\" style=\"color: #059669;\">\r\n            <span>Descuento:</span>\r\n            <span>-$${Number(factura.descuento).toFixed(2)}</span>\r\n          </div>\r\n          `\r\n              : ''\r\n          }\r\n          ${\r\n            factura.impuesto\r\n              ? `\r\n          <div class=\"total-row\">\r\n            <span>Impuesto:</span>\r\n            <span>$${Number(factura.impuesto).toFixed(2)}</span>\r\n          </div>\r\n          `\r\n              : ''\r\n          }\r\n          <div class=\"total-row final\">\r\n            <span>TOTAL:</span>\r\n            <span>$${Number(factura.total || 0).toFixed(2)}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"footer\">\r\n          <p>Gracias por su preferencia</p>\r\n          <p>Documento generado el ${new Date().toLocaleDateString('es-EC', {\r\n            timeZone: 'America/Guayaquil',\r\n          })}</p>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `;\r\n\r\n    // Abrir ventana de impresión\r\n    const ventana = window.open('', '_blank');\r\n    if (ventana) {\r\n      ventana.document.write(contenido);\r\n      ventana.document.close();\r\n      ventana.print();\r\n    }\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    if (!deleteId) return;\r\n    setIsDeleting(true);\r\n    try {\r\n      await facturasService.delete(deleteId);\r\n      refetch();\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n    } finally {\r\n      setIsDeleting(false);\r\n      setShowDeleteModal(false);\r\n      setDeleteId(null);\r\n    }\r\n  };\r\n\r\n  const handleCambiarEstado = (factura: Factura) => {\r\n    setSelectedFactura(factura);\r\n    setShowEstadoModal(true);\r\n  };\r\n\r\n  const confirmCambiarEstado = async (\r\n    nuevoEstado: 'pendiente' | 'pagada' | 'vencida' | 'cancelada',\r\n  ) => {\r\n    if (!selectedFactura) return;\r\n    setIsChangingEstado(true);\r\n    try {\r\n      await facturasService.cambiarEstado(\r\n        selectedFactura.id_factura,\r\n        nuevoEstado,\r\n      );\r\n      refetch();\r\n      setShowEstadoModal(false);\r\n      setSelectedFactura(null);\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n    } finally {\r\n      setIsChangingEstado(false);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (factura: Factura) => {\r\n    setEditingFactura(factura);\r\n    setFormData({\r\n      numero_factura: factura.numero_factura || '',\r\n      concepto: factura.concepto || '',\r\n      id_tutor: factura.id_tutor?.toString() || '',\r\n      id_deportista: factura.id_deportista?.toString() || '',\r\n      subtotal: factura.subtotal?.toString() || '',\r\n      descuento: factura.descuento?.toString() || '',\r\n      impuesto: factura.impuesto?.toString() || '',\r\n      fecha_emision: factura.fecha_emision || '',\r\n      fecha_vencimiento: factura.fecha_vencimiento || '',\r\n      detalles: [],\r\n    });\r\n    setShowFormModal(true);\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setEditingFactura(null);\r\n    setFormData({\r\n      numero_factura: '',\r\n      concepto: '',\r\n      id_tutor: '',\r\n      id_deportista: '',\r\n      subtotal: '',\r\n      descuento: '',\r\n      impuesto: '',\r\n      fecha_emision: '',\r\n      fecha_vencimiento: '',\r\n      detalles: [],\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    try {\r\n      const payload = {\r\n        numero_factura: formData.numero_factura,\r\n        concepto: formData.concepto,\r\n        id_tutor: formData.id_tutor ? Number(formData.id_tutor) : undefined,\r\n        subtotal: Number(formData.subtotal),\r\n        descuento: formData.descuento ? Number(formData.descuento) : 0,\r\n        impuesto: formData.impuesto ? Number(formData.impuesto) : 0,\r\n        fecha_emision: formData.fecha_emision,\r\n        fecha_vencimiento: formData.fecha_vencimiento,\r\n      };\r\n      if (editingFactura) {\r\n        await facturasService.update(editingFactura.id_factura, payload as any);\r\n      } else {\r\n        await facturasService.create(payload as any);\r\n      }\r\n      setShowFormModal(false);\r\n      resetForm();\r\n      refetch();\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      key: 'numero_factura',\r\n      header: 'Número',\r\n      sortable: true,\r\n      render: (item: Factura) => (\r\n        <span className=\"text-sm font-medium text-gray-900\">\r\n          {item.numero_factura}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'cliente',\r\n      header: 'Cliente',\r\n      render: (item: Factura) => (\r\n        <span className=\"text-sm text-gray-600\">\r\n          {item.tutor\r\n            ? `${item.tutor.nombre} ${item.tutor.apellido}`\r\n            : item.usuario?.nombre || '-'}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'concepto',\r\n      header: 'Concepto',\r\n      render: (item: Factura) => (\r\n        <span className=\"text-sm text-gray-600 line-clamp-1\">\r\n          {item.concepto}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'total',\r\n      header: 'Total',\r\n      sortable: true,\r\n      render: (item: Factura) => (\r\n        <span className=\"text-sm font-medium text-gray-900\">\r\n          ${Number(item.total || 0).toFixed(2)}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'fecha_emision',\r\n      header: 'Fecha',\r\n      sortable: true,\r\n      render: (item: Factura) => (\r\n        <span className=\"text-sm text-gray-600\">{item.fecha_emision}</span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'estado',\r\n      header: 'Estado',\r\n      render: (item: Factura) => (\r\n        <div className=\"flex items-center gap-2\">\r\n          <span\r\n            className={`text-xs px-2 py-1 rounded-full ${\r\n              item.estado === 'pagada'\r\n                ? 'bg-emerald-50 text-emerald-600'\r\n                : item.estado === 'pendiente'\r\n                  ? 'bg-amber-50 text-amber-600'\r\n                  : 'bg-red-50 text-red-600'\r\n            }`}\r\n          >\r\n            {item.estado === 'pagada'\r\n              ? 'Pagada'\r\n              : item.estado === 'pendiente'\r\n                ? 'Pendiente'\r\n                : 'Vencida'}\r\n          </span>\r\n          {item.estado === 'pendiente' &&\r\n            item.pagos &&\r\n            item.pagos.length > 0 &&\r\n            item.pagos.some(\r\n              (p) => p.estado === 'pendiente' && p.comprobante,\r\n            ) && (\r\n              <span className=\"relative flex h-2 w-2\">\r\n                <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75\"></span>\r\n                <span\r\n                  className=\"relative inline-flex rounded-full h-2 w-2 bg-blue-500\"\r\n                  title=\"Comprobante pendiente de revisión\"\r\n                ></span>\r\n              </span>\r\n            )}\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      key: 'acciones',\r\n      header: '',\r\n      render: (item: Factura) => (\r\n        <div className=\"flex items-center justify-end gap-1\">\r\n          <button\r\n            onClick={() => {\r\n              setSelectedFactura(item);\r\n              setShowModal(true);\r\n            }}\r\n            className=\"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n            title=\"Ver detalle\"\r\n          >\r\n            <EyeIcon className=\"h-4 w-4\" />\r\n          </button>\r\n          <button\r\n            onClick={() => handleDescargarPDF(item)}\r\n            className=\"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors\"\r\n            title=\"Descargar PDF\"\r\n          >\r\n            <ArrowDownTrayIcon className=\"h-4 w-4\" />\r\n          </button>\r\n          {item.estado === 'pendiente' && (\r\n            <button\r\n              onClick={() => handleMarcarPagada(item)}\r\n              title=\"Marcar como pagada\"\r\n              className=\"p-1.5 text-gray-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors\"\r\n            >\r\n              <CreditCardIcon className=\"h-4 w-4\" />\r\n            </button>\r\n          )}\r\n          <button\r\n            onClick={() => handleEdit(item)}\r\n            className=\"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\r\n            title=\"Editar\"\r\n          >\r\n            <PencilSquareIcon className=\"h-4 w-4\" />\r\n          </button>\r\n          <button\r\n            onClick={() => handleDelete(item.id_factura)}\r\n            className=\"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\r\n            title=\"Eliminar\"\r\n          >\r\n            <TrashIcon className=\"h-4 w-4\" />\r\n          </button>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <DashboardLayout>\r\n      <div className=\"space-y-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-blue-50 rounded-lg\">\r\n              <DocumentTextIcon className=\"h-5 w-5 text-blue-600\" />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-lg font-semibold text-gray-900\">Facturas</h1>\r\n              <p className=\"text-xs text-gray-500\">{total} registros</p>\r\n            </div>\r\n          </div>\r\n          <Button\r\n            size=\"sm\"\r\n            onClick={() => {\r\n              resetForm();\r\n              setShowFormModal(true);\r\n            }}\r\n          >\r\n            <PlusIcon className=\"h-4 w-4 mr-1\" />\r\n            Nueva\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Estadísticas */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n          <div className=\"bg-white rounded-xl border border-gray-100 p-4\">\r\n            <p className=\"text-xs text-gray-500\">Total Facturado</p>\r\n            <p className=\"text-lg font-semibold text-gray-900\">\r\n              $\r\n              {data\r\n                .reduce((sum, f) => sum + Number(f.total || 0), 0)\r\n                .toFixed(2)}\r\n            </p>\r\n          </div>\r\n          <div className=\"bg-white rounded-xl border border-gray-100 p-4\">\r\n            <p className=\"text-xs text-gray-500\">Pagadas</p>\r\n            <p className=\"text-lg font-semibold text-emerald-600\">\r\n              $\r\n              {data\r\n                .filter((f) => f.estado === 'pagada')\r\n                .reduce((sum, f) => sum + Number(f.total || 0), 0)\r\n                .toFixed(2)}\r\n            </p>\r\n          </div>\r\n          <div className=\"bg-white rounded-xl border border-gray-100 p-4\">\r\n            <p className=\"text-xs text-gray-500\">Pendientes</p>\r\n            <p className=\"text-lg font-semibold text-amber-600\">\r\n              $\r\n              {data\r\n                .filter((f) => f.estado === 'pendiente')\r\n                .reduce((sum, f) => sum + Number(f.total || 0), 0)\r\n                .toFixed(2)}\r\n            </p>\r\n          </div>\r\n          <div className=\"bg-white rounded-xl border border-gray-100 p-4\">\r\n            <p className=\"text-xs text-gray-500\">Vencidas</p>\r\n            <p className=\"text-lg font-semibold text-red-600\">\r\n              $\r\n              {data\r\n                .filter((f) => f.estado === 'vencida')\r\n                .reduce((sum, f) => sum + Number(f.total || 0), 0)\r\n                .toFixed(2)}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-xl border border-gray-100 p-3\">\r\n          <div className=\"flex gap-3\">\r\n            <div className=\"relative flex-1\">\r\n              <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Buscar factura...\"\r\n                value={search}\r\n                onChange={(e) => handleSearch(e.target.value)}\r\n                className=\"w-full pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500\"\r\n              />\r\n            </div>\r\n            <button\r\n              onClick={() => setShowFilters(!showFilters)}\r\n              className={`px-3 py-2 text-sm border rounded-lg flex items-center gap-2 transition-colors ${\r\n                showFilters\r\n                  ? 'bg-blue-50 border-blue-200 text-blue-600'\r\n                  : 'border-gray-200 text-gray-600 hover:bg-gray-50'\r\n              }`}\r\n            >\r\n              <FunnelIcon className=\"h-4 w-4\" />\r\n              Filtros\r\n            </button>\r\n          </div>\r\n          {showFilters && (\r\n            <div className=\"flex gap-3 mt-3 pt-3 border-t border-gray-100\">\r\n              <select\r\n                value={filters.estado}\r\n                onChange={(e) =>\r\n                  setFilters({ ...filters, estado: e.target.value })\r\n                }\r\n                className=\"px-3 py-2 text-sm border border-gray-200 rounded-lg\"\r\n              >\r\n                <option value=\"\">Todos los estados</option>\r\n                <option value=\"pagada\">Pagada</option>\r\n                <option value=\"pendiente\">Pendiente</option>\r\n                <option value=\"vencida\">Vencida</option>\r\n              </select>\r\n              <button\r\n                onClick={() => setFilters({ estado: '' })}\r\n                className=\"text-sm text-gray-500 hover:text-gray-700\"\r\n              >\r\n                Limpiar\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-xl border border-gray-100 overflow-hidden\">\r\n          <Table\r\n            columns={columns}\r\n            data={data}\r\n            keyExtractor={(item) => item.id_factura}\r\n            isLoading={isLoading}\r\n            onSort={handleSort}\r\n            sortBy={sortBy}\r\n            sortOrder={sortOrder}\r\n          />\r\n          <div className=\"border-t border-gray-100\">\r\n            <Pagination\r\n              page={page}\r\n              lastPage={lastPage}\r\n              total={total}\r\n              perPage={perPage}\r\n              onPageChange={goToPage}\r\n              onPerPageChange={changePerPage}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <Modal\r\n          isOpen={showModal}\r\n          onClose={() => setShowModal(false)}\r\n          title={`Factura ${selectedFactura?.numero_factura}`}\r\n          size=\"lg\"\r\n        >\r\n          {selectedFactura && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                <div>\r\n                  <p className=\"text-gray-400 text-xs mb-1\">Cliente</p>\r\n                  <p className=\"text-gray-900\">\r\n                    {selectedFactura.tutor\r\n                      ? `${selectedFactura.tutor.nombre} ${selectedFactura.tutor.apellido}`\r\n                      : selectedFactura.usuario?.nombre || '-'}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-gray-400 text-xs mb-1\">Estado</p>\r\n                  <span\r\n                    className={`text-xs px-2 py-1 rounded-full ${\r\n                      selectedFactura.estado === 'pagada'\r\n                        ? 'bg-emerald-50 text-emerald-600'\r\n                        : selectedFactura.estado === 'pendiente'\r\n                          ? 'bg-amber-50 text-amber-600'\r\n                          : 'bg-red-50 text-red-600'\r\n                    }`}\r\n                  >\r\n                    {selectedFactura.estado === 'pagada'\r\n                      ? 'Pagada'\r\n                      : selectedFactura.estado === 'pendiente'\r\n                        ? 'Pendiente'\r\n                        : 'Vencida'}\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-gray-400 text-xs mb-1\">Fecha Emisión</p>\r\n                  <p className=\"text-gray-900\">\r\n                    {selectedFactura.fecha_emision}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-gray-400 text-xs mb-1\">\r\n                    Fecha Vencimiento\r\n                  </p>\r\n                  <p className=\"text-gray-900\">\r\n                    {selectedFactura.fecha_vencimiento || '-'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Comprobante de pago de la inscripción (pendiente de aprobación) */}\r\n              {selectedFactura.inscripcion?.observaciones &&\r\n                selectedFactura.inscripcion.observaciones.includes(\r\n                  'Comprobante:',\r\n                ) &&\r\n                selectedFactura.estado === 'pendiente' &&\r\n                (!selectedFactura.pagos ||\r\n                  selectedFactura.pagos.length === 0) && (\r\n                  <div className=\"pt-4 border-t border-gray-100\">\r\n                    <div className=\"bg-amber-50 border border-amber-200 rounded-lg p-4 space-y-3\">\r\n                      <div className=\"flex items-center gap-2 text-amber-800\">\r\n                        <PhotoIcon className=\"h-5 w-5\" />\r\n                        <span className=\"font-medium\">\r\n                          Comprobante de Pago Pendiente de Aprobación\r\n                        </span>\r\n                      </div>\r\n\r\n                      {(() => {\r\n                        const observaciones =\r\n                          selectedFactura.inscripcion.observaciones;\r\n                        const comprobanteMatch =\r\n                          observaciones.match(/Comprobante:\\s*(\\S+)/);\r\n                        const metodoMatch =\r\n                          observaciones.match(/Método:\\s*([^-]+)/);\r\n                        const refMatch = observaciones.match(/Ref:\\s*([^-]+)/);\r\n                        const comprobanteUrl = comprobanteMatch?.[1];\r\n                        const metodo = metodoMatch?.[1]?.trim();\r\n                        const referencia = refMatch?.[1]?.trim();\r\n\r\n                        return (\r\n                          <>\r\n                            {/* Información del pago */}\r\n                            <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                              <div>\r\n                                <span className=\"text-gray-600\">Monto:</span>\r\n                                <p className=\"font-medium\">\r\n                                  $\r\n                                  {Number(selectedFactura.total || 0).toFixed(\r\n                                    2,\r\n                                  )}\r\n                                </p>\r\n                              </div>\r\n                              <div>\r\n                                <span className=\"text-gray-600\">Método:</span>\r\n                                <p className=\"font-medium capitalize\">\r\n                                  {metodo || 'No especificado'}\r\n                                </p>\r\n                              </div>\r\n                              {referencia && referencia !== 'N/A' && (\r\n                                <div className=\"col-span-2\">\r\n                                  <span className=\"text-gray-600\">\r\n                                    Referencia:\r\n                                  </span>\r\n                                  <p className=\"font-medium\">{referencia}</p>\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n\r\n                            {/* Imagen del comprobante */}\r\n                            {comprobanteUrl && (\r\n                              <div>\r\n                                <span className=\"text-sm text-gray-600 block mb-2\">\r\n                                  Comprobante adjunto:\r\n                                </span>\r\n                                <div className=\"relative border-2 border-amber-300 rounded-lg overflow-hidden bg-white\">\r\n                                  <img\r\n                                    src={comprobanteUrl}\r\n                                    alt=\"Comprobante de pago\"\r\n                                    className=\"w-full h-64 object-contain cursor-pointer hover:opacity-90 transition-opacity\"\r\n                                    onClick={() =>\r\n                                      window.open(comprobanteUrl, '_blank')\r\n                                    }\r\n                                  />\r\n                                  <div className=\"absolute top-2 right-2\">\r\n                                    <button\r\n                                      onClick={() =>\r\n                                        window.open(comprobanteUrl, '_blank')\r\n                                      }\r\n                                      className=\"p-2 bg-white rounded-full shadow-md hover:bg-gray-50 transition-colors\"\r\n                                      title=\"Ver en tamaño completo\"\r\n                                    >\r\n                                      <PhotoIcon className=\"h-5 w-5 text-gray-600\" />\r\n                                    </button>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Botones de acción */}\r\n                            <div className=\"flex gap-2 pt-2 border-t border-amber-200\">\r\n                              <Button\r\n                                size=\"sm\"\r\n                                onClick={() =>\r\n                                  handleAprobarPagoInscripcion(\r\n                                    selectedFactura.id_factura,\r\n                                    selectedFactura.total,\r\n                                    metodo || 'transferencia',\r\n                                    referencia,\r\n                                    comprobanteUrl,\r\n                                  )\r\n                                }\r\n                                disabled={isApprovingPayment}\r\n                                className=\"flex-1\"\r\n                              >\r\n                                {isApprovingPayment\r\n                                  ? 'Aprobando...'\r\n                                  : 'Aprobar Pago'}\r\n                              </Button>\r\n                              <Button\r\n                                size=\"sm\"\r\n                                variant=\"secondary\"\r\n                                onClick={() =>\r\n                                  handleRechazarPagoInscripcion(\r\n                                    selectedFactura.id_factura,\r\n                                  )\r\n                                }\r\n                                disabled={isApprovingPayment}\r\n                                className=\"flex-1 bg-red-50 text-red-600 hover:bg-red-100\"\r\n                              >\r\n                                Rechazar\r\n                              </Button>\r\n                            </div>\r\n                          </>\r\n                        );\r\n                      })()}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n              {/* Comprobante de pago */}\r\n              {selectedFactura.pagos && selectedFactura.pagos.length > 0 && (\r\n                <div className=\"pt-4 border-t border-gray-100\">\r\n                  <p className=\"text-gray-400 text-xs mb-2\">\r\n                    Comprobante de Pago\r\n                  </p>\r\n                  {selectedFactura.pagos.map((pago) => (\r\n                    <div key={pago.id_pago} className=\"space-y-3\">\r\n                      {pago.comprobante && (\r\n                        <div className=\"relative border rounded-lg overflow-hidden bg-gray-50\">\r\n                          <img\r\n                            src={pago.comprobante}\r\n                            alt=\"Comprobante de pago\"\r\n                            className=\"w-full h-64 object-contain cursor-pointer hover:opacity-90 transition-opacity\"\r\n                            onClick={() =>\r\n                              window.open(pago.comprobante, '_blank')\r\n                            }\r\n                          />\r\n                          <div className=\"p-3 bg-white border-t\">\r\n                            <div className=\"flex items-center justify-between text-sm\">\r\n                              <div>\r\n                                <p className=\"text-gray-600\">\r\n                                  <span className=\"font-medium\">Método:</span>{' '}\r\n                                  {pago.metodo_pago}\r\n                                </p>\r\n                                {pago.referencia && (\r\n                                  <p className=\"text-gray-600\">\r\n                                    <span className=\"font-medium\">Ref:</span>{' '}\r\n                                    {pago.referencia}\r\n                                  </p>\r\n                                )}\r\n                                <p className=\"text-gray-600\">\r\n                                  <span className=\"font-medium\">Monto:</span> $\r\n                                  {Number(pago.monto).toFixed(2)}\r\n                                </p>\r\n                              </div>\r\n                              <span\r\n                                className={`text-xs px-2 py-1 rounded-full ${\r\n                                  pago.estado === 'verificado'\r\n                                    ? 'bg-emerald-50 text-emerald-600'\r\n                                    : pago.estado === 'rechazado'\r\n                                      ? 'bg-red-50 text-red-600'\r\n                                      : 'bg-amber-50 text-amber-600'\r\n                                }`}\r\n                              >\r\n                                {pago.estado === 'verificado'\r\n                                  ? 'Verificado'\r\n                                  : pago.estado === 'rechazado'\r\n                                    ? 'Rechazado'\r\n                                    : 'Pendiente'}\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      {pago.observaciones && (\r\n                        <div className=\"text-sm\">\r\n                          <p className=\"text-gray-400 text-xs mb-1\">\r\n                            Observaciones\r\n                          </p>\r\n                          <p className=\"text-gray-600\">{pago.observaciones}</p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"pt-4 border-t border-gray-100\">\r\n                <p className=\"text-gray-400 text-xs mb-1\">Concepto</p>\r\n                <p className=\"text-sm text-gray-900\">\r\n                  {selectedFactura.concepto}\r\n                </p>\r\n              </div>\r\n              <div className=\"pt-4 border-t border-gray-100 space-y-2 text-sm\">\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-500\">Subtotal</span>\r\n                  <span className=\"text-gray-900\">\r\n                    ${Number(selectedFactura.subtotal || 0).toFixed(2)}\r\n                  </span>\r\n                </div>\r\n                {selectedFactura.descuento && (\r\n                  <div className=\"flex justify-between text-emerald-600\">\r\n                    <span>Descuento</span>\r\n                    <span>\r\n                      -${Number(selectedFactura.descuento || 0).toFixed(2)}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n                {selectedFactura.impuesto && (\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-gray-500\">Impuesto</span>\r\n                    <span className=\"text-gray-900\">\r\n                      ${Number(selectedFactura.impuesto || 0).toFixed(2)}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n                <div className=\"flex justify-between font-semibold text-base pt-2 border-t border-gray-100\">\r\n                  <span>Total</span>\r\n                  <span>${Number(selectedFactura.total || 0).toFixed(2)}</span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Sección de Pagos */}\r\n              {selectedFactura.pagos && selectedFactura.pagos.length > 0 && (\r\n                <div className=\"pt-4 border-t border-gray-100\">\r\n                  <p className=\"text-gray-400 text-xs mb-3 font-medium\">\r\n                    Pagos Registrados\r\n                  </p>\r\n                  <div className=\"space-y-3\">\r\n                    {selectedFactura.pagos.map((pago) => (\r\n                      <div\r\n                        key={pago.id_pago}\r\n                        className=\"bg-gray-50 rounded-lg p-4 space-y-3\"\r\n                      >\r\n                        <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                          <div>\r\n                            <p className=\"text-gray-400 text-xs\">Monto</p>\r\n                            <p className=\"font-semibold text-gray-900\">\r\n                              ${Number(pago.monto || 0).toFixed(2)}\r\n                            </p>\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"text-gray-400 text-xs\">Fecha</p>\r\n                            <p className=\"text-gray-900\">{pago.fecha_pago}</p>\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"text-gray-400 text-xs\">Método</p>\r\n                            <p className=\"text-gray-900 capitalize\">\r\n                              {pago.metodo_pago}\r\n                            </p>\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"text-gray-400 text-xs\">Estado</p>\r\n                            <span\r\n                              className={`text-xs px-2 py-1 rounded-full ${\r\n                                pago.estado === 'verificado'\r\n                                  ? 'bg-emerald-50 text-emerald-600'\r\n                                  : pago.estado === 'pendiente'\r\n                                    ? 'bg-amber-50 text-amber-600'\r\n                                    : 'bg-red-50 text-red-600'\r\n                              }`}\r\n                            >\r\n                              {pago.estado === 'verificado'\r\n                                ? 'Verificado'\r\n                                : pago.estado === 'pendiente'\r\n                                  ? 'Pendiente'\r\n                                  : 'Rechazado'}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {pago.referencia && (\r\n                          <div>\r\n                            <p className=\"text-gray-400 text-xs\">Referencia</p>\r\n                            <p className=\"text-sm text-gray-900\">\r\n                              {pago.referencia}\r\n                            </p>\r\n                          </div>\r\n                        )}\r\n\r\n                        {/* Comprobante de pago */}\r\n                        {pago.comprobante && (\r\n                          <div>\r\n                            <p className=\"text-gray-400 text-xs mb-2\">\r\n                              Comprobante\r\n                            </p>\r\n                            <div className=\"relative group\">\r\n                              <img\r\n                                src={pago.comprobante}\r\n                                alt=\"Comprobante de pago\"\r\n                                className=\"w-full h-48 object-contain bg-white border border-gray-200 rounded-lg cursor-pointer hover:border-blue-400 transition-colors\"\r\n                                onClick={() =>\r\n                                  window.open(pago.comprobante, '_blank')\r\n                                }\r\n                              />\r\n                              <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 rounded-lg transition-all flex items-center justify-center\">\r\n                                <span className=\"text-white opacity-0 group-hover:opacity-100 text-sm font-medium\">\r\n                                  Click para ampliar\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                        {pago.observaciones && (\r\n                          <div>\r\n                            <p className=\"text-gray-400 text-xs\">\r\n                              Observaciones\r\n                            </p>\r\n                            <p className=\"text-sm text-gray-600\">\r\n                              {pago.observaciones}\r\n                            </p>\r\n                          </div>\r\n                        )}\r\n\r\n                        {/* Botones de acción para pagos pendientes */}\r\n                        {pago.estado === 'pendiente' && (\r\n                          <div className=\"flex gap-2 pt-2 border-t border-gray-200\">\r\n                            <Button\r\n                              size=\"sm\"\r\n                              variant=\"secondary\"\r\n                              onClick={() => handleRechazarPago(pago.id_pago)}\r\n                              disabled={isApprovingPayment}\r\n                              className=\"flex-1 bg-red-50 text-red-600 hover:bg-red-100\"\r\n                            >\r\n                              Rechazar\r\n                            </Button>\r\n                            <Button\r\n                              size=\"sm\"\r\n                              onClick={() => handleAprobarPago(pago.id_pago)}\r\n                              disabled={isApprovingPayment}\r\n                              className=\"flex-1\"\r\n                            >\r\n                              {isApprovingPayment\r\n                                ? 'Verificando...'\r\n                                : 'Verificar Pago'}\r\n                            </Button>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"pt-4 border-t border-gray-100 flex justify-between items-center\">\r\n                <div className=\"flex gap-2\">\r\n                  {selectedFactura.estado === 'pendiente' &&\r\n                    selectedFactura.pagos &&\r\n                    selectedFactura.pagos.length > 0 &&\r\n                    selectedFactura.pagos.some(\r\n                      (p) => p.estado === 'pendiente',\r\n                    ) && (\r\n                      <>\r\n                        <Button\r\n                          size=\"sm\"\r\n                          variant=\"secondary\"\r\n                          onClick={() => {\r\n                            const pendingPago = selectedFactura.pagos?.find(\r\n                              (p) => p.estado === 'pendiente',\r\n                            );\r\n                            if (pendingPago) {\r\n                              handleRechazarPago(pendingPago.id_pago);\r\n                            }\r\n                          }}\r\n                          disabled={isApprovingPayment}\r\n                          className=\"bg-red-50 text-red-600 hover:bg-red-100 border-red-200\"\r\n                        >\r\n                          Rechazar Pago\r\n                        </Button>\r\n                        <Button\r\n                          size=\"sm\"\r\n                          onClick={() => {\r\n                            const pendingPago = selectedFactura.pagos?.find(\r\n                              (p) => p.estado === 'pendiente',\r\n                            );\r\n                            if (pendingPago) {\r\n                              handleAprobarPago(pendingPago.id_pago);\r\n                            }\r\n                          }}\r\n                          disabled={isApprovingPayment}\r\n                          className=\"bg-emerald-600 hover:bg-emerald-700\"\r\n                        >\r\n                          {isApprovingPayment\r\n                            ? 'Procesando...'\r\n                            : 'Aprobar Pago'}\r\n                        </Button>\r\n                      </>\r\n                    )}\r\n                </div>\r\n                <Button\r\n                  size=\"sm\"\r\n                  variant=\"secondary\"\r\n                  onClick={() => handleDescargarPDF(selectedFactura)}\r\n                >\r\n                  <ArrowDownTrayIcon className=\"h-4 w-4 mr-1\" />\r\n                  Descargar PDF\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Modal>\r\n\r\n        <Modal\r\n          isOpen={showFormModal}\r\n          onClose={() => setShowFormModal(false)}\r\n          title={`${editingFactura ? 'Editar' : 'Nueva'} Factura`}\r\n          size=\"md\"\r\n        >\r\n          <form onSubmit={handleSubmit} className=\"space-y-3\">\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                  Número de Factura\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.numero_factura}\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, numero_factura: e.target.value })\r\n                  }\r\n                  className=\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                  Cliente (Tutor)\r\n                </label>\r\n                <select\r\n                  value={formData.id_tutor}\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, id_tutor: e.target.value })\r\n                  }\r\n                  className=\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg\"\r\n                >\r\n                  <option value=\"\">Seleccionar</option>\r\n                  {tutores.map((t) => (\r\n                    <option key={t.id_usuario} value={t.id_usuario}>\r\n                      {t.nombre} {t.apellido}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                Concepto\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.concepto}\r\n                onChange={(e) =>\r\n                  setFormData({ ...formData, concepto: e.target.value })\r\n                }\r\n                className=\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500\"\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"grid grid-cols-3 gap-3\">\r\n              <div>\r\n                <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                  Subtotal\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  step=\"0.01\"\r\n                  value={formData.subtotal}\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, subtotal: e.target.value })\r\n                  }\r\n                  className=\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                  Descuento\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  step=\"0.01\"\r\n                  value={formData.descuento}\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, descuento: e.target.value })\r\n                  }\r\n                  className=\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                  Impuesto\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  step=\"0.01\"\r\n                  value={formData.impuesto}\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, impuesto: e.target.value })\r\n                  }\r\n                  className=\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                  Fecha Emisión\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={formData.fecha_emision}\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, fecha_emision: e.target.value })\r\n                  }\r\n                  className=\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                  Fecha Vencimiento\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={formData.fecha_vencimiento}\r\n                  onChange={(e) =>\r\n                    setFormData({\r\n                      ...formData,\r\n                      fecha_vencimiento: e.target.value,\r\n                    })\r\n                  }\r\n                  className=\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"flex justify-end gap-2 pt-3\">\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"secondary\"\r\n                size=\"sm\"\r\n                onClick={() => setShowFormModal(false)}\r\n              >\r\n                Cancelar\r\n              </Button>\r\n              <Button type=\"submit\" size=\"sm\">\r\n                {editingFactura ? 'Actualizar' : 'Crear'}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </Modal>\r\n\r\n        <ConfirmModal\r\n          isOpen={showDeleteModal}\r\n          onClose={() => setShowDeleteModal(false)}\r\n          onConfirm={confirmDelete}\r\n          title=\"¿Eliminar factura?\"\r\n          message=\"Esta acción no se puede deshacer.\"\r\n          isLoading={isDeleting}\r\n        />\r\n      </div>\r\n    </DashboardLayout>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}