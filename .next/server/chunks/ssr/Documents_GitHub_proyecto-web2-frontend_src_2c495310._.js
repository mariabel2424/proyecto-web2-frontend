module.exports=[21248,a=>{"use strict";var b=a.i(21652),c=a.i(34680);a.s(["asistenciasService",0,{async getAsistencias(a,d){let{data:e}=await b.apiClient.get(`${c.API_ENDPOINTS.gruposCurso}/${a}/asistencias`,d?{fecha:d}:{});return e},async registrarAsistencias(a,d,e){let{data:f}=await b.apiClient.post(`${c.API_ENDPOINTS.gruposCurso}/${a}/asistencias`,{fecha:d,asistencias:e});return f},async getHistorial(a,d,e){let f={};d&&(f.fecha_inicio=d),e&&(f.fecha_fin=e);let{data:g}=await b.apiClient.get(`${c.API_ENDPOINTS.gruposCurso}/${a}/asistencias/historial`,f);return g},async getReporte(a,d){let{data:e}=await b.apiClient.get(`${c.API_ENDPOINTS.gruposCurso}/${a}/asistencias/reporte`,{fecha:d});return e}},"cursosService",0,{async getAll(a){let{data:d}=await b.apiClient.get(c.API_ENDPOINTS.cursos,a);if(d&&"object"==typeof d&&"success"in d&&d.data){let a=d.data;return Array.isArray(a)?{data:a,total:a.length,current_page:1,last_page:1,per_page:a.length,from:1,to:a.length}:a}return d&&"object"==typeof d&&"current_page"in d&&"data"in d?{data:Array.isArray(d.data)?d.data:[],total:d.total||0,current_page:d.current_page||1,last_page:d.last_page||1,per_page:d.per_page||15,from:d.from||0,to:d.to||0}:Array.isArray(d)?{data:d,total:d.length,current_page:1,last_page:1,per_page:d.length,from:1,to:d.length}:{data:[],total:0,current_page:1,last_page:1,per_page:15,from:0,to:0}},async getById(a){let{data:d}=await b.apiClient.get(`${c.API_ENDPOINTS.cursos}/${a}`);return d},async create(a){let{data:d}=await b.apiClient.post(c.API_ENDPOINTS.cursos,a);return d},async update(a,d){let{data:e}=await b.apiClient.put(`${c.API_ENDPOINTS.cursos}/${a}`,d);return e},async delete(a){await b.apiClient.delete(`${c.API_ENDPOINTS.cursos}/${a}`)},async getCursosAbiertos(){let{data:a}=await b.apiClient.get(c.API_ENDPOINTS.cursosAbiertos);return a},async getParticipantes(a){let{data:d}=await b.apiClient.get(`${c.API_ENDPOINTS.cursos}/${a}/participantes`);return d},async getGruposDisponibles(a){let{data:d}=await b.apiClient.get(`${c.API_ENDPOINTS.cursos}/${a}/grupos-disponibles`);return d},async getGruposPublico(a){let{data:d}=await b.apiClient.get(`${c.API_ENDPOINTS.cursos}/${a}/grupos-publico`);return d}},"gruposCursoService",0,{async getAll(a){let{data:d}=await b.apiClient.get(c.API_ENDPOINTS.gruposCurso,a);if(d&&"object"==typeof d&&"success"in d&&d.data){let a=d.data;return Array.isArray(a)?{data:a,total:a.length,current_page:1,last_page:1,per_page:a.length,from:1,to:a.length}:a}return Array.isArray(d)?{data:d,total:d.length,current_page:1,last_page:1,per_page:d.length,from:1,to:d.length}:d},async getById(a){let{data:d}=await b.apiClient.get(`${c.API_ENDPOINTS.gruposCurso}/${a}`);return d},async create(a){let{data:d}=await b.apiClient.post(c.API_ENDPOINTS.gruposCurso,a);return d},async update(a,d){let{data:e}=await b.apiClient.put(`${c.API_ENDPOINTS.gruposCurso}/${a}`,d);return e},async delete(a){await b.apiClient.delete(`${c.API_ENDPOINTS.gruposCurso}/${a}`)},async getDeportistas(a){let{data:d}=await b.apiClient.get(`${c.API_ENDPOINTS.gruposCurso}/${a}/deportistas`);return d},async asignarInstructor(a,d){let{data:e}=await b.apiClient.post(`${c.API_ENDPOINTS.gruposCurso}/${a}/asignar-instructor`,{id_instructor:d});return e},async quitarInstructor(a,d){let{data:e}=await b.apiClient.post(`${c.API_ENDPOINTS.gruposCurso}/${a}/quitar-instructor`,{id_instructor:d});return e},async getInstructores(a){let{data:d}=await b.apiClient.get(`${c.API_ENDPOINTS.gruposCurso}/${a}/instructores`);return d},async cambiarEstado(a,d){let{data:e}=await b.apiClient.patch(`${c.API_ENDPOINTS.gruposCurso}/${a}/cambiar-estado`,{estado:d});return e}},"inscripcionesService",0,{async getAll(a){let{data:d}=await b.apiClient.get(c.API_ENDPOINTS.inscripcionesCurso,a);if(d&&"object"==typeof d&&"success"in d&&d.data){let a=d.data;return Array.isArray(a)?{data:a,total:a.length,current_page:1,last_page:1,per_page:a.length,from:1,to:a.length}:a}return Array.isArray(d)?{data:d,total:d.length,current_page:1,last_page:1,per_page:d.length,from:1,to:d.length}:d},async getById(a){let{data:d}=await b.apiClient.get(`${c.API_ENDPOINTS.inscripcionesCurso}/${a}`);return d},async create(a){let{data:d}=await b.apiClient.post(c.API_ENDPOINTS.inscripcionesCurso,a);return d},async update(a,d){let{data:e}=await b.apiClient.put(`${c.API_ENDPOINTS.inscripcionesCurso}/${a}`,d);return e},async delete(a){await b.apiClient.delete(`${c.API_ENDPOINTS.inscripcionesCurso}/${a}`)},async calificar(a,d,e){let{data:f}=await b.apiClient.post(`${c.API_ENDPOINTS.inscripcionesCurso}/${a}/calificar`,{calificacion:d,comentarios:e});return f},async cancelar(a,d){let{data:e}=await b.apiClient.patch(`${c.API_ENDPOINTS.inscripcionesCurso}/${a}/cancelar`,{motivo:d});return e},async generarFactura(a,d){let{data:e}=await b.apiClient.post(`${c.API_ENDPOINTS.inscripcionesCurso}/${a}/generar-factura`,{id_tutor:d});return e},async getMisInscripciones(a){let{data:c}=await b.apiClient.get("/mis-inscripciones",a);return Array.isArray(c)?{data:c,total:c.length,current_page:1,last_page:1,per_page:c.length,from:1,to:c.length}:c}}])},7910,a=>{"use strict";var b=a.i(57692),c=a.i(98620),d=a.i(28632);a.i(67360);var e=a.i(4656);a.i(95994);var f=a.i(36119),g=a.i(77314),h=a.i(76182),i=a.i(2133),j=a.i(21248);function k(){let a=(0,d.useRouter)(),k=Number((0,d.useParams)().id),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)({nombre:"",descripcion:"",fecha_inicio:"",fecha_fin:"",representante:"",email_representante:"",telefono_representante:"",tipo:"vacacional",precio:"",cupo_maximo:"",estado:"abierto"});(0,c.useEffect)(()=>{(async()=>{try{let a=await j.cursosService.getById(k);s({nombre:a.nombre||"",descripcion:a.descripcion||"",fecha_inicio:a.fecha_inicio||"",fecha_fin:a.fecha_fin||"",representante:a.representante||"",email_representante:a.email_representante||"",telefono_representante:a.telefono_representante||"",tipo:a.tipo||"vacacional",precio:String(a.precio||""),cupo_maximo:a.cupo_maximo?String(a.cupo_maximo):"",estado:a.estado||"abierto"})}catch(a){q("Error al cargar el curso"),console.error(a)}finally{o(!1)}})()},[k]);let t=a=>{let{name:b,value:c}=a.target;s(a=>({...a,[b]:c}))},u=async b=>{b.preventDefault(),m(!0),q("");try{await j.cursosService.update(k,{nombre:r.nombre,descripcion:r.descripcion||void 0,fecha_inicio:r.fecha_inicio,fecha_fin:r.fecha_fin,representante:r.representante,email_representante:r.email_representante||void 0,telefono_representante:r.telefono_representante||void 0,tipo:r.tipo,precio:r.precio?parseFloat(r.precio):void 0,cupo_maximo:r.cupo_maximo?parseInt(r.cupo_maximo):void 0}),a.push("/cursos")}catch(a){q(a instanceof Error?a.message:"Error al actualizar el curso")}finally{m(!1)}};return n?(0,b.jsx)(e.DashboardLayout,{children:(0,b.jsx)("div",{className:"flex justify-center py-12",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):(0,b.jsx)(e.DashboardLayout,{children:(0,b.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Editar Curso Vacacional"})}),(0,b.jsxs)(f.CardContent,{children:[p&&(0,b.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:p}),(0,b.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,b.jsx)(h.Input,{label:"Nombre del Curso",name:"nombre",value:r.nombre,onChange:t,required:!0}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),(0,b.jsx)("textarea",{name:"descripcion",value:r.descripcion,onChange:t,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(h.Input,{label:"Fecha Inicio",name:"fecha_inicio",type:"date",value:r.fecha_inicio,onChange:t,required:!0}),(0,b.jsx)(h.Input,{label:"Fecha Fin",name:"fecha_fin",type:"date",value:r.fecha_fin,onChange:t,required:!0})]}),(0,b.jsx)(i.Select,{label:"Tipo",name:"tipo",value:r.tipo,onChange:t,options:[{value:"vacacional",label:"Vacacional"},{value:"permanente",label:"Permanente"}]}),(0,b.jsx)(h.Input,{label:"Representante",name:"representante",value:r.representante,onChange:t,required:!0}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(h.Input,{label:"Email Representante",name:"email_representante",type:"email",value:r.email_representante,onChange:t}),(0,b.jsx)(h.Input,{label:"Teléfono Representante",name:"telefono_representante",value:r.telefono_representante,onChange:t})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(h.Input,{label:"Precio ($)",name:"precio",type:"number",step:"0.01",value:r.precio,onChange:t}),(0,b.jsx)(h.Input,{label:"Cupo Máximo",name:"cupo_maximo",type:"number",value:r.cupo_maximo,onChange:t,placeholder:"Sin límite"})]}),(0,b.jsx)(i.Select,{label:"Estado",name:"estado",value:r.estado,onChange:t,options:[{value:"abierto",label:"Abierto"},{value:"cerrado",label:"Cerrado"},{value:"en_proceso",label:"En Proceso"},{value:"cancelado",label:"Cancelado"}]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,b.jsx)(g.Button,{type:"button",variant:"secondary",onClick:()=>a.back(),children:"Cancelar"}),(0,b.jsx)(g.Button,{type:"submit",disabled:l,children:l?"Guardando...":"Guardar Cambios"})]})]})]})]})})})}a.s(["default",()=>k])}];

//# sourceMappingURL=Documents_GitHub_proyecto-web2-frontend_src_2c495310._.js.map