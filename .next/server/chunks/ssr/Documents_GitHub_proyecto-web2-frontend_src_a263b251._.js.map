{"version":3,"sources":["../../../../../../../Documents/GitHub/proyecto-web2-frontend/src/services/finanzas.service.ts","../../../../../../../Documents/GitHub/proyecto-web2-frontend/src/app/%28dashboard%29/finanzas/facturas/%5Bid%5D/pagar/page.tsx"],"sourcesContent":["import { apiClient } from '@/lib/api/client';\r\nimport { API_ENDPOINTS } from '@/lib/api/config';\r\nimport type {\r\n  Factura,\r\n  FacturaFormData,\r\n  FacturaUpdateData,\r\n  Pago,\r\n  PagoFormData,\r\n  PaginatedResponse,\r\n  PaginationParams,\r\n} from '@/types';\r\n\r\nexport const facturasService = {\r\n  async getAll(\r\n    params?: PaginationParams & {\r\n      estado?: string;\r\n      id_deportista?: number;\r\n      id_tutor?: number;\r\n    },\r\n  ): Promise<PaginatedResponse<Factura>> {\r\n    const { data } = await apiClient.get<\r\n      | PaginatedResponse<Factura>\r\n      | Factura[]\r\n      | { success: boolean; data: PaginatedResponse<Factura>; message: string }\r\n    >(API_ENDPOINTS.facturas, params);\r\n\r\n    // Manejar respuesta envuelta en { success, data, message }\r\n    if (data && typeof data === 'object' && 'success' in data && data.data) {\r\n      const innerData = data.data;\r\n      if (Array.isArray(innerData)) {\r\n        return {\r\n          data: innerData,\r\n          total: innerData.length,\r\n          current_page: 1,\r\n          last_page: 1,\r\n          per_page: innerData.length,\r\n          from: 1,\r\n          to: innerData.length,\r\n        };\r\n      }\r\n      return innerData;\r\n    }\r\n\r\n    // Manejar respuesta paginada directa o array directo\r\n    if (Array.isArray(data)) {\r\n      return {\r\n        data,\r\n        total: data.length,\r\n        current_page: 1,\r\n        last_page: 1,\r\n        per_page: data.length,\r\n        from: 1,\r\n        to: data.length,\r\n      };\r\n    }\r\n    return data as PaginatedResponse<Factura>;\r\n  },\r\n\r\n  async getById(id: number): Promise<Factura> {\r\n    const { data } = await apiClient.get<Factura>(\r\n      `${API_ENDPOINTS.facturas}/${id}`,\r\n    );\r\n    return data;\r\n  },\r\n\r\n  async create(\r\n    factura: FacturaFormData,\r\n  ): Promise<{ message: string; data: Factura }> {\r\n    const { data } = await apiClient.post<{ message: string; data: Factura }>(\r\n      API_ENDPOINTS.facturas,\r\n      factura,\r\n    );\r\n    return data;\r\n  },\r\n\r\n  async update(\r\n    id: number,\r\n    factura: FacturaUpdateData,\r\n  ): Promise<{ message: string; data: Factura }> {\r\n    const { data } = await apiClient.put<{ message: string; data: Factura }>(\r\n      `${API_ENDPOINTS.facturas}/${id}`,\r\n      factura,\r\n    );\r\n    return data;\r\n  },\r\n\r\n  async delete(id: number): Promise<void> {\r\n    await apiClient.delete(`${API_ENDPOINTS.facturas}/${id}`);\r\n  },\r\n\r\n  async cambiarEstado(\r\n    id: number,\r\n    estado: 'pendiente' | 'pagada' | 'vencida' | 'cancelada',\r\n  ): Promise<{ message: string; data: Factura }> {\r\n    const { data } = await apiClient.put<{ message: string; data: Factura }>(\r\n      `${API_ENDPOINTS.facturas}/${id}`,\r\n      { estado },\r\n    );\r\n    return data;\r\n  },\r\n\r\n  async registrarPago(\r\n    facturaId: number,\r\n    pago: PagoFormData,\r\n  ): Promise<{ message: string; data: Pago }> {\r\n    const { data } = await apiClient.post<{ message: string; data: Pago }>(\r\n      `${API_ENDPOINTS.facturas}/${facturaId}/registrar-pago`,\r\n      pago,\r\n    );\r\n    return data;\r\n  },\r\n\r\n  // Generar factura desde una inscripción existente\r\n  async generarDesdeInscripcion(\r\n    inscripcionId: number,\r\n    idTutor?: number,\r\n  ): Promise<{ message: string; data: Factura }> {\r\n    const { data } = await apiClient.post<{ message: string; data: Factura }>(\r\n      `${API_ENDPOINTS.facturas}/generar-desde-inscripcion/${inscripcionId}`,\r\n      { id_tutor: idTutor },\r\n    );\r\n    return data;\r\n  },\r\n\r\n  // Obtener facturas de un tutor específico\r\n  async getFacturasPorTutor(tutorId: number): Promise<Factura[]> {\r\n    const { data } = await apiClient.get<Factura[]>(\r\n      `${API_ENDPOINTS.facturas}/tutor/${tutorId}`,\r\n    );\r\n    return data;\r\n  },\r\n\r\n  async getReporteFacturacion(params?: {\r\n    fecha_inicio?: string;\r\n    fecha_fin?: string;\r\n  }): Promise<unknown> {\r\n    const { data } = await apiClient.get(\r\n      `${API_ENDPOINTS.facturas}/reporte/facturacion`,\r\n      params,\r\n    );\r\n    return data;\r\n  },\r\n\r\n  async getDatosParaPdf(id: number): Promise<{\r\n    factura: Factura;\r\n    empresa: {\r\n      nombre: string;\r\n      direccion: string;\r\n      telefono: string;\r\n      email: string;\r\n      ruc: string;\r\n    };\r\n  }> {\r\n    const { data } = await apiClient.get<{\r\n      factura: Factura;\r\n      empresa: {\r\n        nombre: string;\r\n        direccion: string;\r\n        telefono: string;\r\n        email: string;\r\n        ruc: string;\r\n      };\r\n    }>(`${API_ENDPOINTS.facturas}/${id}/pdf`);\r\n    return data;\r\n  },\r\n};\r\n\r\nexport const pagosService = {\r\n  async getAll(\r\n    params?: PaginationParams & {\r\n      estado?: string;\r\n      id_factura?: number;\r\n    },\r\n  ): Promise<PaginatedResponse<Pago>> {\r\n    const { data } = await apiClient.get<\r\n      | PaginatedResponse<Pago>\r\n      | Pago[]\r\n      | { success: boolean; data: PaginatedResponse<Pago>; message: string }\r\n    >(API_ENDPOINTS.pagos, params);\r\n\r\n    // Manejar respuesta envuelta en { success, data, message }\r\n    if (data && typeof data === 'object' && 'success' in data && data.data) {\r\n      const innerData = data.data;\r\n      if (Array.isArray(innerData)) {\r\n        return {\r\n          data: innerData,\r\n          total: innerData.length,\r\n          current_page: 1,\r\n          last_page: 1,\r\n          per_page: innerData.length,\r\n          from: 1,\r\n          to: innerData.length,\r\n        };\r\n      }\r\n      return innerData;\r\n    }\r\n\r\n    // Manejar respuesta paginada directa o array directo\r\n    if (Array.isArray(data)) {\r\n      return {\r\n        data,\r\n        total: data.length,\r\n        current_page: 1,\r\n        last_page: 1,\r\n        per_page: data.length,\r\n        from: 1,\r\n        to: data.length,\r\n      };\r\n    }\r\n    return data as PaginatedResponse<Pago>;\r\n  },\r\n\r\n  async getById(id: number): Promise<Pago> {\r\n    const { data } = await apiClient.get<Pago>(`${API_ENDPOINTS.pagos}/${id}`);\r\n    return data;\r\n  },\r\n\r\n  async update(\r\n    id: number,\r\n    pago: Partial<PagoFormData>,\r\n  ): Promise<{ message: string; data: Pago }> {\r\n    const { data } = await apiClient.put<{ message: string; data: Pago }>(\r\n      `${API_ENDPOINTS.pagos}/${id}`,\r\n      pago,\r\n    );\r\n    return data;\r\n  },\r\n\r\n  async delete(id: number): Promise<void> {\r\n    await apiClient.delete(`${API_ENDPOINTS.pagos}/${id}`);\r\n  },\r\n\r\n  async verificar(id: number): Promise<{ message: string; data: Pago }> {\r\n    const { data } = await apiClient.post<{ message: string; data: Pago }>(\r\n      `${API_ENDPOINTS.pagos}/${id}/verificar`,\r\n    );\r\n    return data;\r\n  },\r\n\r\n  async rechazar(\r\n    id: number,\r\n    motivo?: string,\r\n  ): Promise<{ message: string; data: Pago }> {\r\n    const { data } = await apiClient.post<{ message: string; data: Pago }>(\r\n      `${API_ENDPOINTS.pagos}/${id}/rechazar`,\r\n      { motivo },\r\n    );\r\n    return data;\r\n  },\r\n};\r\n\r\n// Servicio combinado para flujo de inscripción de tutores\r\nexport const finanzasService = {\r\n  // Inscribir con generación de factura\r\n  async inscribirConPago(params: {\r\n    id_deportista: number;\r\n    id_curso: number;\r\n    id_grupo: number;\r\n    generar_factura?: boolean;\r\n  }): Promise<{\r\n    message: string;\r\n    data: unknown;\r\n    factura?: { id_factura: number };\r\n  }> {\r\n    const { data } = await apiClient.post<{\r\n      message: string;\r\n      data: unknown;\r\n      factura?: { id_factura: number };\r\n    }>('/inscripciones-curso', {\r\n      ...params,\r\n      generar_factura: params.generar_factura ?? true,\r\n    });\r\n    return data;\r\n  },\r\n\r\n  // Realizar pago como tutor (pendiente de verificación)\r\n  async realizarMiPago(params: {\r\n    id_factura: number;\r\n    monto: number;\r\n    metodo_pago: string;\r\n    referencia?: string;\r\n    observaciones?: string;\r\n  }): Promise<{ message: string; data: Pago }> {\r\n    const { data } = await apiClient.post<{ message: string; data: Pago }>(\r\n      '/mis-pagos',\r\n      params,\r\n    );\r\n    return data;\r\n  },\r\n\r\n  // Obtener mis pagos (tutor)\r\n  async getMisPagos(\r\n    params?: PaginationParams,\r\n  ): Promise<PaginatedResponse<Pago>> {\r\n    const { data } = await apiClient.get<PaginatedResponse<Pago>>(\r\n      '/mis-pagos',\r\n      params,\r\n    );\r\n    return data;\r\n  },\r\n\r\n  // Obtener mis facturas (tutor)\r\n  async getMisFacturas(\r\n    params?: PaginationParams,\r\n  ): Promise<PaginatedResponse<Factura>> {\r\n    const { data } = await apiClient.get<PaginatedResponse<Factura>>(\r\n      '/mis-facturas',\r\n      params,\r\n    );\r\n    return data;\r\n  },\r\n};\r\n","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter, useParams } from 'next/navigation';\r\nimport { DashboardLayout } from '@/components/layout';\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  CardTitle,\r\n  CardContent,\r\n  Button,\r\n  Input,\r\n  Select,\r\n} from '@/components/ui';\r\nimport { facturasService } from '@/services/finanzas.service';\r\nimport type { Factura } from '@/types';\r\n\r\nexport default function PagarFacturaPage() {\r\n  const router = useRouter();\r\n  const params = useParams();\r\n  const id = Number(params.id);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingData, setLoadingData] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [factura, setFactura] = useState<Factura | null>(null);\r\n  const [formData, setFormData] = useState({\r\n    monto: '',\r\n    metodo_pago: 'efectivo',\r\n    referencia: '',\r\n    observaciones: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchFactura = async () => {\r\n      try {\r\n        const data = await facturasService.getById(id);\r\n        setFactura(data);\r\n        setFormData((prev) => ({ ...prev, monto: String(data.total) }));\r\n      } catch (err) {\r\n        setError('Error al cargar la factura');\r\n        console.error(err);\r\n      } finally {\r\n        setLoadingData(false);\r\n      }\r\n    };\r\n    fetchFactura();\r\n  }, [id]);\r\n\r\n  const handleChange = (\r\n    e: React.ChangeEvent<\r\n      HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement\r\n    >,\r\n  ) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      await facturasService.registrarPago(id, {\r\n        monto: parseFloat(formData.monto),\r\n        metodo_pago: formData.metodo_pago as\r\n          | 'efectivo'\r\n          | 'transferencia'\r\n          | 'tarjeta'\r\n          | 'otro',\r\n        referencia: formData.referencia || undefined,\r\n        observaciones: formData.observaciones || undefined,\r\n        fecha_pago: new Date().toISOString().split('T')[0],\r\n      });\r\n      router.push('/finanzas/facturas');\r\n    } catch (err: unknown) {\r\n      const errorMessage =\r\n        err instanceof Error ? err.message : 'Error al registrar el pago';\r\n      setError(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loadingData) {\r\n    return (\r\n      <DashboardLayout>\r\n        <div className=\"flex justify-center py-12\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\" />\r\n        </div>\r\n      </DashboardLayout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <DashboardLayout>\r\n      <div className=\"max-w-lg mx-auto\">\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Registrar Pago</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            {factura && (\r\n              <div className=\"mb-6 p-4 bg-gray-50 rounded-lg\">\r\n                <p className=\"text-sm text-gray-600\">\r\n                  Factura: {factura.numero_factura}\r\n                </p>\r\n                <p className=\"text-sm text-gray-600\">\r\n                  Concepto: {factura.concepto}\r\n                </p>\r\n                <p className=\"text-lg font-bold mt-2\">\r\n                  Total a pagar: ${factura.total.toFixed(2)}\r\n                </p>\r\n              </div>\r\n            )}\r\n            {error && (\r\n              <div className=\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\">\r\n                {error}\r\n              </div>\r\n            )}\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n              <Input\r\n                label=\"Monto ($)\"\r\n                name=\"monto\"\r\n                type=\"number\"\r\n                step=\"0.01\"\r\n                value={formData.monto}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n              <Select\r\n                label=\"Método de Pago\"\r\n                name=\"metodo_pago\"\r\n                value={formData.metodo_pago}\r\n                onChange={handleChange}\r\n                options={[\r\n                  { value: 'efectivo', label: 'Efectivo' },\r\n                  { value: 'transferencia', label: 'Transferencia' },\r\n                  { value: 'tarjeta', label: 'Tarjeta' },\r\n                  { value: 'otro', label: 'Otro' },\r\n                ]}\r\n              />\r\n              <Input\r\n                label=\"Referencia / Comprobante\"\r\n                name=\"referencia\"\r\n                value={formData.referencia}\r\n                onChange={handleChange}\r\n                placeholder=\"Número de transacción, etc.\"\r\n              />\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Observaciones\r\n                </label>\r\n                <textarea\r\n                  name=\"observaciones\"\r\n                  value={formData.observaciones}\r\n                  onChange={handleChange}\r\n                  rows={2}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                />\r\n              </div>\r\n              <div className=\"flex gap-4 pt-4\">\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"secondary\"\r\n                  onClick={() => router.back()}\r\n                >\r\n                  Cancelar\r\n                </Button>\r\n                <Button type=\"submit\" disabled={loading}>\r\n                  {loading ? 'Procesando...' : 'Registrar Pago'}\r\n                </Button>\r\n              </div>\r\n            </form>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </DashboardLayout>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}