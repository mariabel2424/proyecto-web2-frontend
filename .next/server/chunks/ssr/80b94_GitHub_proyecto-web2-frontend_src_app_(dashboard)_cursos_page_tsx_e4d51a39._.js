module.exports=[63491,a=>{"use strict";var b=a.i(57692),c=a.i(98620);a.i(67360);var d=a.i(4656);a.i(95994);var e=a.i(77314),f=a.i(91419),g=a.i(60364),h=a.i(62664),i=a.i(72328),j=a.i(86166),k=a.i(21248),l=a.i(65513),m=a.i(29869),n=a.i(77573),o=a.i(60407),p=a.i(74891),q=a.i(86993),r=a.i(92276);function s(){let[a,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)({estado:"",tipo:""}),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)({nombre:"",descripcion:"",fecha_inicio:"",fecha_fin:"",representante:"",email_representante:"",telefono_representante:"",tipo:"vacacional",cupo_maximo:"",precio:""}),N=(0,c.useCallback)(a=>k.cursosService.getAll({...a,...H}),[H]),{data:O,isLoading:P,page:Q,perPage:R,total:S,lastPage:T,search:U,sortBy:V,sortOrder:W,goToPage:X,changePerPage:Y,handleSearch:Z,handleSort:$,refetch:_}=(0,j.usePagination)(N),aa=async()=>{if(B){E(!0);try{await k.cursosService.delete(B),_()}catch(a){console.error("Error:",a)}finally{E(!1),w(!1),C(null)}}},ab=()=>{A(null),M({nombre:"",descripcion:"",fecha_inicio:"",fecha_fin:"",representante:"",email_representante:"",telefono_representante:"",tipo:"vacacional",cupo_maximo:"",precio:""})},ac=async a=>{a.preventDefault(),G(!0);try{let a={nombre:L.nombre,descripcion:L.descripcion||void 0,fecha_inicio:L.fecha_inicio,fecha_fin:L.fecha_fin,representante:L.representante,email_representante:L.email_representante||void 0,telefono_representante:L.telefono_representante||void 0,tipo:L.tipo,cupo_maximo:L.cupo_maximo?Number(L.cupo_maximo):void 0,precio:L.precio?Number(L.precio):void 0};z?await k.cursosService.update(z.id_curso,a):await k.cursosService.create(a),u(!1),ab(),_()}catch(a){console.error("Error:",a)}finally{G(!1)}},ad=a=>{switch(a){case"abierto":return"bg-emerald-50 text-emerald-600";case"en_proceso":return"bg-blue-50 text-blue-600";case"cerrado":default:return"bg-gray-100 text-gray-500";case"cancelado":return"bg-red-50 text-red-600"}},ae=a=>"vacacional"===a?"bg-amber-50 text-amber-600":"bg-purple-50 text-purple-600",af=[{key:"nombre",header:"Curso",sortable:!0,render:a=>(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-blue-50 rounded-lg flex items-center justify-center text-blue-600",children:(0,b.jsx)(q.AcademicCapIcon,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.nombre}),(0,b.jsx)("p",{className:"text-xs text-gray-400 line-clamp-1",children:a.descripcion||"Sin descripción"})]})]})},{key:"tipo",header:"Tipo",render:a=>(0,b.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${ae(a.tipo)}`,children:a.tipo})},{key:"fechas",header:"Fechas",render:a=>(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,b.jsx)("p",{children:a.fecha_inicio}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:a.fecha_fin})]})},{key:"precio",header:"Precio",render:a=>(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["$",a.precio||"0.00"]})},{key:"cupo",header:"Cupo",render:a=>(0,b.jsxs)("span",{className:"text-sm text-gray-600",children:[a.cupo_actual||0," / ",a.cupo_maximo||"∞"]})},{key:"estado",header:"Estado",render:a=>(0,b.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${ad(a.estado)}`,children:a.estado})},{key:"acciones",header:"",render:a=>(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,b.jsx)("button",{onClick:()=>{y(a),s(!0)},className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)(n.EyeIcon,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>{A(a),M({nombre:a.nombre||"",descripcion:a.descripcion||"",fecha_inicio:a.fecha_inicio||"",fecha_fin:a.fecha_fin||"",representante:a.representante||"",email_representante:a.email_representante||"",telefono_representante:a.telefono_representante||"",tipo:a.tipo||"vacacional",cupo_maximo:a.cupo_maximo?.toString()||"",precio:a.precio?.toString()||""}),u(!0)},className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:(0,b.jsx)(o.PencilSquareIcon,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>{C(a.id_curso),w(!0)},className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,b.jsx)(p.TrashIcon,{className:"h-4 w-4"})})]})}];return(0,b.jsx)(d.DashboardLayout,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-50 rounded-lg",children:(0,b.jsx)(q.AcademicCapIcon,{className:"h-5 w-5 text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Cursos Vacacionales"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[S," registros"]})]})]}),(0,b.jsxs)(e.Button,{size:"sm",onClick:()=>{ab(),u(!0)},children:[(0,b.jsx)(l.PlusIcon,{className:"h-4 w-4 mr-1"}),"Nuevo Curso"]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100 p-3",children:[(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(m.MagnifyingGlassIcon,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Buscar curso...",value:U,onChange:a=>Z(a.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),(0,b.jsxs)("button",{onClick:()=>K(!J),className:`px-3 py-2 text-sm border rounded-lg flex items-center gap-2 transition-colors ${J?"bg-blue-50 border-blue-200 text-blue-600":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[(0,b.jsx)(r.FunnelIcon,{className:"h-4 w-4"}),"Filtros"]})]}),J&&(0,b.jsxs)("div",{className:"flex gap-3 mt-3 pt-3 border-t border-gray-100",children:[(0,b.jsxs)("select",{value:H.estado,onChange:a=>I({...H,estado:a.target.value}),className:"px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20",children:[(0,b.jsx)("option",{value:"",children:"Todos los estados"}),(0,b.jsx)("option",{value:"abierto",children:"Abierto"}),(0,b.jsx)("option",{value:"en_proceso",children:"En proceso"}),(0,b.jsx)("option",{value:"cerrado",children:"Cerrado"}),(0,b.jsx)("option",{value:"cancelado",children:"Cancelado"})]}),(0,b.jsxs)("select",{value:H.tipo,onChange:a=>I({...H,tipo:a.target.value}),className:"px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20",children:[(0,b.jsx)("option",{value:"",children:"Todos los tipos"}),(0,b.jsx)("option",{value:"vacacional",children:"Vacacional"}),(0,b.jsx)("option",{value:"permanente",children:"Permanente"})]}),(0,b.jsx)("button",{onClick:()=>I({estado:"",tipo:""}),className:"text-sm text-gray-500 hover:text-gray-700",children:"Limpiar"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:[(0,b.jsx)(f.Table,{columns:af,data:O,keyExtractor:a=>a.id_curso,isLoading:P,onSort:$,sortBy:V,sortOrder:W}),(0,b.jsx)("div",{className:"border-t border-gray-100",children:(0,b.jsx)(g.Pagination,{page:Q,lastPage:T,total:S,perPage:R,onPageChange:X,onPerPageChange:Y})})]}),(0,b.jsx)(h.Modal,{isOpen:a,onClose:()=>s(!1),title:"Detalle del Curso",size:"lg",children:x&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-100",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center text-blue-600",children:(0,b.jsx)(q.AcademicCapIcon,{className:"h-6 w-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-900",children:x.nombre}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:x.descripcion||"Sin descripción"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Tipo"}),(0,b.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${ae(x.tipo)}`,children:x.tipo})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Estado"}),(0,b.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${ad(x.estado)}`,children:x.estado})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Fecha Inicio"}),(0,b.jsx)("p",{className:"text-gray-900",children:x.fecha_inicio})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Fecha Fin"}),(0,b.jsx)("p",{className:"text-gray-900",children:x.fecha_fin})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Precio"}),(0,b.jsxs)("p",{className:"text-gray-900",children:["$",x.precio||"0.00"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Cupo"}),(0,b.jsxs)("p",{className:"text-gray-900",children:[x.cupo_actual||0," /"," ",x.cupo_maximo||"Sin límite"]})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Representante"}),(0,b.jsx)("p",{className:"text-gray-900",children:x.representante||"-"})]}),x.email_representante&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Email"}),(0,b.jsx)("p",{className:"text-gray-900",children:x.email_representante})]}),x.telefono_representante&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Teléfono"}),(0,b.jsx)("p",{className:"text-gray-900",children:x.telefono_representante})]})]})]})}),(0,b.jsx)(h.Modal,{isOpen:t,onClose:()=>u(!1),title:`${z?"Editar":"Nuevo"} Curso Vacacional`,size:"lg",children:(0,b.jsxs)("form",{onSubmit:ac,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Nombre del Curso *"}),(0,b.jsx)("input",{type:"text",value:L.nombre,onChange:a=>M({...L,nombre:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",required:!0})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Descripción *"}),(0,b.jsx)("textarea",{value:L.descripcion,onChange:a=>M({...L,descripcion:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",rows:2,required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Fecha Inicio *"}),(0,b.jsx)("input",{type:"date",value:L.fecha_inicio,onChange:a=>M({...L,fecha_inicio:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Fecha Fin *"}),(0,b.jsx)("input",{type:"date",value:L.fecha_fin,onChange:a=>M({...L,fecha_fin:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Tipo *"}),(0,b.jsxs)("select",{value:L.tipo,onChange:a=>M({...L,tipo:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",required:!0,children:[(0,b.jsx)("option",{value:"vacacional",children:"Vacacional"}),(0,b.jsx)("option",{value:"permanente",children:"Permanente"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Cupo Máximo"}),(0,b.jsx)("input",{type:"number",min:"1",value:L.cupo_maximo,onChange:a=>M({...L,cupo_maximo:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Precio ($)"}),(0,b.jsx)("input",{type:"number",step:"0.01",min:"0",value:L.precio,onChange:a=>M({...L,precio:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Representante *"}),(0,b.jsx)("input",{type:"text",value:L.representante,onChange:a=>M({...L,representante:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Email Representante"}),(0,b.jsx)("input",{type:"email",value:L.email_representante,onChange:a=>M({...L,email_representante:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Teléfono Representante"}),(0,b.jsx)("input",{type:"tel",value:L.telefono_representante,onChange:a=>M({...L,telefono_representante:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2 pt-3 border-t border-gray-100",children:[(0,b.jsx)(e.Button,{type:"button",variant:"secondary",size:"sm",onClick:()=>u(!1),children:"Cancelar"}),(0,b.jsx)(e.Button,{type:"submit",size:"sm",disabled:F,children:F?"Guardando...":z?"Actualizar":"Crear"})]})]})}),(0,b.jsx)(i.ConfirmModal,{isOpen:v,onClose:()=>w(!1),onConfirm:aa,title:"¿Eliminar curso?",message:"Esta acción no se puede deshacer. El curso será eliminado permanentemente.",isLoading:D})]})})}a.s(["default",()=>s])}];

//# sourceMappingURL=80b94_GitHub_proyecto-web2-frontend_src_app_%28dashboard%29_cursos_page_tsx_e4d51a39._.js.map