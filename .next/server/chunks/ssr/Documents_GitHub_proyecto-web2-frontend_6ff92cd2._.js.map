{"version":3,"sources":["../../../../../../../Documents/GitHub/proyecto-web2-frontend/node_modules/%40heroicons/react/24/outline/esm/TrashIcon.js","../../../../../../../Documents/GitHub/proyecto-web2-frontend/node_modules/%40heroicons/react/24/outline/esm/PlusIcon.js","../../../../../../../Documents/GitHub/proyecto-web2-frontend/node_modules/%40heroicons/react/24/outline/esm/PencilSquareIcon.js","../../../../../../../Documents/GitHub/proyecto-web2-frontend/src/services/usuarios.service.ts","../../../../../../../Documents/GitHub/proyecto-web2-frontend/node_modules/%40heroicons/react/24/outline/esm/XMarkIcon.js","../../../../../../../Documents/GitHub/proyecto-web2-frontend/node_modules/%40heroicons/react/24/outline/esm/CheckIcon.js","../../../../../../../Documents/GitHub/proyecto-web2-frontend/node_modules/%40heroicons/react/24/outline/esm/ShieldCheckIcon.js","../../../../../../../Documents/GitHub/proyecto-web2-frontend/src/app/%28dashboard%29/sistema/roles/page.tsx","../../../../../../../Documents/GitHub/proyecto-web2-frontend/src/services/permisos.service.ts"],"sourcesContent":["import * as React from \"react\";\nfunction TrashIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(TrashIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PlusIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 4.5v15m7.5-7.5h-15\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PlusIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PencilSquareIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PencilSquareIcon);\nexport default ForwardRef;","import { apiClient } from '@/lib/api/client';\r\nimport { API_ENDPOINTS } from '@/lib/api/config';\r\nimport type {\r\n  Usuario,\r\n  Rol,\r\n  PaginatedResponse,\r\n  PaginationParams,\r\n} from '@/types';\r\n\r\nexport const usuariosService = {\r\n  async getAll(params?: PaginationParams): Promise<PaginatedResponse<Usuario>> {\r\n    const { data } = await apiClient.get<\r\n      | PaginatedResponse<Usuario>\r\n      | Usuario[]\r\n      | { success: boolean; data: PaginatedResponse<Usuario>; message: string }\r\n    >(API_ENDPOINTS.usuarios, params);\r\n\r\n    // Manejar respuesta envuelta en { success, data, message }\r\n    if (data && typeof data === 'object' && 'success' in data && data.data) {\r\n      const innerData = data.data;\r\n      if (Array.isArray(innerData)) {\r\n        return {\r\n          data: innerData,\r\n          total: innerData.length,\r\n          current_page: 1,\r\n          last_page: 1,\r\n          per_page: innerData.length,\r\n          from: 1,\r\n          to: innerData.length,\r\n        };\r\n      }\r\n      return innerData;\r\n    }\r\n\r\n    // Manejar respuesta paginada directa o array directo\r\n    if (Array.isArray(data)) {\r\n      return {\r\n        data,\r\n        total: data.length,\r\n        current_page: 1,\r\n        last_page: 1,\r\n        per_page: data.length,\r\n        from: 1,\r\n        to: data.length,\r\n      };\r\n    }\r\n    return data as PaginatedResponse<Usuario>;\r\n  },\r\n\r\n  async getById(id: number): Promise<Usuario> {\r\n    const { data } = await apiClient.get<Usuario>(\r\n      `${API_ENDPOINTS.usuarios}/${id}`,\r\n    );\r\n    return data;\r\n  },\r\n\r\n  async create(\r\n    usuario: Partial<Usuario> & {\r\n      password: string;\r\n      password_confirmation?: string;\r\n    },\r\n  ): Promise<Usuario> {\r\n    const { data } = await apiClient.post<Usuario>(\r\n      API_ENDPOINTS.usuarios,\r\n      usuario,\r\n    );\r\n    return data;\r\n  },\r\n\r\n  async update(id: number, usuario: Partial<Usuario>): Promise<Usuario> {\r\n    const { data } = await apiClient.put<Usuario>(\r\n      `${API_ENDPOINTS.usuarios}/${id}`,\r\n      usuario,\r\n    );\r\n    return data;\r\n  },\r\n\r\n  async delete(id: number): Promise<void> {\r\n    await apiClient.delete(`${API_ENDPOINTS.usuarios}/${id}`);\r\n  },\r\n\r\n  async cambiarEstado(id: number, status: string): Promise<Usuario> {\r\n    const { data } = await apiClient.put<Usuario>(\r\n      `${API_ENDPOINTS.usuarios}/${id}/estado`,\r\n      { status },\r\n    );\r\n    return data;\r\n  },\r\n};\r\n\r\nexport interface RolFormData {\r\n  nombre: string;\r\n  descripcion?: string;\r\n  permisos?: number[];\r\n}\r\n\r\nexport const rolesService = {\r\n  async getAll(): Promise<Rol[]> {\r\n    console.log('Llamando a:', API_ENDPOINTS.roles);\r\n    const { data } = await apiClient.get<{ data: Rol[] } | Rol[]>(\r\n      API_ENDPOINTS.roles,\r\n    );\r\n    console.log('Respuesta roles:', data);\r\n    // El backend puede devolver paginado o array directo\r\n    return Array.isArray(data) ? data : data.data;\r\n  },\r\n\r\n  async getById(id: number): Promise<Rol> {\r\n    const { data } = await apiClient.get<Rol>(`${API_ENDPOINTS.roles}/${id}`);\r\n    return data;\r\n  },\r\n\r\n  async create(rol: RolFormData): Promise<Rol> {\r\n    const { data } = await apiClient.post<{ data: Rol }>(\r\n      API_ENDPOINTS.roles,\r\n      rol,\r\n    );\r\n    return data.data;\r\n  },\r\n\r\n  async update(id: number, rol: Partial<RolFormData>): Promise<Rol> {\r\n    const { data } = await apiClient.put<{ data: Rol }>(\r\n      `${API_ENDPOINTS.roles}/${id}`,\r\n      rol,\r\n    );\r\n    return data.data;\r\n  },\r\n\r\n  async delete(id: number): Promise<void> {\r\n    await apiClient.delete(`${API_ENDPOINTS.roles}/${id}`);\r\n  },\r\n};\r\n\r\n// Exportar permisosService vacío para compatibilidad\r\nexport const permisosService = {\r\n  async getAll(): Promise<never[]> {\r\n    return [];\r\n  },\r\n};\r\n\r\n// Servicio para instructores (usuarios con rol instructor)\r\nexport const instructoresService = {\r\n  async getAll(params?: PaginationParams): Promise<PaginatedResponse<Usuario>> {\r\n    const { data } = await apiClient.get<\r\n      | PaginatedResponse<Usuario>\r\n      | Usuario[]\r\n      | { success: boolean; data: PaginatedResponse<Usuario>; message: string }\r\n    >(API_ENDPOINTS.instructores, params);\r\n\r\n    if (data && typeof data === 'object' && 'success' in data && data.data) {\r\n      const innerData = data.data;\r\n      if (Array.isArray(innerData)) {\r\n        return {\r\n          data: innerData,\r\n          total: innerData.length,\r\n          current_page: 1,\r\n          last_page: 1,\r\n          per_page: innerData.length,\r\n          from: 1,\r\n          to: innerData.length,\r\n        };\r\n      }\r\n      return innerData;\r\n    }\r\n\r\n    if (Array.isArray(data)) {\r\n      return {\r\n        data,\r\n        total: data.length,\r\n        current_page: 1,\r\n        last_page: 1,\r\n        per_page: data.length,\r\n        from: 1,\r\n        to: data.length,\r\n      };\r\n    }\r\n    return data as PaginatedResponse<Usuario>;\r\n  },\r\n\r\n  async getDisponibles(): Promise<Usuario[]> {\r\n    const { data } = await apiClient.get<\r\n      | Usuario[]\r\n      | { total: number; instructores: unknown[] }\r\n      | { success: boolean; data: Usuario[] }\r\n    >(`${API_ENDPOINTS.instructores}/disponibles/listar`);\r\n\r\n    // Manejar formato { total, instructores }\r\n    if (data && typeof data === 'object' && 'instructores' in data) {\r\n      // Transformar el formato del backend al formato Usuario\r\n      return (\r\n        data.instructores as Array<{\r\n          id_instructor?: number;\r\n          id_usuario?: number;\r\n          nombres?: string;\r\n          apellidos?: string;\r\n          nombre?: string;\r\n          apellido?: string;\r\n          email?: string;\r\n          especialidad?: string;\r\n        }>\r\n      ).map((inst) => ({\r\n        id_usuario: inst.id_usuario || inst.id_instructor || 0,\r\n        nombre: inst.nombres || inst.nombre || '',\r\n        apellido: inst.apellidos || inst.apellido || '',\r\n        email: inst.email || '',\r\n        especialidad: inst.especialidad,\r\n        status: 'activo' as const,\r\n        id_rol: 0,\r\n        created_at: '',\r\n        updated_at: '',\r\n      }));\r\n    }\r\n    // Manejar formato { success, data }\r\n    if (data && typeof data === 'object' && 'data' in data) {\r\n      return data.data;\r\n    }\r\n    return data as Usuario[];\r\n  },\r\n};\r\n","import * as React from \"react\";\nfunction XMarkIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6 18 18 6M6 6l12 12\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(XMarkIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CheckIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m4.5 12.75 6 6 9-13.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CheckIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ShieldCheckIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ShieldCheckIcon);\nexport default ForwardRef;","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { DashboardLayout } from '@/components/layout';\r\nimport { rolesService } from '@/services/usuarios.service';\r\nimport { permisosService, type Permiso } from '@/services/permisos.service';\r\nimport { Button, ConfirmModal } from '@/components/ui';\r\nimport type { Rol } from '@/types';\r\nimport {\r\n  PlusIcon,\r\n  PencilSquareIcon,\r\n  TrashIcon,\r\n  ShieldCheckIcon,\r\n  XMarkIcon,\r\n  CheckIcon,\r\n} from '@heroicons/react/24/outline';\r\n\r\nexport default function RolesPage() {\r\n  const [roles, setRoles] = useState<Rol[]>([]);\r\n  const [permisos, setPermisos] = useState<Permiso[]>([]);\r\n  const [modulos, setModulos] = useState<string[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [deleteId, setDeleteId] = useState<number | null>(null);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [editingRol, setEditingRol] = useState<Rol | null>(null);\r\n  const [formData, setFormData] = useState({\r\n    nombre: '',\r\n    descripcion: '',\r\n    permisos: [] as number[],\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n    loadPermisos();\r\n  }, []);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      const rolesData = await rolesService.getAll();\r\n      console.log('Roles cargados:', rolesData);\r\n      setRoles(Array.isArray(rolesData) ? rolesData : []);\r\n    } catch (error) {\r\n      console.error('Error cargando roles:', error);\r\n      setRoles([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadPermisos = async () => {\r\n    try {\r\n      const [permisosData, modulosData] = await Promise.all([\r\n        permisosService.getAll({ per_page: 200 }),\r\n        permisosService.getModulos(),\r\n      ]);\r\n      setPermisos(permisosData);\r\n      setModulos(modulosData);\r\n    } catch (error) {\r\n      console.error('Error cargando permisos:', error);\r\n      setPermisos([]);\r\n      setModulos([]);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsSaving(true);\r\n    try {\r\n      if (editingRol) {\r\n        await rolesService.update(editingRol.id_rol, formData);\r\n      } else {\r\n        await rolesService.create(formData);\r\n      }\r\n      setShowModal(false);\r\n      resetForm();\r\n      loadData();\r\n    } catch (error) {\r\n      console.error('Error guardando rol:', error);\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (rol: Rol) => {\r\n    setEditingRol(rol);\r\n    setFormData({\r\n      nombre: rol.nombre,\r\n      descripcion: rol.descripcion || '',\r\n      permisos: rol.permisos?.map((p) => p.id_permiso) || [],\r\n    });\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleDelete = (id: number) => {\r\n    setDeleteId(id);\r\n    setShowDeleteModal(true);\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    if (!deleteId) return;\r\n    setIsDeleting(true);\r\n    try {\r\n      await rolesService.delete(deleteId);\r\n      loadData();\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n    } finally {\r\n      setIsDeleting(false);\r\n      setShowDeleteModal(false);\r\n      setDeleteId(null);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setEditingRol(null);\r\n    setFormData({ nombre: '', descripcion: '', permisos: [] });\r\n  };\r\n\r\n  const togglePermiso = (permisoId: number) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      permisos: prev.permisos.includes(permisoId)\r\n        ? prev.permisos.filter((id) => id !== permisoId)\r\n        : [...prev.permisos, permisoId],\r\n    }));\r\n  };\r\n\r\n  const toggleModulo = (modulo: string) => {\r\n    const permisosDelModulo = permisos\r\n      .filter((p) => p.modulo === modulo)\r\n      .map((p) => p.id_permiso);\r\n\r\n    const todosSeleccionados = permisosDelModulo.every((id) =>\r\n      formData.permisos.includes(id),\r\n    );\r\n\r\n    if (todosSeleccionados) {\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        permisos: prev.permisos.filter((id) => !permisosDelModulo.includes(id)),\r\n      }));\r\n    } else {\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        permisos: [...new Set([...prev.permisos, ...permisosDelModulo])],\r\n      }));\r\n    }\r\n  };\r\n\r\n  if (loading)\r\n    return (\r\n      <DashboardLayout>\r\n        <div className=\"flex justify-center items-center h-64\">\r\n          <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600\" />\r\n        </div>\r\n      </DashboardLayout>\r\n    );\r\n\r\n  return (\r\n    <DashboardLayout>\r\n      <div className=\"space-y-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-green-50 rounded-lg\">\r\n              <ShieldCheckIcon className=\"h-5 w-5 text-green-600\" />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-lg font-semibold text-gray-900\">Roles</h1>\r\n              <p className=\"text-xs text-gray-500\">{roles.length} registros</p>\r\n            </div>\r\n          </div>\r\n          <Button\r\n            size=\"sm\"\r\n            onClick={() => {\r\n              resetForm();\r\n              setShowModal(true);\r\n            }}\r\n          >\r\n            <PlusIcon className=\"h-4 w-4 mr-1\" />\r\n            Nuevo\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {roles.map((rol) => (\r\n            <div\r\n              key={rol.id_rol}\r\n              className=\"bg-white rounded-xl border border-gray-100 p-4\"\r\n            >\r\n              <div className=\"flex items-start justify-between mb-3\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"w-10 h-10 bg-green-50 rounded-lg flex items-center justify-center\">\r\n                    <ShieldCheckIcon className=\"h-5 w-5 text-green-600\" />\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"text-sm font-semibold text-gray-900\">\r\n                      {rol.nombre}\r\n                    </h3>\r\n                    {rol.permisos && rol.permisos.length > 0 && (\r\n                      <p className=\"text-xs text-gray-500\">\r\n                        {rol.permisos.length} permiso\r\n                        {rol.permisos.length !== 1 ? 's' : ''}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {rol.descripcion && (\r\n                <p className=\"text-xs text-gray-500 mb-3 line-clamp-2\">\r\n                  {rol.descripcion}\r\n                </p>\r\n              )}\r\n              {rol.permisos && rol.permisos.length > 0 && (\r\n                <div className=\"mb-3\">\r\n                  <div className=\"flex flex-wrap gap-1\">\r\n                    {rol.permisos.slice(0, 3).map((permiso) => (\r\n                      <span\r\n                        key={permiso.id_permiso}\r\n                        className=\"text-xs px-2 py-0.5 bg-green-50 text-green-700 rounded\"\r\n                      >\r\n                        {permiso.nombre}\r\n                      </span>\r\n                    ))}\r\n                    {rol.permisos.length > 3 && (\r\n                      <span className=\"text-xs px-2 py-0.5 bg-gray-100 text-gray-600 rounded\">\r\n                        +{rol.permisos.length - 3} más\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              <div className=\"flex justify-end gap-1 pt-3 border-t border-gray-100\">\r\n                <button\r\n                  onClick={() => handleEdit(rol)}\r\n                  className=\"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\r\n                >\r\n                  <PencilSquareIcon className=\"h-4 w-4\" />\r\n                </button>\r\n                <button\r\n                  onClick={() => handleDelete(rol.id_rol)}\r\n                  className=\"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\r\n                >\r\n                  <TrashIcon className=\"h-4 w-4\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {showModal && (\r\n          <div className=\"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n            <div className=\"bg-white rounded-xl p-5 w-full max-w-2xl shadow-xl max-h-[90vh] overflow-y-auto\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h2 className=\"text-lg font-semibold text-gray-900\">\r\n                  {editingRol ? 'Editar' : 'Nuevo'} Rol\r\n                </h2>\r\n                <button\r\n                  onClick={() => setShowModal(false)}\r\n                  className=\"p-1 text-gray-400 hover:text-gray-600 rounded-lg\"\r\n                >\r\n                  <XMarkIcon className=\"h-5 w-5\" />\r\n                </button>\r\n              </div>\r\n              <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                    Nombre\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.nombre}\r\n                    onChange={(e) =>\r\n                      setFormData({ ...formData, nombre: e.target.value })\r\n                    }\r\n                    className=\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                    Descripción\r\n                  </label>\r\n                  <textarea\r\n                    value={formData.descripcion}\r\n                    onChange={(e) =>\r\n                      setFormData({ ...formData, descripcion: e.target.value })\r\n                    }\r\n                    className=\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500\"\r\n                    rows={2}\r\n                  />\r\n                </div>\r\n\r\n                {/* Sección de permisos */}\r\n                <div>\r\n                  <label className=\"block text-xs font-medium text-gray-600 mb-2\">\r\n                    Permisos ({formData.permisos.length} seleccionados)\r\n                  </label>\r\n                  <div className=\"border border-gray-200 rounded-lg max-h-64 overflow-y-auto\">\r\n                    {modulos.map((modulo) => {\r\n                      const permisosDelModulo = permisos.filter(\r\n                        (p) => p.modulo === modulo,\r\n                      );\r\n                      const todosSeleccionados = permisosDelModulo.every((p) =>\r\n                        formData.permisos.includes(p.id_permiso),\r\n                      );\r\n\r\n                      return (\r\n                        <div\r\n                          key={modulo}\r\n                          className=\"border-b border-gray-100 last:border-0\"\r\n                        >\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => toggleModulo(modulo)}\r\n                            className=\"w-full px-3 py-2 flex items-center justify-between hover:bg-gray-50 transition-colors\"\r\n                          >\r\n                            <span className=\"text-sm font-medium text-gray-700 capitalize\">\r\n                              {modulo}\r\n                            </span>\r\n                            <div\r\n                              className={`w-4 h-4 rounded border-2 flex items-center justify-center ${\r\n                                todosSeleccionados\r\n                                  ? 'bg-green-600 border-green-600'\r\n                                  : 'border-gray-300'\r\n                              }`}\r\n                            >\r\n                              {todosSeleccionados && (\r\n                                <CheckIcon className=\"h-3 w-3 text-white\" />\r\n                              )}\r\n                            </div>\r\n                          </button>\r\n                          <div className=\"px-6 pb-2 space-y-1\">\r\n                            {permisosDelModulo.map((permiso) => (\r\n                              <label\r\n                                key={permiso.id_permiso}\r\n                                className=\"flex items-center gap-2 py-1 cursor-pointer hover:bg-gray-50 rounded px-2\"\r\n                              >\r\n                                <input\r\n                                  type=\"checkbox\"\r\n                                  checked={formData.permisos.includes(\r\n                                    permiso.id_permiso,\r\n                                  )}\r\n                                  onChange={() =>\r\n                                    togglePermiso(permiso.id_permiso)\r\n                                  }\r\n                                  className=\"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500\"\r\n                                />\r\n                                <div className=\"flex-1\">\r\n                                  <span className=\"text-xs text-gray-700\">\r\n                                    {permiso.nombre}\r\n                                  </span>\r\n                                  {permiso.descripcion && (\r\n                                    <p className=\"text-xs text-gray-400\">\r\n                                      {permiso.descripcion}\r\n                                    </p>\r\n                                  )}\r\n                                </div>\r\n                              </label>\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex justify-end gap-2 pt-2\">\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"secondary\"\r\n                    size=\"sm\"\r\n                    onClick={() => setShowModal(false)}\r\n                    disabled={isSaving}\r\n                  >\r\n                    Cancelar\r\n                  </Button>\r\n                  <Button type=\"submit\" size=\"sm\" disabled={isSaving}>\r\n                    {isSaving\r\n                      ? 'Guardando...'\r\n                      : editingRol\r\n                        ? 'Actualizar'\r\n                        : 'Crear'}\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <ConfirmModal\r\n          isOpen={showDeleteModal}\r\n          onClose={() => setShowDeleteModal(false)}\r\n          onConfirm={confirmDelete}\r\n          title=\"¿Eliminar rol?\"\r\n          message=\"Esta acción no se puede deshacer.\"\r\n          isLoading={isDeleting}\r\n        />\r\n      </div>\r\n    </DashboardLayout>\r\n  );\r\n}\r\n","import { apiClient } from '@/lib/api/client';\r\n\r\nexport interface Permiso {\r\n  id_permiso: number;\r\n  nombre: string;\r\n  slug: string;\r\n  descripcion?: string;\r\n  modulo: string;\r\n}\r\n\r\nexport const permisosService = {\r\n  async getAll(params?: { modulo?: string; per_page?: number }) {\r\n    try {\r\n      const { data } = await apiClient.get<Permiso[] | { data: Permiso[] }>(\r\n        '/permisos',\r\n        params,\r\n      );\r\n      // Manejar respuesta paginada o array directo\r\n      return Array.isArray(data) ? data : data.data || [];\r\n    } catch (error) {\r\n      console.error('Error obteniendo permisos:', error);\r\n      return [];\r\n    }\r\n  },\r\n\r\n  async getModulos() {\r\n    try {\r\n      const { data } = await apiClient.get<string[]>('/permisos/modulos');\r\n      return Array.isArray(data) ? data : [];\r\n    } catch (error) {\r\n      console.error('Error obteniendo módulos:', error);\r\n      return [];\r\n    }\r\n  },\r\n\r\n  async create(permiso: Omit<Permiso, 'id_permiso' | 'slug'>) {\r\n    const { data } = await apiClient.post<{ data: Permiso }>(\r\n      '/permisos',\r\n      permiso,\r\n    );\r\n    return data.data;\r\n  },\r\n\r\n  async update(\r\n    id: number,\r\n    permiso: Partial<Omit<Permiso, 'id_permiso' | 'slug'>>,\r\n  ) {\r\n    const { data } = await apiClient.put<{ data: Permiso }>(\r\n      `/permisos/${id}`,\r\n      permiso,\r\n    );\r\n    return data.data;\r\n  },\r\n\r\n  async delete(id: number) {\r\n    await apiClient.delete(`/permisos/${id}`);\r\n  },\r\n};\r\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,4,5,6]}