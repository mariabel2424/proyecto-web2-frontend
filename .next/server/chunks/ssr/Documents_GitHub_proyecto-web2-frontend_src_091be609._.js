module.exports=[87728,a=>{"use strict";var b=a.i(21652),c=a.i(34680);a.s(["deportistasService",0,{async getAll(a){let{data:d}=await b.apiClient.get(c.API_ENDPOINTS.deportistas,a);if(d&&"object"==typeof d&&"success"in d&&d.data){let a=d.data;return Array.isArray(a)?{data:a,total:a.length,current_page:1,last_page:1,per_page:a.length,from:1,to:a.length}:a}return Array.isArray(d)?{data:d,total:d.length,current_page:1,last_page:1,per_page:d.length,from:1,to:d.length}:d},async getById(a){let{data:d}=await b.apiClient.get(`${c.API_ENDPOINTS.deportistas}/${a}`);return d},async create(a){let{data:d}=await b.apiClient.post(c.API_ENDPOINTS.deportistas,a);return d},async update(a,d){let{data:e}=await b.apiClient.put(`${c.API_ENDPOINTS.deportistas}/${a}`,d);return e},async delete(a){await b.apiClient.delete(`${c.API_ENDPOINTS.deportistas}/${a}`)},async cambiarEstado(a,d){let{data:e}=await b.apiClient.post(`${c.API_ENDPOINTS.deportistas}/${a}/cambiar-estado`,{estado:d});return e},async restaurar(a){let{data:d}=await b.apiClient.post(`${c.API_ENDPOINTS.deportistas}/${a}/restaurar`);return d},async getEstadisticas(){let{data:a}=await b.apiClient.get(`${c.API_ENDPOINTS.deportistas}/estadisticas/generales`);return a},async getActivos(){let{data:a}=await b.apiClient.get(`${c.API_ENDPOINTS.deportistas}/activos/listar`);return a},async getByEstado(a){let{data:d}=await b.apiClient.get(`${c.API_ENDPOINTS.deportistas}/estado/${a}`);return d},async getByCategoria(a){let{data:d}=await b.apiClient.get(`${c.API_ENDPOINTS.deportistas}/categoria/${a}`);return d},async getMisParticipantes(){let{data:a}=await b.apiClient.get(c.API_ENDPOINTS.misParticipantes);return a&&"object"==typeof a&&"data"in a&&Array.isArray(a.data)?a.data:Array.isArray(a)?a:[]},async crearMiParticipante(a){let{data:d}=await b.apiClient.post(c.API_ENDPOINTS.misParticipantes,a);return d&&"object"==typeof d&&"data"in d?d.data:d},async actualizarMiParticipante(a,d){let{data:e}=await b.apiClient.put(`${c.API_ENDPOINTS.misParticipantes}/${a}`,d);return e&&"object"==typeof e&&"data"in e?e.data:e},async eliminarMiParticipante(a){await b.apiClient.delete(`${c.API_ENDPOINTS.misParticipantes}/${a}`)}}])},11868,a=>{"use strict";var b=a.i(21652),c=a.i(34680);a.s(["categoriasService",0,{async getAll(){let{data:a}=await b.apiClient.get(c.API_ENDPOINTS.categorias);if(a&&"object"==typeof a&&"success"in a&&a.data){let b=a.data;return Array.isArray(b)?b:b.data||[]}return a&&"object"==typeof a&&"data"in a?a.data:Array.isArray(a)?a:[]},async getAllPaginated(a){let{data:d}=await b.apiClient.get(c.API_ENDPOINTS.categorias,a);if(d&&"object"==typeof d&&"success"in d&&d.data){let a=d.data;return Array.isArray(a)?{data:a,total:a.length,current_page:1,last_page:1,per_page:a.length,from:1,to:a.length}:a}return Array.isArray(d)?{data:d,total:d.length,current_page:1,last_page:1,per_page:d.length,from:1,to:d.length}:d},async getById(a){let{data:d}=await b.apiClient.get(`${c.API_ENDPOINTS.categorias}/${a}`);return d},async create(a){let{data:d}=await b.apiClient.post(c.API_ENDPOINTS.categorias,a);return d},async update(a,d){let{data:e}=await b.apiClient.put(`${c.API_ENDPOINTS.categorias}/${a}`,d);return e},async delete(a){await b.apiClient.delete(`${c.API_ENDPOINTS.categorias}/${a}`)}}])},75240,a=>{"use strict";var b=a.i(57692),c=a.i(98620),d=a.i(28632);a.i(67360);var e=a.i(4656);a.i(95994);var f=a.i(36119),g=a.i(77314),h=a.i(76182),i=a.i(2133),j=a.i(87728),k=a.i(11868);function l(){let a=(0,d.useRouter)(),l=Number((0,d.useParams)().id),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)({nombres:"",apellidos:"",cedula:"",fecha_nacimiento:"",genero:"M",direccion:"",telefono:"",email:"",peso:"",altura:"",tipo_sangre:"",alergias:"",enfermedades:"",id_categoria:""});(0,c.useEffect)(()=>{(async()=>{try{let[a,b]=await Promise.all([j.deportistasService.getById(l),k.categoriasService.getAll()]);t(b),v({nombres:a.nombres||"",apellidos:a.apellidos||"",cedula:a.cedula||"",fecha_nacimiento:a.fecha_nacimiento||"",genero:a.genero||"M",direccion:a.direccion||"",telefono:a.telefono||"",email:a.email||"",peso:a.peso?String(a.peso):"",altura:a.altura?String(a.altura):"",tipo_sangre:a.tipo_sangre||"",alergias:a.alergias||"",enfermedades:a.enfermedades||"",id_categoria:a.id_categoria?String(a.id_categoria):""})}catch(a){r("Error al cargar el deportista"),console.error(a)}finally{p(!1)}})()},[l]);let w=a=>{let{name:b,value:c}=a.target;v(a=>({...a,[b]:c}))},x=async b=>{b.preventDefault(),n(!0),r("");try{await j.deportistasService.update(l,{...u,genero:u.genero,peso:u.peso?parseFloat(u.peso):void 0,altura:u.altura?parseFloat(u.altura):void 0,id_categoria:u.id_categoria?parseInt(u.id_categoria):void 0}),a.push("/deportistas")}catch(a){r(a instanceof Error?a.message:"Error al actualizar")}finally{n(!1)}};return o?(0,b.jsx)(e.DashboardLayout,{children:(0,b.jsx)("div",{className:"flex justify-center py-12",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):(0,b.jsx)(e.DashboardLayout,{children:(0,b.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Editar Deportista"})}),(0,b.jsxs)(f.CardContent,{children:[q&&(0,b.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:q}),(0,b.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(h.Input,{label:"Nombres",name:"nombres",value:u.nombres,onChange:w,required:!0}),(0,b.jsx)(h.Input,{label:"Apellidos",name:"apellidos",value:u.apellidos,onChange:w,required:!0})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(h.Input,{label:"Cédula",name:"cedula",value:u.cedula,onChange:w}),(0,b.jsx)(h.Input,{label:"Fecha de Nacimiento",name:"fecha_nacimiento",type:"date",value:u.fecha_nacimiento,onChange:w,required:!0})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(i.Select,{label:"Género",name:"genero",value:u.genero,onChange:w,options:[{value:"M",label:"Masculino"},{value:"F",label:"Femenino"}]}),(0,b.jsx)(i.Select,{label:"Categoría",name:"id_categoria",value:u.id_categoria,onChange:w,placeholder:"Seleccionar",options:s.map(a=>({value:a.id_categoria,label:a.nombre}))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(h.Input,{label:"Teléfono",name:"telefono",value:u.telefono,onChange:w}),(0,b.jsx)(h.Input,{label:"Email",name:"email",type:"email",value:u.email,onChange:w})]}),(0,b.jsx)(h.Input,{label:"Dirección",name:"direccion",value:u.direccion,onChange:w}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsx)(h.Input,{label:"Peso (kg)",name:"peso",type:"number",step:"0.1",value:u.peso,onChange:w}),(0,b.jsx)(h.Input,{label:"Altura (cm)",name:"altura",type:"number",step:"0.1",value:u.altura,onChange:w}),(0,b.jsx)(h.Input,{label:"Tipo de Sangre",name:"tipo_sangre",value:u.tipo_sangre,onChange:w})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alergias"}),(0,b.jsx)("textarea",{name:"alergias",value:u.alergias,onChange:w,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enfermedades"}),(0,b.jsx)("textarea",{name:"enfermedades",value:u.enfermedades,onChange:w,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,b.jsx)(g.Button,{type:"button",variant:"secondary",onClick:()=>a.back(),children:"Cancelar"}),(0,b.jsx)(g.Button,{type:"submit",disabled:m,children:m?"Guardando...":"Guardar Cambios"})]})]})]})]})})})}a.s(["default",()=>l])}];

//# sourceMappingURL=Documents_GitHub_proyecto-web2-frontend_src_091be609._.js.map