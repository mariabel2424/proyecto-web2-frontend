module.exports=[733,a=>{"use strict";var b=a.i(57692),c=a.i(98620);a.i(67360);var d=a.i(4656);a.i(95994);var e=a.i(77314),f=a.i(91419),g=a.i(60364),h=a.i(62664),i=a.i(72328),j=a.i(86166),k=a.i(87728),l=a.i(11868),m=a.i(65513),n=a.i(29869),o=a.i(77573),p=a.i(60407),q=a.i(74891),r=a.i(82886),s=a.i(92276);function t(){let[a,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(null),[I,J]=(0,c.useState)({estado:"",id_categoria:""}),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)({nombres:"",apellidos:"",cedula:"",fecha_nacimiento:"",genero:"M",id_categoria:"",peso:"",altura:"",direccion:"",telefono:"",email:""});(0,c.useEffect)(()=>{l.categoriasService.getAll().then(t).catch(console.error)},[]);let O=(0,c.useCallback)(a=>k.deportistasService.getAll({...a,...I}),[I]),{data:P,isLoading:Q,page:R,perPage:S,total:T,lastPage:U,search:V,sortBy:W,sortOrder:X,goToPage:Y,changePerPage:Z,handleSearch:$,handleSort:_,refetch:aa}=(0,j.usePagination)(O),ab=async()=>{if(C){F(!0);try{await k.deportistasService.delete(C),aa()}catch(a){console.error("Error:",a)}finally{F(!1),z(!1),D(null)}}},ac=()=>{H(null),N({nombres:"",apellidos:"",cedula:"",fecha_nacimiento:"",genero:"M",id_categoria:"",peso:"",altura:"",direccion:"",telefono:"",email:""})},ad=async a=>{a.preventDefault();try{let a={...M,genero:M.genero,id_categoria:M.id_categoria?Number(M.id_categoria):void 0,peso:M.peso?Number(M.peso):void 0,altura:M.altura?Number(M.altura):void 0};G?await k.deportistasService.update(G.id_deportista,a):await k.deportistasService.create(a),x(!1),ac(),aa()}catch(a){console.error("Error:",a)}},ae=[{key:"nombre",header:"Participante",sortable:!0,render:a=>(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center text-green-600 text-sm font-medium",children:a.nombres?.charAt(0)}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[a.nombres," ",a.apellidos]}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:a.cedula||"Sin cédula"})]})]})},{key:"categoria",header:"Categoría",render:a=>(0,b.jsx)("span",{className:"text-sm text-gray-600",children:a.categoria?.nombre||"-"})},{key:"edad",header:"Edad",render:a=>(0,b.jsx)("span",{className:"text-sm text-gray-600",children:a.edad?`${a.edad} a\xf1os`:"-"})},{key:"estado",header:"Estado",render:a=>(0,b.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${"activo"===a.estado?"bg-emerald-50 text-emerald-600":"bg-gray-100 text-gray-500"}`,children:"activo"===a.estado?"Activo":"Inactivo"})},{key:"acciones",header:"",render:a=>(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,b.jsx)("button",{onClick:()=>{B(a),v(!0)},className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)(o.EyeIcon,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>{H(a),N({nombres:a.nombres||"",apellidos:a.apellidos||"",cedula:a.cedula||"",fecha_nacimiento:a.fecha_nacimiento||"",genero:a.genero||"M",id_categoria:a.id_categoria?.toString()||"",peso:a.peso?.toString()||"",altura:a.altura?.toString()||"",direccion:a.direccion||"",telefono:a.telefono||"",email:a.email||""}),x(!0)},className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:(0,b.jsx)(p.PencilSquareIcon,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>{D(a.id_deportista),z(!0)},className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,b.jsx)(q.TrashIcon,{className:"h-4 w-4"})})]})}];return(0,b.jsx)(d.DashboardLayout,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-50 rounded-lg",children:(0,b.jsx)(r.UserGroupIcon,{className:"h-5 w-5 text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Participantes"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[T," registros"]})]})]}),(0,b.jsxs)(e.Button,{size:"sm",onClick:()=>{ac(),x(!0)},children:[(0,b.jsx)(m.PlusIcon,{className:"h-4 w-4 mr-1"}),"Nuevo"]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100 p-3",children:[(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(n.MagnifyingGlassIcon,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Buscar participante...",value:V,onChange:a=>$(a.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500"})]}),(0,b.jsxs)("button",{onClick:()=>L(!K),className:`px-3 py-2 text-sm border rounded-lg flex items-center gap-2 transition-colors ${K?"bg-green-50 border-green-200 text-green-600":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[(0,b.jsx)(s.FunnelIcon,{className:"h-4 w-4"}),"Filtros"]})]}),K&&(0,b.jsxs)("div",{className:"flex gap-3 mt-3 pt-3 border-t border-gray-100",children:[(0,b.jsxs)("select",{value:I.estado,onChange:a=>J({...I,estado:a.target.value}),className:"px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20",children:[(0,b.jsx)("option",{value:"",children:"Todos los estados"}),(0,b.jsx)("option",{value:"activo",children:"Activo"}),(0,b.jsx)("option",{value:"inactivo",children:"Inactivo"})]}),(0,b.jsxs)("select",{value:I.id_categoria,onChange:a=>J({...I,id_categoria:a.target.value}),className:"px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20",children:[(0,b.jsx)("option",{value:"",children:"Todas las categorías"}),a.map(a=>(0,b.jsx)("option",{value:a.id_categoria,children:a.nombre},a.id_categoria))]}),(0,b.jsx)("button",{onClick:()=>J({estado:"",id_categoria:""}),className:"text-sm text-gray-500 hover:text-gray-700",children:"Limpiar"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:[(0,b.jsx)(f.Table,{columns:ae,data:P,keyExtractor:a=>a.id_deportista,isLoading:Q,onSort:_,sortBy:W,sortOrder:X}),(0,b.jsx)("div",{className:"border-t border-gray-100",children:(0,b.jsx)(g.Pagination,{page:R,lastPage:U,total:T,perPage:S,onPageChange:Y,onPerPageChange:Z})})]}),(0,b.jsx)(h.Modal,{isOpen:u,onClose:()=>v(!1),title:"Detalle",size:"lg",children:A&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-100",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center text-green-600 text-lg font-medium",children:A.nombres?.charAt(0)}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium text-gray-900",children:[A.nombres," ",A.apellidos]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:A.cedula||"Sin cédula"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Fecha de Nacimiento"}),(0,b.jsx)("p",{className:"text-gray-900",children:A.fecha_nacimiento||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Género"}),(0,b.jsx)("p",{className:"text-gray-900",children:"M"===A.genero?"Masculino":"Femenino"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Categoría"}),(0,b.jsx)("p",{className:"text-gray-900",children:A.categoria?.nombre||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Estado"}),(0,b.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${"activo"===A.estado?"bg-emerald-50 text-emerald-600":"bg-gray-100 text-gray-500"}`,children:"activo"===A.estado?"Activo":"Inactivo"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Peso"}),(0,b.jsx)("p",{className:"text-gray-900",children:A.peso?`${A.peso} kg`:"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Altura"}),(0,b.jsx)("p",{className:"text-gray-900",children:A.altura?`${A.altura} cm`:"-"})]})]})]})}),(0,b.jsx)(h.Modal,{isOpen:w,onClose:()=>x(!1),title:`${G?"Editar":"Nuevo"} Deportista`,size:"lg",children:(0,b.jsxs)("form",{onSubmit:ad,className:"space-y-3",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Nombres"}),(0,b.jsx)("input",{type:"text",value:M.nombres,onChange:a=>N({...M,nombres:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Apellidos"}),(0,b.jsx)("input",{type:"text",value:M.apellidos,onChange:a=>N({...M,apellidos:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500",required:!0})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Cédula"}),(0,b.jsx)("input",{type:"text",value:M.cedula,onChange:a=>N({...M,cedula:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Fecha Nacimiento"}),(0,b.jsx)("input",{type:"date",value:M.fecha_nacimiento,onChange:a=>N({...M,fecha_nacimiento:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Género"}),(0,b.jsxs)("select",{value:M.genero,onChange:a=>N({...M,genero:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500",children:[(0,b.jsx)("option",{value:"M",children:"Masculino"}),(0,b.jsx)("option",{value:"F",children:"Femenino"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Categoría"}),(0,b.jsxs)("select",{value:M.id_categoria,onChange:a=>N({...M,id_categoria:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500",children:[(0,b.jsx)("option",{value:"",children:"Seleccionar"}),a.map(a=>(0,b.jsx)("option",{value:a.id_categoria,children:a.nombre},a.id_categoria))]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Peso (kg)"}),(0,b.jsx)("input",{type:"number",step:"0.1",value:M.peso,onChange:a=>N({...M,peso:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Altura (cm)"}),(0,b.jsx)("input",{type:"number",value:M.altura,onChange:a=>N({...M,altura:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Teléfono"}),(0,b.jsx)("input",{type:"text",value:M.telefono,onChange:a=>N({...M,telefono:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Email"}),(0,b.jsx)("input",{type:"email",value:M.email,onChange:a=>N({...M,email:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Dirección"}),(0,b.jsx)("input",{type:"text",value:M.direccion,onChange:a=>N({...M,direccion:a.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500"})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2 pt-3",children:[(0,b.jsx)(e.Button,{type:"button",variant:"secondary",size:"sm",onClick:()=>x(!1),children:"Cancelar"}),(0,b.jsx)(e.Button,{type:"submit",size:"sm",children:G?"Actualizar":"Crear"})]})]})}),(0,b.jsx)(i.ConfirmModal,{isOpen:y,onClose:()=>z(!1),onConfirm:ab,title:"¿Eliminar deportista?",message:"Esta acción no se puede deshacer. El deportista será eliminado permanentemente.",isLoading:E})]})})}a.s(["default",()=>t])}];

//# sourceMappingURL=80b94_GitHub_proyecto-web2-frontend_src_app_%28dashboard%29_deportistas_page_tsx_867b6280._.js.map