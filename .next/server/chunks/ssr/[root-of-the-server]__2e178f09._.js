module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},67577,(a,b,c)=>{"use strict";b.exports=a.r(18622)},57692,(a,b,c)=>{"use strict";b.exports=a.r(67577).vendored["react-ssr"].ReactJsxRuntime},98620,(a,b,c)=>{"use strict";b.exports=a.r(67577).vendored["react-ssr"].React},21652,34680,a=>{"use strict";let b=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000/api";a.s(["API_BASE_URL",0,b,"API_ENDPOINTS",0,{auth:{login:"/auth/login",register:"/register",logout:"/auth/logout",me:"/auth/me",cambiarPassword:"/auth/cambiar-password",verificarEmail:"/auth/verificar-email",enviarCodigo:"/auth/enviar-codigo",verificarCodigo:"/auth/verificar-codigo",solicitarReset:"/auth/solicitar-reset",verificarToken:"/auth/verificar-token"},dashboard:{estadisticas:"/dashboard/estadisticas",cursosActivos:"/dashboard/cursos-activos",inscripcionesRecientes:"/dashboard/inscripciones-recientes",facturacionMensual:"/dashboard/facturacion-mensual",misDatos:"/dashboard/mis-datos",participantes:"/dashboard/participantes"},usuarios:"/usuarios",roles:"/rols",cursos:"/cursos",cursosAbiertos:"/cursos-abiertos",gruposCurso:"/grupos-curso",gruposPublico:"/cursos",inscripcionesCurso:"/inscripciones-curso",deportistas:"/deportistas",misParticipantes:"/mis-participantes",categorias:"/categorias",tutores:"/tutores",instructores:"/instructores",facturas:"/facturas",pagos:"/pagos",misPagos:"/mis-pagos",misFacturas:"/mis-facturas",misInscripciones:"/mis-inscripciones",configuraciones:"/configuraciones"}],34680);class c extends Error{status;data;errors;constructor(a,b,c){super(a),this.name="ApiError",this.status=b,this.data=c,c&&"object"==typeof c&&"errors"in c&&(this.errors=c.errors)}}let d=new class{baseUrl;constructor(a){this.baseUrl=a}getToken(){return null}buildUrl(a,b){let c=new URL(`${this.baseUrl}${a}`);return b&&Object.entries(b).forEach(([a,b])=>{void 0!==b&&c.searchParams.append(a,String(b))}),c.toString()}async request(a,b={}){let{method:d="GET",body:e,headers:f={},params:g}=b,h=this.getToken(),i={"Content-Type":"application/json",Accept:"application/json",...f};h&&(i.Authorization=`Bearer ${h}`);let j={method:d,headers:i,credentials:"include"};e&&"GET"!==d&&(j.body=JSON.stringify(e));let k=await fetch(this.buildUrl(a,g),j),l=await k.json();if(!k.ok)throw new c(l.message||"Error en la petición",k.status,l);return{data:l,status:k.status}}get(a,b){return this.request(a,{method:"GET",params:b})}post(a,b){return this.request(a,{method:"POST",body:b})}put(a,b){return this.request(a,{method:"PUT",body:b})}patch(a,b){return this.request(a,{method:"PATCH",body:b})}delete(a){return this.request(a,{method:"DELETE"})}}(b);a.s(["apiClient",0,d],21652)},9587,a=>{"use strict";var b=a.i(21652),c=a.i(34680);a.s(["authService",0,{async login(a){let{data:d}=await b.apiClient.post(c.API_ENDPOINTS.auth.login,a);return d.token&&localStorage.setItem("auth_token",d.token),d},async register(a){let{data:d}=await b.apiClient.post(c.API_ENDPOINTS.auth.register,a);return d.token&&localStorage.setItem("auth_token",d.token),d},async logout(){try{await b.apiClient.post(c.API_ENDPOINTS.auth.logout)}finally{localStorage.removeItem("auth_token")}},async getMe(){let{data:a}=await b.apiClient.get(c.API_ENDPOINTS.auth.me);return a.user},async cambiarPassword(a,d,e){await b.apiClient.post(c.API_ENDPOINTS.auth.cambiarPassword,{password_actual:a,password_nuevo:d,password_nuevo_confirmation:e})},async verificarEmail(a){let{data:d}=await b.apiClient.post(c.API_ENDPOINTS.auth.verificarEmail,{email:a});return d},async enviarCodigo(a){await b.apiClient.post(c.API_ENDPOINTS.auth.enviarCodigo,{email:a})},async verificarCodigo(a,d){let{data:e}=await b.apiClient.post(c.API_ENDPOINTS.auth.verificarCodigo,{email:a,codigo:d});return e},async solicitarReset(a){await b.apiClient.post(c.API_ENDPOINTS.auth.solicitarReset,{email:a})},async verificarToken(a){let{data:d}=await b.apiClient.post(c.API_ENDPOINTS.auth.verificarToken,{token:a});return d},isAuthenticated:()=>!1}])},91587,a=>{"use strict";var b=a.i(98620),c=a.i(9587);let d=(0,b.createContext)(void 0);function e({children:a}){let[e,f]=(0,b.useState)(null),[g,h]=(0,b.useState)(!0),i=(0,b.useCallback)(async()=>{try{if(c.authService.isAuthenticated()){let a=await c.authService.getMe();console.log("Usuario cargado:",a),console.log("Rol del usuario:",a?.rol),f(a)}else console.log("No hay token de autenticación"),f(null)}catch(a){console.error("Error al cargar usuario:",a),localStorage.removeItem("auth_token"),f(null)}finally{h(!1)}},[]);(0,b.useEffect)(()=>{i()},[i]);let j=async a=>{f((await c.authService.login(a)).user)},k=async a=>{f((await c.authService.register(a)).user)},l=async()=>{try{await c.authService.logout()}catch{localStorage.removeItem("auth_token")}f(null)};return b.default.createElement(d.Provider,{value:{user:e,isLoading:g,isAuthenticated:!!e,login:j,register:k,logout:l,refreshUser:i}},a)}function f(){let a=(0,b.useContext)(d);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}a.s(["AuthProvider",()=>e,"useAuth",()=>f])},67517,a=>{"use strict";var b=a.i(57692),c=a.i(91587);function d({children:a}){return(0,b.jsx)(c.AuthProvider,{children:a})}a.s(["Providers",()=>d])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__2e178f09._.js.map