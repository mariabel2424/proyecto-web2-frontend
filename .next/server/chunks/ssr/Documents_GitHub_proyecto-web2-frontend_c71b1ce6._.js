module.exports=[74891,a=>{"use strict";var b=a.i(98620);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});a.s(["TrashIcon",0,c],74891)},65513,a=>{"use strict";var b=a.i(98620);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});a.s(["PlusIcon",0,c],65513)},87728,a=>{"use strict";var b=a.i(21652),c=a.i(34680);a.s(["deportistasService",0,{async getAll(a){let{data:d}=await b.apiClient.get(c.API_ENDPOINTS.deportistas,a);if(d&&"object"==typeof d&&"success"in d&&d.data){let a=d.data;return Array.isArray(a)?{data:a,total:a.length,current_page:1,last_page:1,per_page:a.length,from:1,to:a.length}:a}return Array.isArray(d)?{data:d,total:d.length,current_page:1,last_page:1,per_page:d.length,from:1,to:d.length}:d},async getById(a){let{data:d}=await b.apiClient.get(`${c.API_ENDPOINTS.deportistas}/${a}`);return d},async create(a){let{data:d}=await b.apiClient.post(c.API_ENDPOINTS.deportistas,a);return d},async update(a,d){let{data:e}=await b.apiClient.put(`${c.API_ENDPOINTS.deportistas}/${a}`,d);return e},async delete(a){await b.apiClient.delete(`${c.API_ENDPOINTS.deportistas}/${a}`)},async cambiarEstado(a,d){let{data:e}=await b.apiClient.post(`${c.API_ENDPOINTS.deportistas}/${a}/cambiar-estado`,{estado:d});return e},async restaurar(a){let{data:d}=await b.apiClient.post(`${c.API_ENDPOINTS.deportistas}/${a}/restaurar`);return d},async getEstadisticas(){let{data:a}=await b.apiClient.get(`${c.API_ENDPOINTS.deportistas}/estadisticas/generales`);return a},async getActivos(){let{data:a}=await b.apiClient.get(`${c.API_ENDPOINTS.deportistas}/activos/listar`);return a},async getByEstado(a){let{data:d}=await b.apiClient.get(`${c.API_ENDPOINTS.deportistas}/estado/${a}`);return d},async getByCategoria(a){let{data:d}=await b.apiClient.get(`${c.API_ENDPOINTS.deportistas}/categoria/${a}`);return d},async getMisParticipantes(){let{data:a}=await b.apiClient.get(c.API_ENDPOINTS.misParticipantes);return a&&"object"==typeof a&&"data"in a&&Array.isArray(a.data)?a.data:Array.isArray(a)?a:[]},async crearMiParticipante(a){let{data:d}=await b.apiClient.post(c.API_ENDPOINTS.misParticipantes,a);return d&&"object"==typeof d&&"data"in d?d.data:d},async actualizarMiParticipante(a,d){let{data:e}=await b.apiClient.put(`${c.API_ENDPOINTS.misParticipantes}/${a}`,d);return e&&"object"==typeof e&&"data"in e?e.data:e},async eliminarMiParticipante(a){await b.apiClient.delete(`${c.API_ENDPOINTS.misParticipantes}/${a}`)}}])},11868,a=>{"use strict";var b=a.i(21652),c=a.i(34680);a.s(["categoriasService",0,{async getAll(){let{data:a}=await b.apiClient.get(c.API_ENDPOINTS.categorias);if(a&&"object"==typeof a&&"success"in a&&a.data){let b=a.data;return Array.isArray(b)?b:b.data||[]}return a&&"object"==typeof a&&"data"in a?a.data:Array.isArray(a)?a:[]},async getAllPaginated(a){let{data:d}=await b.apiClient.get(c.API_ENDPOINTS.categorias,a);if(d&&"object"==typeof d&&"success"in d&&d.data){let a=d.data;return Array.isArray(a)?{data:a,total:a.length,current_page:1,last_page:1,per_page:a.length,from:1,to:a.length}:a}return Array.isArray(d)?{data:d,total:d.length,current_page:1,last_page:1,per_page:d.length,from:1,to:d.length}:d},async getById(a){let{data:d}=await b.apiClient.get(`${c.API_ENDPOINTS.categorias}/${a}`);return d},async create(a){let{data:d}=await b.apiClient.post(c.API_ENDPOINTS.categorias,a);return d},async update(a,d){let{data:e}=await b.apiClient.put(`${c.API_ENDPOINTS.categorias}/${a}`,d);return e},async delete(a){await b.apiClient.delete(`${c.API_ENDPOINTS.categorias}/${a}`)}}])},59446,a=>{"use strict";var b=a.i(57692),c=a.i(98620);a.i(67360);var d=a.i(4656),e=a.i(87728),f=a.i(11868);a.i(95994);var g=a.i(77314),h=a.i(36119),i=a.i(91363),j=a.i(76182),k=a.i(2133),l=a.i(62664),m=a.i(63953),n=a.i(46894),o=a.i(65513);let p=c.forwardRef(function({title:a,titleId:b,...d},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":b},d),a?c.createElement("title",{id:b},a):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))});var q=a.i(74891),r=a.i(82886);let s={nombres:"",apellidos:"",cedula:"",fecha_nacimiento:"",genero:"M",direccion:"",telefono:"",email:"",tipo_sangre:"",alergias:"",enfermedades:"",id_categoria:void 0};function t(){let[a,t]=(0,c.useState)([]),[u,v]=(0,c.useState)([]),[w,x]=(0,c.useState)(!0),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(null),[I,J]=(0,c.useState)(s),[K,L]=(0,c.useState)(!1),M=(0,c.useCallback)(async()=>{try{x(!0),z("");let[a,b]=await Promise.all([e.deportistasService.getMisParticipantes(),f.categoriasService.getAll()]);t(a||[]),Array.isArray(b)?v(b):b&&"data"in b&&Array.isArray(b.data)?v(b.data):v([])}catch(a){console.error("Error cargando datos:",a),z("Error al cargar los datos. Verifica tu conexión.")}finally{x(!1)}},[]);(0,c.useEffect)(()=>{M()},[M]);let N=a=>{let{name:b,value:c}=a.target;J(a=>({...a,[b]:c}))},O=()=>{J(s),F(!1),H(null),D(!0)},P=async a=>{a.preventDefault(),z(""),L(!0);try{E&&G?(await e.deportistasService.actualizarMiParticipante(G,I),B("Participante actualizado correctamente")):(await e.deportistasService.crearMiParticipante(I),B("Participante registrado correctamente")),D(!1),M()}catch(a){z(a instanceof Error?a.message:"Error al guardar")}finally{L(!1)}},Q=async a=>{if(confirm("¿Estás seguro de eliminar este participante?"))try{await e.deportistasService.eliminarMiParticipante(a),B("Participante eliminado"),M()}catch(a){z("Error al eliminar")}};return w?(0,b.jsx)(d.DashboardLayout,{children:(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsx)(m.Spinner,{size:"lg"})})}):(0,b.jsx)(d.DashboardLayout,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-50 rounded-lg",children:(0,b.jsx)(r.UserGroupIcon,{className:"h-5 w-5 text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Mis Participantes"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Registra a tus hijos para inscribirlos en cursos"})]})]}),(0,b.jsxs)(g.Button,{size:"sm",onClick:O,children:[(0,b.jsx)(o.PlusIcon,{className:"h-4 w-4 mr-1"}),"Agregar"]})]}),y&&(0,b.jsx)(i.Alert,{variant:"error",onClose:()=>z(""),children:y}),A&&(0,b.jsx)(i.Alert,{variant:"success",onClose:()=>B(""),children:A}),0===a.length?(0,b.jsxs)(h.Card,{className:"text-center py-12",children:[(0,b.jsx)(r.UserGroupIcon,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tienes participantes registrados"}),(0,b.jsx)("p",{className:"text-gray-500 mb-6",children:"Registra a tus hijos para poder inscribirlos en los cursos"}),(0,b.jsxs)(g.Button,{onClick:O,children:[(0,b.jsx)(o.PlusIcon,{className:"h-5 w-5 mr-2"}),"Registrar mi primer participante"]})]}):(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(a=>{var c;let d,e,f,g;return(0,b.jsxs)(h.Card,{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("h3",{className:"font-semibold text-gray-900",children:[a.nombres," ",a.apellidos]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:[(c=a.fecha_nacimiento,d=new Date,e=new Date(c),f=d.getFullYear()-e.getFullYear(),((g=d.getMonth()-e.getMonth())<0||0===g&&d.getDate()<e.getDate())&&f--,f)," años •"," ","M"===a.genero?"Masculino":"Femenino"]}),a.categoria&&(0,b.jsx)(n.Badge,{variant:"info",children:a.categoria.nombre})]}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)("button",{onClick:()=>{let b;return b="",void(a.fecha_nacimiento&&(b=new Date(a.fecha_nacimiento).toISOString().split("T")[0]),J({nombres:a.nombres,apellidos:a.apellidos,cedula:a.cedula||"",fecha_nacimiento:b,genero:a.genero,direccion:a.direccion||"",telefono:a.telefono||"",email:a.email||"",tipo_sangre:a.tipo_sangre||"",alergias:a.alergias||"",enfermedades:a.enfermedades||"",id_categoria:a.id_categoria}),F(!0),H(a.id_deportista),D(!0))},className:"p-2 text-gray-400 hover:text-green-600 transition-colors",children:(0,b.jsx)(p,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>Q(a.id_deportista),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",children:(0,b.jsx)(q.TrashIcon,{className:"h-4 w-4"})})]})]}),(a.alergias||a.enfermedades)&&(0,b.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[a.alergias&&(0,b.jsxs)("p",{className:"text-xs text-orange-600",children:[(0,b.jsx)("span",{className:"font-medium",children:"Alergias:"})," ",a.alergias]}),a.enfermedades&&(0,b.jsxs)("p",{className:"text-xs text-red-600",children:[(0,b.jsx)("span",{className:"font-medium",children:"Condiciones:"})," ",a.enfermedades]})]})]},a.id_deportista)})}),(0,b.jsx)(l.Modal,{isOpen:C,onClose:()=>D(!1),title:E?"Editar Participante":"Registrar Participante",size:"lg",children:(0,b.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(j.Input,{label:"Nombres",name:"nombres",value:I.nombres,onChange:N,required:!0}),(0,b.jsx)(j.Input,{label:"Apellidos",name:"apellidos",value:I.apellidos,onChange:N,required:!0})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(j.Input,{label:"Fecha de Nacimiento",type:"date",name:"fecha_nacimiento",value:I.fecha_nacimiento,onChange:N,required:!0}),(0,b.jsx)(k.Select,{label:"Género",name:"genero",value:I.genero,onChange:N,options:[{value:"M",label:"Masculino"},{value:"F",label:"Femenino"}],required:!0})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(j.Input,{label:"Cédula (opcional)",name:"cedula",value:I.cedula,onChange:N,placeholder:"Si tiene"}),(0,b.jsx)(k.Select,{label:"Categoría",name:"id_categoria",value:I.id_categoria?.toString()||"",onChange:N,options:[{value:"",label:"Seleccionar categoría"},...u.map(a=>({value:a.id_categoria.toString(),label:`${a.nombre}${a.edad_minima&&a.edad_maxima?` (${a.edad_minima}-${a.edad_maxima} a\xf1os)`:""}`}))]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(j.Input,{label:"Tipo de Sangre",name:"tipo_sangre",value:I.tipo_sangre,onChange:N,placeholder:"Ej: O+"}),(0,b.jsx)(j.Input,{label:"Teléfono de emergencia",name:"telefono",value:I.telefono,onChange:N})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alergias (si tiene)"}),(0,b.jsx)("textarea",{name:"alergias",value:I.alergias,onChange:N,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Describe las alergias conocidas"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condiciones médicas (si tiene)"}),(0,b.jsx)("textarea",{name:"enfermedades",value:I.enfermedades,onChange:N,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Describe condiciones médicas importantes"})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,b.jsx)(g.Button,{type:"button",variant:"secondary",onClick:()=>D(!1),children:"Cancelar"}),(0,b.jsx)(g.Button,{type:"submit",isLoading:K,children:E?"Guardar Cambios":"Registrar"})]})]})})]})})}a.s(["default",()=>t],59446)}];

//# sourceMappingURL=Documents_GitHub_proyecto-web2-frontend_c71b1ce6._.js.map