(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32959,e=>{"use strict";var t=e.i(96564),a=e.i(55528);e.s(["asistenciasService",0,{async getAsistencias(e,r){let{data:s}=await t.apiClient.get(`${a.API_ENDPOINTS.gruposCurso}/${e}/asistencias`,r?{fecha:r}:{});return s},async registrarAsistencias(e,r,s){let{data:i}=await t.apiClient.post(`${a.API_ENDPOINTS.gruposCurso}/${e}/asistencias`,{fecha:r,asistencias:s});return i},async getHistorial(e,r,s){let i={};r&&(i.fecha_inicio=r),s&&(i.fecha_fin=s);let{data:n}=await t.apiClient.get(`${a.API_ENDPOINTS.gruposCurso}/${e}/asistencias/historial`,i);return n},async getReporte(e,r){let{data:s}=await t.apiClient.get(`${a.API_ENDPOINTS.gruposCurso}/${e}/asistencias/reporte`,{fecha:r});return s}},"cursosService",0,{async getAll(e){let{data:r}=await t.apiClient.get(a.API_ENDPOINTS.cursos,e);if(r&&"object"==typeof r&&"success"in r&&r.data){let e=r.data;return Array.isArray(e)?{data:e,total:e.length,current_page:1,last_page:1,per_page:e.length,from:1,to:e.length}:e}return r&&"object"==typeof r&&"current_page"in r&&"data"in r?{data:Array.isArray(r.data)?r.data:[],total:r.total||0,current_page:r.current_page||1,last_page:r.last_page||1,per_page:r.per_page||15,from:r.from||0,to:r.to||0}:Array.isArray(r)?{data:r,total:r.length,current_page:1,last_page:1,per_page:r.length,from:1,to:r.length}:{data:[],total:0,current_page:1,last_page:1,per_page:15,from:0,to:0}},async getById(e){let{data:r}=await t.apiClient.get(`${a.API_ENDPOINTS.cursos}/${e}`);return r},async create(e){let{data:r}=await t.apiClient.post(a.API_ENDPOINTS.cursos,e);return r},async update(e,r){let{data:s}=await t.apiClient.put(`${a.API_ENDPOINTS.cursos}/${e}`,r);return s},async delete(e){await t.apiClient.delete(`${a.API_ENDPOINTS.cursos}/${e}`)},async getCursosAbiertos(){let{data:e}=await t.apiClient.get(a.API_ENDPOINTS.cursosAbiertos);return e},async getParticipantes(e){let{data:r}=await t.apiClient.get(`${a.API_ENDPOINTS.cursos}/${e}/participantes`);return r},async getGruposDisponibles(e){let{data:r}=await t.apiClient.get(`${a.API_ENDPOINTS.cursos}/${e}/grupos-disponibles`);return r},async getGruposPublico(e){let{data:r}=await t.apiClient.get(`${a.API_ENDPOINTS.cursos}/${e}/grupos-publico`);return r}},"gruposCursoService",0,{async getAll(e){let{data:r}=await t.apiClient.get(a.API_ENDPOINTS.gruposCurso,e);if(r&&"object"==typeof r&&"success"in r&&r.data){let e=r.data;return Array.isArray(e)?{data:e,total:e.length,current_page:1,last_page:1,per_page:e.length,from:1,to:e.length}:e}return Array.isArray(r)?{data:r,total:r.length,current_page:1,last_page:1,per_page:r.length,from:1,to:r.length}:r},async getById(e){let{data:r}=await t.apiClient.get(`${a.API_ENDPOINTS.gruposCurso}/${e}`);return r},async create(e){let{data:r}=await t.apiClient.post(a.API_ENDPOINTS.gruposCurso,e);return r},async update(e,r){let{data:s}=await t.apiClient.put(`${a.API_ENDPOINTS.gruposCurso}/${e}`,r);return s},async delete(e){await t.apiClient.delete(`${a.API_ENDPOINTS.gruposCurso}/${e}`)},async getDeportistas(e){let{data:r}=await t.apiClient.get(`${a.API_ENDPOINTS.gruposCurso}/${e}/deportistas`);return r},async asignarInstructor(e,r){let{data:s}=await t.apiClient.post(`${a.API_ENDPOINTS.gruposCurso}/${e}/asignar-instructor`,{id_instructor:r});return s},async quitarInstructor(e,r){let{data:s}=await t.apiClient.post(`${a.API_ENDPOINTS.gruposCurso}/${e}/quitar-instructor`,{id_instructor:r});return s},async getInstructores(e){let{data:r}=await t.apiClient.get(`${a.API_ENDPOINTS.gruposCurso}/${e}/instructores`);return r},async cambiarEstado(e,r){let{data:s}=await t.apiClient.patch(`${a.API_ENDPOINTS.gruposCurso}/${e}/cambiar-estado`,{estado:r});return s}},"inscripcionesService",0,{async getAll(e){let{data:r}=await t.apiClient.get(a.API_ENDPOINTS.inscripcionesCurso,e);if(r&&"object"==typeof r&&"success"in r&&r.data){let e=r.data;return Array.isArray(e)?{data:e,total:e.length,current_page:1,last_page:1,per_page:e.length,from:1,to:e.length}:e}return Array.isArray(r)?{data:r,total:r.length,current_page:1,last_page:1,per_page:r.length,from:1,to:r.length}:r},async getById(e){let{data:r}=await t.apiClient.get(`${a.API_ENDPOINTS.inscripcionesCurso}/${e}`);return r},async create(e){let{data:r}=await t.apiClient.post(a.API_ENDPOINTS.inscripcionesCurso,e);return r},async update(e,r){let{data:s}=await t.apiClient.put(`${a.API_ENDPOINTS.inscripcionesCurso}/${e}`,r);return s},async delete(e){await t.apiClient.delete(`${a.API_ENDPOINTS.inscripcionesCurso}/${e}`)},async calificar(e,r,s){let{data:i}=await t.apiClient.post(`${a.API_ENDPOINTS.inscripcionesCurso}/${e}/calificar`,{calificacion:r,comentarios:s});return i},async cancelar(e,r){let{data:s}=await t.apiClient.patch(`${a.API_ENDPOINTS.inscripcionesCurso}/${e}/cancelar`,{motivo:r});return s},async generarFactura(e,r){let{data:s}=await t.apiClient.post(`${a.API_ENDPOINTS.inscripcionesCurso}/${e}/generar-factura`,{id_tutor:r});return s},async getMisInscripciones(e){let{data:a}=await t.apiClient.get("/mis-inscripciones",e);return Array.isArray(a)?{data:a,total:a.length,current_page:1,last_page:1,per_page:a.length,from:1,to:a.length}:a}}])},49547,e=>{"use strict";var t=e.i(96564),a=e.i(55528);e.s(["deportistasService",0,{async getAll(e){let{data:r}=await t.apiClient.get(a.API_ENDPOINTS.deportistas,e);if(r&&"object"==typeof r&&"success"in r&&r.data){let e=r.data;return Array.isArray(e)?{data:e,total:e.length,current_page:1,last_page:1,per_page:e.length,from:1,to:e.length}:e}return Array.isArray(r)?{data:r,total:r.length,current_page:1,last_page:1,per_page:r.length,from:1,to:r.length}:r},async getById(e){let{data:r}=await t.apiClient.get(`${a.API_ENDPOINTS.deportistas}/${e}`);return r},async create(e){let{data:r}=await t.apiClient.post(a.API_ENDPOINTS.deportistas,e);return r},async update(e,r){let{data:s}=await t.apiClient.put(`${a.API_ENDPOINTS.deportistas}/${e}`,r);return s},async delete(e){await t.apiClient.delete(`${a.API_ENDPOINTS.deportistas}/${e}`)},async cambiarEstado(e,r){let{data:s}=await t.apiClient.post(`${a.API_ENDPOINTS.deportistas}/${e}/cambiar-estado`,{estado:r});return s},async restaurar(e){let{data:r}=await t.apiClient.post(`${a.API_ENDPOINTS.deportistas}/${e}/restaurar`);return r},async getEstadisticas(){let{data:e}=await t.apiClient.get(`${a.API_ENDPOINTS.deportistas}/estadisticas/generales`);return e},async getActivos(){let{data:e}=await t.apiClient.get(`${a.API_ENDPOINTS.deportistas}/activos/listar`);return e},async getByEstado(e){let{data:r}=await t.apiClient.get(`${a.API_ENDPOINTS.deportistas}/estado/${e}`);return r},async getByCategoria(e){let{data:r}=await t.apiClient.get(`${a.API_ENDPOINTS.deportistas}/categoria/${e}`);return r},async getMisParticipantes(){let{data:e}=await t.apiClient.get(a.API_ENDPOINTS.misParticipantes);return e&&"object"==typeof e&&"data"in e&&Array.isArray(e.data)?e.data:Array.isArray(e)?e:[]},async crearMiParticipante(e){let{data:r}=await t.apiClient.post(a.API_ENDPOINTS.misParticipantes,e);return r&&"object"==typeof r&&"data"in r?r.data:r},async actualizarMiParticipante(e,r){let{data:s}=await t.apiClient.put(`${a.API_ENDPOINTS.misParticipantes}/${e}`,r);return s&&"object"==typeof s&&"data"in s?s.data:s},async eliminarMiParticipante(e){await t.apiClient.delete(`${a.API_ENDPOINTS.misParticipantes}/${e}`)}}])},58941,e=>{"use strict";var t=e.i(30680);let a=t.forwardRef(function({title:e,titleId:a,...r},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},r),e?t.createElement("title",{id:a},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});e.s(["TrashIcon",0,a],58941)},19926,e=>{"use strict";var t=e.i(30680);let a=t.forwardRef(function({title:e,titleId:a,...r},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},r),e?t.createElement("title",{id:a},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});e.s(["PlusIcon",0,a],19926)},89782,e=>{"use strict";var t=e.i(30680);let a=t.forwardRef(function({title:e,titleId:a,...r},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},r),e?t.createElement("title",{id:a},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});e.s(["MagnifyingGlassIcon",0,a],89782)},82464,e=>{"use strict";var t=e.i(30680);function a(e,r={}){let{initialPage:s=1,initialPerPage:i=10}=r,[n,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(null),[p,g]=(0,t.useState)(s),[m,x]=(0,t.useState)(i),[h,b]=(0,t.useState)(0),[y,f]=(0,t.useState)(1),[N,v]=(0,t.useState)(""),[_,C]=(0,t.useState)(),[j,w]=(0,t.useState)("asc"),I=(0,t.useCallback)(async()=>{c(!0),u(null);try{let t=await e({page:p,per_page:m,search:N||void 0,sort_by:_,sort_order:j});o(Array.isArray(t.data)?t.data:[]),b(t.total||0),f(t.last_page||1)}catch(e){u(e instanceof Error?e.message:"Error al cargar datos"),o([])}finally{c(!1)}},[e,p,m,N,_,j]);(0,t.useEffect)(()=>{I()},[I]);let P=(0,t.useCallback)(e=>{g(Math.max(1,Math.min(e,y)))},[y]),A=(0,t.useCallback)(()=>{p<y&&g(e=>e+1)},[p,y]),S=(0,t.useCallback)(()=>{p>1&&g(e=>e-1)},[p]),E=(0,t.useCallback)(e=>{x(e),g(1)},[]),$=(0,t.useCallback)(e=>{v(e),g(1)},[]),k=(0,t.useCallback)(e=>{_===e?w(e=>"asc"===e?"desc":"asc"):(C(e),w("asc")),g(1)},[_]);return{data:n,isLoading:l,error:d,page:p,perPage:m,total:h,lastPage:y,search:N,sortBy:_,sortOrder:j,goToPage:P,nextPage:A,prevPage:S,changePerPage:E,handleSearch:$,handleSort:k,refetch:I}}e.s(["usePagination",()=>a])},96431,e=>{"use strict";var t=e.i(30680);let a=t.forwardRef(function({title:e,titleId:a,...r},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},r),e?t.createElement("title",{id:a},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))});e.s(["FunnelIcon",0,a],96431)},75171,e=>{"use strict";var t=e.i(30680);let a=t.forwardRef(function({title:e,titleId:a,...r},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},r),e?t.createElement("title",{id:a},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});e.s(["CheckCircleIcon",0,a],75171)},84845,e=>{"use strict";var t=e.i(30680);let a=t.forwardRef(function({title:e,titleId:a,...r},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},r),e?t.createElement("title",{id:a},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});e.s(["XCircleIcon",0,a],84845)},61233,e=>{"use strict";var t=e.i(30680);let a=t.forwardRef(function({title:e,titleId:a,...r},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},r),e?t.createElement("title",{id:a},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))});e.s(["ClipboardDocumentCheckIcon",0,a],61233)},22778,e=>{"use strict";var t=e.i(44472),a=e.i(30680),r=e.i(96833);e.i(51766);var s=e.i(5174);e.i(36106);var i=e.i(75227),n=e.i(4299),o=e.i(99375),l=e.i(94460),c=e.i(85547),d=e.i(55480),u=e.i(82464),p=e.i(94789),g=e.i(32959),m=e.i(49547),x=e.i(19926),h=e.i(89782),b=e.i(75171),y=e.i(61233),f=e.i(58941),N=e.i(96431),v=e.i(84845);function _(){(0,p.useAuth)();let e=(0,r.useSearchParams)(),[d,_]=(0,a.useState)([]),[C,j]=(0,a.useState)([]),[w,I]=(0,a.useState)([]),[P,A]=(0,a.useState)(!1),[S,E]=(0,a.useState)(!1),[$,k]=(0,a.useState)(!1),[O,D]=(0,a.useState)(null),[T,L]=(0,a.useState)(null),[B,M]=(0,a.useState)(!1),[G,R]=(0,a.useState)(!1),[z,W]=(0,a.useState)(""),[F,q]=(0,a.useState)(""),[H,V]=(0,a.useState)({estado:"",id_curso:""}),[Z,K]=(0,a.useState)(!1),[U,X]=(0,a.useState)(!0),[J,Q]=(0,a.useState)({id_curso:"",id_grupo:"",id_deportista:"",observaciones:""});(0,a.useEffect)(()=>{(async()=>{try{let[t,a]=await Promise.all([g.cursosService.getAll({per_page:100}),m.deportistasService.getAll({per_page:100})]),r=Array.isArray(t)?t:t?.data||[],s=Array.isArray(a)?a:a?.data||[];console.log("Cursos cargados:",r.length,r),console.log("Deportistas cargados:",s.length),_(r),I(s);let i=e.get("curso"),n=e.get("grupo");i&&(Q(e=>({...e,id_curso:i,id_grupo:n||""})),E(!0))}catch(e){console.error("Error cargando datos:",e),_([]),I([])}})()},[e]),(0,a.useEffect)(()=>{J.id_curso?(async()=>{try{let e=await g.gruposCursoService.getAll({id_curso:Number(J.id_curso),per_page:100}),t=Array.isArray(e)?e:e?.data||[];console.log("Grupos cargados para curso",J.id_curso,":",t.length,t),j(t)}catch(e){console.error("Error cargando grupos:",e),j([])}})():(j([]),Q(e=>({...e,id_grupo:""})))},[J.id_curso]);let Y=(0,a.useCallback)(e=>g.inscripcionesService.getAll({...e,...H}),[H]),{data:ee,isLoading:et,page:ea,perPage:er,total:es,lastPage:ei,search:en,sortBy:eo,sortOrder:el,goToPage:ec,changePerPage:ed,handleSearch:eu,handleSort:ep,refetch:eg}=(0,u.usePagination)(Y),em=async()=>{if(O){R(!0);try{await g.inscripcionesService.calificar(O.id_inscripcion,Number(z),F||void 0),A(!1),D(null),W(""),q(""),eg()}catch(e){console.error("Error calificando:",e)}finally{R(!1)}}},ex=async e=>{if(confirm("¿Estás seguro de cancelar esta inscripción?"))try{await g.inscripcionesService.cancelar(e),eg()}catch(e){console.error("Error cancelando inscripción:",e)}},eh=async()=>{if(T){M(!0);try{await g.inscripcionesService.delete(T),eg()}catch(e){console.error("Error:",e)}finally{M(!1),k(!1),L(null)}}},eb=async e=>{e.preventDefault(),R(!0);try{await g.inscripcionesService.create({id_curso:Number(J.id_curso),id_grupo:Number(J.id_grupo),id_deportista:Number(J.id_deportista),observaciones:J.observaciones||void 0,generar_factura:U}),E(!1),Q({id_curso:"",id_grupo:"",id_deportista:"",observaciones:""}),X(!0),eg()}catch(e){console.error("Error:",e)}finally{R(!1)}},ey=[{key:"deportista",header:"Deportista",render:e=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-7 h-7 bg-blue-50 rounded-lg flex items-center justify-center text-blue-600 text-xs font-medium",children:e.deportista?.nombres?.charAt(0)||"?"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.deportista?.nombre_completo||`${e.deportista?.nombres||""} ${e.deportista?.apellidos||""}`.trim()||"-"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:e.deportista?.cedula||"-"})]})]})},{key:"curso",header:"Curso",render:e=>(0,t.jsx)("span",{className:"text-sm text-gray-600",children:e.curso?.nombre||"-"})},{key:"grupo",header:"Grupo",render:e=>(0,t.jsx)("span",{className:"text-sm text-gray-600",children:e.grupo?.nombre||"-"})},{key:"fecha",header:"Fecha",render:e=>(0,t.jsx)("span",{className:"text-sm text-gray-600",children:e.fecha_inscripcion||"-"})},{key:"estado",header:"Estado",render:e=>(0,t.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${(e=>{switch(e){case"activa":return"bg-emerald-50 text-emerald-600";case"completada":return"bg-blue-50 text-blue-600";case"cancelada":return"bg-red-50 text-red-600";case"abandonada":return"bg-amber-50 text-amber-600";default:return"bg-gray-100 text-gray-500"}})(e.estado)}`,children:e.estado})},{key:"calificacion",header:"Calificación",render:e=>(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:null!==e.calificacion&&void 0!==e.calificacion?e.calificacion:"-"})},{key:"acciones",header:"",render:e=>(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,t.jsx)("button",{onClick:()=>{D(e),W(e.calificacion?.toString()||""),q(e.comentarios||""),A(!0)},className:"p-1.5 text-gray-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Calificar",children:(0,t.jsx)(b.CheckCircleIcon,{className:"h-4 w-4"})}),"activa"===e.estado&&(0,t.jsx)("button",{onClick:()=>ex(e.id_inscripcion),className:"p-1.5 text-gray-400 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Cancelar inscripción",children:(0,t.jsx)(v.XCircleIcon,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>{L(e.id_inscripcion),k(!0)},className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:(0,t.jsx)(f.TrashIcon,{className:"h-4 w-4"})})]})}];return(0,t.jsx)(s.DashboardLayout,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-50 rounded-lg",children:(0,t.jsx)(y.ClipboardDocumentCheckIcon,{className:"h-5 w-5 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Inscripciones"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[es," registros"]})]})]}),(0,t.jsxs)(i.Button,{size:"sm",onClick:()=>E(!0),children:[(0,t.jsx)(x.PlusIcon,{className:"h-4 w-4 mr-1"}),"Nueva Inscripción"]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100 p-3",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(h.MagnifyingGlassIcon,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Buscar inscripción...",value:en,onChange:e=>eu(e.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),(0,t.jsxs)("button",{onClick:()=>K(!Z),className:`px-3 py-2 text-sm border rounded-lg flex items-center gap-2 transition-colors ${Z?"bg-blue-50 border-blue-200 text-blue-600":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[(0,t.jsx)(N.FunnelIcon,{className:"h-4 w-4"}),"Filtros"]})]}),Z&&(0,t.jsxs)("div",{className:"flex gap-3 mt-3 pt-3 border-t border-gray-100",children:[(0,t.jsxs)("select",{value:H.estado,onChange:e=>V({...H,estado:e.target.value}),className:"px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20",children:[(0,t.jsx)("option",{value:"",children:"Todos los estados"}),(0,t.jsx)("option",{value:"activa",children:"Activa"}),(0,t.jsx)("option",{value:"completada",children:"Completada"}),(0,t.jsx)("option",{value:"cancelada",children:"Cancelada"}),(0,t.jsx)("option",{value:"abandonada",children:"Abandonada"})]}),(0,t.jsxs)("select",{value:H.id_curso,onChange:e=>V({...H,id_curso:e.target.value}),className:"px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20",children:[(0,t.jsx)("option",{value:"",children:"Todos los cursos"}),d.map(e=>(0,t.jsx)("option",{value:e.id_curso,children:e.nombre},e.id_curso))]}),(0,t.jsx)("button",{onClick:()=>V({estado:"",id_curso:""}),className:"text-sm text-gray-500 hover:text-gray-700",children:"Limpiar"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:[(0,t.jsx)(n.Table,{columns:ey,data:ee,keyExtractor:e=>e.id_inscripcion,isLoading:et,onSort:ep,sortBy:eo,sortOrder:el}),(0,t.jsx)("div",{className:"border-t border-gray-100",children:(0,t.jsx)(o.Pagination,{page:ea,lastPage:ei,total:es,perPage:er,onPageChange:ec,onPerPageChange:ed})})]}),(0,t.jsx)(l.Modal,{isOpen:P,onClose:()=>A(!1),title:"Calificar Inscripción",size:"sm",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"pb-3 border-b border-gray-100",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Deportista:"," ",(0,t.jsx)("span",{className:"font-medium text-gray-900",children:O?.deportista?.nombre_completo||`${O?.deportista?.nombres||""} ${O?.deportista?.apellidos||""}`.trim()})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Curso:"," ",(0,t.jsx)("span",{className:"font-medium text-gray-900",children:O?.curso?.nombre})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Calificación (0-10)"}),(0,t.jsx)("input",{type:"number",min:"0",max:"10",step:"0.1",value:z,onChange:e=>W(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Comentarios"}),(0,t.jsx)("textarea",{value:F,onChange:e=>q(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",rows:2})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,t.jsx)(i.Button,{type:"button",variant:"secondary",size:"sm",onClick:()=>A(!1),children:"Cancelar"}),(0,t.jsx)(i.Button,{size:"sm",onClick:em,disabled:G,children:G?"Guardando...":"Guardar"})]})]})}),(0,t.jsx)(l.Modal,{isOpen:S,onClose:()=>E(!1),title:"Nueva Inscripción",size:"md",children:(0,t.jsxs)("form",{onSubmit:eb,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Curso *"}),(0,t.jsxs)("select",{value:J.id_curso,onChange:e=>Q({...J,id_curso:e.target.value,id_grupo:""}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Seleccionar curso"}),d.filter(e=>"abierto"===e.estado).map(e=>(0,t.jsx)("option",{value:e.id_curso,children:e.nombre},e.id_curso))]}),0===d.filter(e=>"abierto"===e.estado).length&&(0,t.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"No hay cursos abiertos disponibles"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Grupo *"}),(0,t.jsxs)("select",{value:J.id_grupo,onChange:e=>Q({...J,id_grupo:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-400",required:!0,disabled:!J.id_curso,children:[(0,t.jsx)("option",{value:"",children:J.id_curso?"Seleccionar grupo":"Primero selecciona un curso"}),J.id_curso&&C.filter(e=>"activo"===e.estado).map(e=>(0,t.jsxs)("option",{value:e.id_grupo,children:[e.nombre," (",e.cupo_actual||0,"/",e.cupo_maximo," ","inscritos)"]},e.id_grupo))]}),J.id_curso&&0===C.filter(e=>"activo"===e.estado).length&&(0,t.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"No hay grupos activos para este curso"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Deportista *"}),(0,t.jsxs)("select",{value:J.id_deportista,onChange:e=>Q({...J,id_deportista:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Seleccionar deportista"}),w.filter(e=>"activo"===e.estado).map(e=>(0,t.jsxs)("option",{value:e.id_deportista,children:[e.nombres," ",e.apellidos," - ",e.cedula||"Sin cédula"]},e.id_deportista))]}),0===w.filter(e=>"activo"===e.estado).length&&(0,t.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"No hay deportistas activos disponibles"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Observaciones"}),(0,t.jsx)("textarea",{value:J.observaciones,onChange:e=>Q({...J,observaciones:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",rows:2})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"generar_factura",checked:U,onChange:e=>X(e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"generar_factura",className:"text-sm text-gray-600",children:"Generar factura automáticamente"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-3 border-t border-gray-100",children:[(0,t.jsx)(i.Button,{type:"button",variant:"secondary",size:"sm",onClick:()=>E(!1),children:"Cancelar"}),(0,t.jsx)(i.Button,{type:"submit",size:"sm",disabled:G,children:G?"Guardando...":"Inscribir"})]})]})}),(0,t.jsx)(c.ConfirmModal,{isOpen:$,onClose:()=>k(!1),onConfirm:eh,title:"¿Eliminar inscripción?",message:"Esta acción no se puede deshacer. La inscripción será eliminada permanentemente.",isLoading:B})]})})}function C(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)(s.DashboardLayout,{children:(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)(d.Spinner,{})})}),children:(0,t.jsx)(_,{})})}e.s(["default",()=>C])}]);