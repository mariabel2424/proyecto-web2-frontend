(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58941,e=>{"use strict";var a=e.i(30680);let t=a.forwardRef(function({title:e,titleId:t,...r},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});e.s(["TrashIcon",0,t],58941)},19926,e=>{"use strict";var a=e.i(30680);let t=a.forwardRef(function({title:e,titleId:t,...r},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});e.s(["PlusIcon",0,t],19926)},49547,e=>{"use strict";var a=e.i(96564),t=e.i(55528);e.s(["deportistasService",0,{async getAll(e){let{data:r}=await a.apiClient.get(t.API_ENDPOINTS.deportistas,e);if(r&&"object"==typeof r&&"success"in r&&r.data){let e=r.data;return Array.isArray(e)?{data:e,total:e.length,current_page:1,last_page:1,per_page:e.length,from:1,to:e.length}:e}return Array.isArray(r)?{data:r,total:r.length,current_page:1,last_page:1,per_page:r.length,from:1,to:r.length}:r},async getById(e){let{data:r}=await a.apiClient.get(`${t.API_ENDPOINTS.deportistas}/${e}`);return r},async create(e){let{data:r}=await a.apiClient.post(t.API_ENDPOINTS.deportistas,e);return r},async update(e,r){let{data:i}=await a.apiClient.put(`${t.API_ENDPOINTS.deportistas}/${e}`,r);return i},async delete(e){await a.apiClient.delete(`${t.API_ENDPOINTS.deportistas}/${e}`)},async cambiarEstado(e,r){let{data:i}=await a.apiClient.post(`${t.API_ENDPOINTS.deportistas}/${e}/cambiar-estado`,{estado:r});return i},async restaurar(e){let{data:r}=await a.apiClient.post(`${t.API_ENDPOINTS.deportistas}/${e}/restaurar`);return r},async getEstadisticas(){let{data:e}=await a.apiClient.get(`${t.API_ENDPOINTS.deportistas}/estadisticas/generales`);return e},async getActivos(){let{data:e}=await a.apiClient.get(`${t.API_ENDPOINTS.deportistas}/activos/listar`);return e},async getByEstado(e){let{data:r}=await a.apiClient.get(`${t.API_ENDPOINTS.deportistas}/estado/${e}`);return r},async getByCategoria(e){let{data:r}=await a.apiClient.get(`${t.API_ENDPOINTS.deportistas}/categoria/${e}`);return r},async getMisParticipantes(){let{data:e}=await a.apiClient.get(t.API_ENDPOINTS.misParticipantes);return e&&"object"==typeof e&&"data"in e&&Array.isArray(e.data)?e.data:Array.isArray(e)?e:[]},async crearMiParticipante(e){let{data:r}=await a.apiClient.post(t.API_ENDPOINTS.misParticipantes,e);return r&&"object"==typeof r&&"data"in r?r.data:r},async actualizarMiParticipante(e,r){let{data:i}=await a.apiClient.put(`${t.API_ENDPOINTS.misParticipantes}/${e}`,r);return i&&"object"==typeof i&&"data"in i?i.data:i},async eliminarMiParticipante(e){await a.apiClient.delete(`${t.API_ENDPOINTS.misParticipantes}/${e}`)}}])},11174,e=>{"use strict";var a=e.i(96564),t=e.i(55528);e.s(["categoriasService",0,{async getAll(){let{data:e}=await a.apiClient.get(t.API_ENDPOINTS.categorias);if(e&&"object"==typeof e&&"success"in e&&e.data){let a=e.data;return Array.isArray(a)?a:a.data||[]}return e&&"object"==typeof e&&"data"in e?e.data:Array.isArray(e)?e:[]},async getAllPaginated(e){let{data:r}=await a.apiClient.get(t.API_ENDPOINTS.categorias,e);if(r&&"object"==typeof r&&"success"in r&&r.data){let e=r.data;return Array.isArray(e)?{data:e,total:e.length,current_page:1,last_page:1,per_page:e.length,from:1,to:e.length}:e}return Array.isArray(r)?{data:r,total:r.length,current_page:1,last_page:1,per_page:r.length,from:1,to:r.length}:r},async getById(e){let{data:r}=await a.apiClient.get(`${t.API_ENDPOINTS.categorias}/${e}`);return r},async create(e){let{data:r}=await a.apiClient.post(t.API_ENDPOINTS.categorias,e);return r},async update(e,r){let{data:i}=await a.apiClient.put(`${t.API_ENDPOINTS.categorias}/${e}`,r);return i},async delete(e){await a.apiClient.delete(`${t.API_ENDPOINTS.categorias}/${e}`)}}])},30208,e=>{"use strict";var a=e.i(44472),t=e.i(30680);e.i(51766);var r=e.i(5174),i=e.i(49547),s=e.i(11174);e.i(36106);var n=e.i(75227),l=e.i(75650),o=e.i(77993),c=e.i(13762),d=e.i(80028),g=e.i(94460),p=e.i(55480),m=e.i(44677),u=e.i(19926);let h=t.forwardRef(function({title:e,titleId:a,...r},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":a},r),e?t.createElement("title",{id:a},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))});var x=e.i(58941),y=e.i(85185);let f={nombres:"",apellidos:"",cedula:"",fecha_nacimiento:"",genero:"M",direccion:"",telefono:"",email:"",tipo_sangre:"",alergias:"",enfermedades:"",id_categoria:void 0};function N(){let[e,N]=(0,t.useState)([]),[j,b]=(0,t.useState)([]),[v,P]=(0,t.useState)(!0),[w,I]=(0,t.useState)(""),[_,A]=(0,t.useState)(""),[C,S]=(0,t.useState)(!1),[E,D]=(0,t.useState)(!1),[T,$]=(0,t.useState)(null),[O,k]=(0,t.useState)(f),[M,L]=(0,t.useState)(!1),B=(0,t.useCallback)(async()=>{try{P(!0),I("");let[e,a]=await Promise.all([i.deportistasService.getMisParticipantes(),s.categoriasService.getAll()]);N(e||[]),Array.isArray(a)?b(a):a&&"data"in a&&Array.isArray(a.data)?b(a.data):b([])}catch(e){console.error("Error cargando datos:",e),I("Error al cargar los datos. Verifica tu conexión.")}finally{P(!1)}},[]);(0,t.useEffect)(()=>{B()},[B]);let R=e=>{let{name:a,value:t}=e.target;k(e=>({...e,[a]:t}))},z=()=>{k(f),D(!1),$(null),S(!0)},F=async e=>{e.preventDefault(),I(""),L(!0);try{E&&T?(await i.deportistasService.actualizarMiParticipante(T,O),A("Participante actualizado correctamente")):(await i.deportistasService.crearMiParticipante(O),A("Participante registrado correctamente")),S(!1),B()}catch(e){I(e instanceof Error?e.message:"Error al guardar")}finally{L(!1)}},q=async e=>{if(confirm("¿Estás seguro de eliminar este participante?"))try{await i.deportistasService.eliminarMiParticipante(e),A("Participante eliminado"),B()}catch(e){I("Error al eliminar")}};return v?(0,a.jsx)(r.DashboardLayout,{children:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsx)(p.Spinner,{size:"lg"})})}):(0,a.jsx)(r.DashboardLayout,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-green-50 rounded-lg",children:(0,a.jsx)(y.UserGroupIcon,{className:"h-5 w-5 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Mis Participantes"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Registra a tus hijos para inscribirlos en cursos"})]})]}),(0,a.jsxs)(n.Button,{size:"sm",onClick:z,children:[(0,a.jsx)(u.PlusIcon,{className:"h-4 w-4 mr-1"}),"Agregar"]})]}),w&&(0,a.jsx)(o.Alert,{variant:"error",onClose:()=>I(""),children:w}),_&&(0,a.jsx)(o.Alert,{variant:"success",onClose:()=>A(""),children:_}),0===e.length?(0,a.jsxs)(l.Card,{className:"text-center py-12",children:[(0,a.jsx)(y.UserGroupIcon,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tienes participantes registrados"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"Registra a tus hijos para poder inscribirlos en los cursos"}),(0,a.jsxs)(n.Button,{onClick:z,children:[(0,a.jsx)(u.PlusIcon,{className:"h-5 w-5 mr-2"}),"Registrar mi primer participante"]})]}):(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>{var t;let r,i,s,n;return(0,a.jsxs)(l.Card,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-900",children:[e.nombres," ",e.apellidos]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[(t=e.fecha_nacimiento,r=new Date,i=new Date(t),s=r.getFullYear()-i.getFullYear(),((n=r.getMonth()-i.getMonth())<0||0===n&&r.getDate()<i.getDate())&&s--,s)," años •"," ","M"===e.genero?"Masculino":"Femenino"]}),e.categoria&&(0,a.jsx)(m.Badge,{variant:"info",children:e.categoria.nombre})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>{let a;return a="",void(e.fecha_nacimiento&&(a=new Date(e.fecha_nacimiento).toISOString().split("T")[0]),k({nombres:e.nombres,apellidos:e.apellidos,cedula:e.cedula||"",fecha_nacimiento:a,genero:e.genero,direccion:e.direccion||"",telefono:e.telefono||"",email:e.email||"",tipo_sangre:e.tipo_sangre||"",alergias:e.alergias||"",enfermedades:e.enfermedades||"",id_categoria:e.id_categoria}),D(!0),$(e.id_deportista),S(!0))},className:"p-2 text-gray-400 hover:text-green-600 transition-colors",children:(0,a.jsx)(h,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>q(e.id_deportista),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",children:(0,a.jsx)(x.TrashIcon,{className:"h-4 w-4"})})]})]}),(e.alergias||e.enfermedades)&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.alergias&&(0,a.jsxs)("p",{className:"text-xs text-orange-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Alergias:"})," ",e.alergias]}),e.enfermedades&&(0,a.jsxs)("p",{className:"text-xs text-red-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Condiciones:"})," ",e.enfermedades]})]})]},e.id_deportista)})}),(0,a.jsx)(g.Modal,{isOpen:C,onClose:()=>S(!1),title:E?"Editar Participante":"Registrar Participante",size:"lg",children:(0,a.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(c.Input,{label:"Nombres",name:"nombres",value:O.nombres,onChange:R,required:!0}),(0,a.jsx)(c.Input,{label:"Apellidos",name:"apellidos",value:O.apellidos,onChange:R,required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(c.Input,{label:"Fecha de Nacimiento",type:"date",name:"fecha_nacimiento",value:O.fecha_nacimiento,onChange:R,required:!0}),(0,a.jsx)(d.Select,{label:"Género",name:"genero",value:O.genero,onChange:R,options:[{value:"M",label:"Masculino"},{value:"F",label:"Femenino"}],required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(c.Input,{label:"Cédula (opcional)",name:"cedula",value:O.cedula,onChange:R,placeholder:"Si tiene"}),(0,a.jsx)(d.Select,{label:"Categoría",name:"id_categoria",value:O.id_categoria?.toString()||"",onChange:R,options:[{value:"",label:"Seleccionar categoría"},...j.map(e=>({value:e.id_categoria.toString(),label:`${e.nombre}${e.edad_minima&&e.edad_maxima?` (${e.edad_minima}-${e.edad_maxima} a\xf1os)`:""}`}))]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(c.Input,{label:"Tipo de Sangre",name:"tipo_sangre",value:O.tipo_sangre,onChange:R,placeholder:"Ej: O+"}),(0,a.jsx)(c.Input,{label:"Teléfono de emergencia",name:"telefono",value:O.telefono,onChange:R})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alergias (si tiene)"}),(0,a.jsx)("textarea",{name:"alergias",value:O.alergias,onChange:R,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Describe las alergias conocidas"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condiciones médicas (si tiene)"}),(0,a.jsx)("textarea",{name:"enfermedades",value:O.enfermedades,onChange:R,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Describe condiciones médicas importantes"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,a.jsx)(n.Button,{type:"button",variant:"secondary",onClick:()=>S(!1),children:"Cancelar"}),(0,a.jsx)(n.Button,{type:"submit",isLoading:M,children:E?"Guardar Cambios":"Registrar"})]})]})})]})})}e.s(["default",()=>N],30208)}]);