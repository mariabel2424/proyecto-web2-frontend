(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32959,e=>{"use strict";var t=e.i(96564),r=e.i(55528);e.s(["asistenciasService",0,{async getAsistencias(e,a){let{data:s}=await t.apiClient.get(`${r.API_ENDPOINTS.gruposCurso}/${e}/asistencias`,a?{fecha:a}:{});return s},async registrarAsistencias(e,a,s){let{data:i}=await t.apiClient.post(`${r.API_ENDPOINTS.gruposCurso}/${e}/asistencias`,{fecha:a,asistencias:s});return i},async getHistorial(e,a,s){let i={};a&&(i.fecha_inicio=a),s&&(i.fecha_fin=s);let{data:n}=await t.apiClient.get(`${r.API_ENDPOINTS.gruposCurso}/${e}/asistencias/historial`,i);return n},async getReporte(e,a){let{data:s}=await t.apiClient.get(`${r.API_ENDPOINTS.gruposCurso}/${e}/asistencias/reporte`,{fecha:a});return s}},"cursosService",0,{async getAll(e){let{data:a}=await t.apiClient.get(r.API_ENDPOINTS.cursos,e);if(a&&"object"==typeof a&&"success"in a&&a.data){let e=a.data;return Array.isArray(e)?{data:e,total:e.length,current_page:1,last_page:1,per_page:e.length,from:1,to:e.length}:e}return a&&"object"==typeof a&&"current_page"in a&&"data"in a?{data:Array.isArray(a.data)?a.data:[],total:a.total||0,current_page:a.current_page||1,last_page:a.last_page||1,per_page:a.per_page||15,from:a.from||0,to:a.to||0}:Array.isArray(a)?{data:a,total:a.length,current_page:1,last_page:1,per_page:a.length,from:1,to:a.length}:{data:[],total:0,current_page:1,last_page:1,per_page:15,from:0,to:0}},async getById(e){let{data:a}=await t.apiClient.get(`${r.API_ENDPOINTS.cursos}/${e}`);return a},async create(e){let{data:a}=await t.apiClient.post(r.API_ENDPOINTS.cursos,e);return a},async update(e,a){let{data:s}=await t.apiClient.put(`${r.API_ENDPOINTS.cursos}/${e}`,a);return s},async delete(e){await t.apiClient.delete(`${r.API_ENDPOINTS.cursos}/${e}`)},async getCursosAbiertos(){let{data:e}=await t.apiClient.get(r.API_ENDPOINTS.cursosAbiertos);return e},async getParticipantes(e){let{data:a}=await t.apiClient.get(`${r.API_ENDPOINTS.cursos}/${e}/participantes`);return a},async getGruposDisponibles(e){let{data:a}=await t.apiClient.get(`${r.API_ENDPOINTS.cursos}/${e}/grupos-disponibles`);return a},async getGruposPublico(e){let{data:a}=await t.apiClient.get(`${r.API_ENDPOINTS.cursos}/${e}/grupos-publico`);return a}},"gruposCursoService",0,{async getAll(e){let{data:a}=await t.apiClient.get(r.API_ENDPOINTS.gruposCurso,e);if(a&&"object"==typeof a&&"success"in a&&a.data){let e=a.data;return Array.isArray(e)?{data:e,total:e.length,current_page:1,last_page:1,per_page:e.length,from:1,to:e.length}:e}return Array.isArray(a)?{data:a,total:a.length,current_page:1,last_page:1,per_page:a.length,from:1,to:a.length}:a},async getById(e){let{data:a}=await t.apiClient.get(`${r.API_ENDPOINTS.gruposCurso}/${e}`);return a},async create(e){let{data:a}=await t.apiClient.post(r.API_ENDPOINTS.gruposCurso,e);return a},async update(e,a){let{data:s}=await t.apiClient.put(`${r.API_ENDPOINTS.gruposCurso}/${e}`,a);return s},async delete(e){await t.apiClient.delete(`${r.API_ENDPOINTS.gruposCurso}/${e}`)},async getDeportistas(e){let{data:a}=await t.apiClient.get(`${r.API_ENDPOINTS.gruposCurso}/${e}/deportistas`);return a},async asignarInstructor(e,a){let{data:s}=await t.apiClient.post(`${r.API_ENDPOINTS.gruposCurso}/${e}/asignar-instructor`,{id_instructor:a});return s},async quitarInstructor(e,a){let{data:s}=await t.apiClient.post(`${r.API_ENDPOINTS.gruposCurso}/${e}/quitar-instructor`,{id_instructor:a});return s},async getInstructores(e){let{data:a}=await t.apiClient.get(`${r.API_ENDPOINTS.gruposCurso}/${e}/instructores`);return a},async cambiarEstado(e,a){let{data:s}=await t.apiClient.patch(`${r.API_ENDPOINTS.gruposCurso}/${e}/cambiar-estado`,{estado:a});return s}},"inscripcionesService",0,{async getAll(e){let{data:a}=await t.apiClient.get(r.API_ENDPOINTS.inscripcionesCurso,e);if(a&&"object"==typeof a&&"success"in a&&a.data){let e=a.data;return Array.isArray(e)?{data:e,total:e.length,current_page:1,last_page:1,per_page:e.length,from:1,to:e.length}:e}return Array.isArray(a)?{data:a,total:a.length,current_page:1,last_page:1,per_page:a.length,from:1,to:a.length}:a},async getById(e){let{data:a}=await t.apiClient.get(`${r.API_ENDPOINTS.inscripcionesCurso}/${e}`);return a},async create(e){let{data:a}=await t.apiClient.post(r.API_ENDPOINTS.inscripcionesCurso,e);return a},async update(e,a){let{data:s}=await t.apiClient.put(`${r.API_ENDPOINTS.inscripcionesCurso}/${e}`,a);return s},async delete(e){await t.apiClient.delete(`${r.API_ENDPOINTS.inscripcionesCurso}/${e}`)},async calificar(e,a,s){let{data:i}=await t.apiClient.post(`${r.API_ENDPOINTS.inscripcionesCurso}/${e}/calificar`,{calificacion:a,comentarios:s});return i},async cancelar(e,a){let{data:s}=await t.apiClient.patch(`${r.API_ENDPOINTS.inscripcionesCurso}/${e}/cancelar`,{motivo:a});return s},async generarFactura(e,a){let{data:s}=await t.apiClient.post(`${r.API_ENDPOINTS.inscripcionesCurso}/${e}/generar-factura`,{id_tutor:a});return s},async getMisInscripciones(e){let{data:r}=await t.apiClient.get("/mis-inscripciones",e);return Array.isArray(r)?{data:r,total:r.length,current_page:1,last_page:1,per_page:r.length,from:1,to:r.length}:r}}])},47152,e=>{"use strict";var t=e.i(96564),r=e.i(55528);e.s(["instructoresService",0,{async getAll(e){let{data:a}=await t.apiClient.get(r.API_ENDPOINTS.instructores,e);if(a&&"object"==typeof a&&"success"in a&&a.data){let e=a.data;return Array.isArray(e)?{data:e,total:e.length,current_page:1,last_page:1,per_page:e.length,from:1,to:e.length}:e}return Array.isArray(a)?{data:a,total:a.length,current_page:1,last_page:1,per_page:a.length,from:1,to:a.length}:a},async getDisponibles(){let{data:e}=await t.apiClient.get(`${r.API_ENDPOINTS.instructores}/disponibles/listar`);return e&&"object"==typeof e&&"instructores"in e?e.instructores.map(e=>({id_usuario:e.id_usuario||e.id_instructor||0,nombre:e.nombres||e.nombre||"",apellido:e.apellidos||e.apellido||"",email:e.email||"",especialidad:e.especialidad,status:"activo",id_rol:0,created_at:"",updated_at:""})):e&&"object"==typeof e&&"data"in e?e.data:e}},"rolesService",0,{async getAll(){console.log("Llamando a:",r.API_ENDPOINTS.roles);let{data:e}=await t.apiClient.get(r.API_ENDPOINTS.roles);return console.log("Respuesta roles:",e),Array.isArray(e)?e:e.data},async getById(e){let{data:a}=await t.apiClient.get(`${r.API_ENDPOINTS.roles}/${e}`);return a},async create(e){let{data:a}=await t.apiClient.post(r.API_ENDPOINTS.roles,e);return a.data},async update(e,a){let{data:s}=await t.apiClient.put(`${r.API_ENDPOINTS.roles}/${e}`,a);return s.data},async delete(e){await t.apiClient.delete(`${r.API_ENDPOINTS.roles}/${e}`)}},"usuariosService",0,{async getAll(e){let{data:a}=await t.apiClient.get(r.API_ENDPOINTS.usuarios,e);if(a&&"object"==typeof a&&"success"in a&&a.data){let e=a.data;return Array.isArray(e)?{data:e,total:e.length,current_page:1,last_page:1,per_page:e.length,from:1,to:e.length}:e}return Array.isArray(a)?{data:a,total:a.length,current_page:1,last_page:1,per_page:a.length,from:1,to:a.length}:a},async getById(e){let{data:a}=await t.apiClient.get(`${r.API_ENDPOINTS.usuarios}/${e}`);return a},async create(e){let{data:a}=await t.apiClient.post(r.API_ENDPOINTS.usuarios,e);return a},async update(e,a){let{data:s}=await t.apiClient.put(`${r.API_ENDPOINTS.usuarios}/${e}`,a);return s},async delete(e){await t.apiClient.delete(`${r.API_ENDPOINTS.usuarios}/${e}`)},async cambiarEstado(e,a){let{data:s}=await t.apiClient.put(`${r.API_ENDPOINTS.usuarios}/${e}/estado`,{status:a});return s}}])},94297,e=>{"use strict";var t=e.i(30680);let r=t.forwardRef(function({title:e,titleId:r,...a},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))});e.s(["UsersIcon",0,r],94297)},85607,e=>{"use strict";var t=e.i(30680);let r=t.forwardRef(function({title:e,titleId:r,...a},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});e.s(["ClockIcon",0,r],85607)},82785,e=>{"use strict";var t=e.i(30680);let r=t.forwardRef(function({title:e,titleId:r,...a},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});e.s(["EyeIcon",0,r],82785)},58941,e=>{"use strict";var t=e.i(30680);let r=t.forwardRef(function({title:e,titleId:r,...a},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});e.s(["TrashIcon",0,r],58941)},19926,e=>{"use strict";var t=e.i(30680);let r=t.forwardRef(function({title:e,titleId:r,...a},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});e.s(["PlusIcon",0,r],19926)},44095,e=>{"use strict";var t=e.i(30680);let r=t.forwardRef(function({title:e,titleId:r,...a},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))});e.s(["PencilSquareIcon",0,r],44095)},89782,e=>{"use strict";var t=e.i(30680);let r=t.forwardRef(function({title:e,titleId:r,...a},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});e.s(["MagnifyingGlassIcon",0,r],89782)},82464,e=>{"use strict";var t=e.i(30680);function r(e,a={}){let{initialPage:s=1,initialPerPage:i=10}=a,[n,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0),[u,d]=(0,t.useState)(null),[p,g]=(0,t.useState)(s),[m,x]=(0,t.useState)(i),[h,b]=(0,t.useState)(0),[y,f]=(0,t.useState)(1),[N,_]=(0,t.useState)(""),[v,j]=(0,t.useState)(),[C,w]=(0,t.useState)("asc"),I=(0,t.useCallback)(async()=>{c(!0),d(null);try{let t=await e({page:p,per_page:m,search:N||void 0,sort_by:v,sort_order:C});o(Array.isArray(t.data)?t.data:[]),b(t.total||0),f(t.last_page||1)}catch(e){d(e instanceof Error?e.message:"Error al cargar datos"),o([])}finally{c(!1)}},[e,p,m,N,v,C]);(0,t.useEffect)(()=>{I()},[I]);let P=(0,t.useCallback)(e=>{g(Math.max(1,Math.min(e,y)))},[y]),S=(0,t.useCallback)(()=>{p<y&&g(e=>e+1)},[p,y]),A=(0,t.useCallback)(()=>{p>1&&g(e=>e-1)},[p]),E=(0,t.useCallback)(e=>{x(e),g(1)},[]),k=(0,t.useCallback)(e=>{_(e),g(1)},[]),$=(0,t.useCallback)(e=>{v===e?w(e=>"asc"===e?"desc":"asc"):(j(e),w("asc")),g(1)},[v]);return{data:n,isLoading:l,error:u,page:p,perPage:m,total:h,lastPage:y,search:N,sortBy:v,sortOrder:C,goToPage:P,nextPage:S,prevPage:A,changePerPage:E,handleSearch:k,handleSort:$,refetch:I}}e.s(["usePagination",()=>r])},55463,e=>{"use strict";var t=e.i(44472),r=e.i(30680),a=e.i(96833);e.i(51766);var s=e.i(5174);e.i(36106);var i=e.i(75227),n=e.i(4299),o=e.i(99375),l=e.i(94460),c=e.i(85547),u=e.i(82464),d=e.i(32959),p=e.i(47152),g=e.i(19926),m=e.i(89782),x=e.i(44095),h=e.i(58941),b=e.i(85185),y=e.i(82785),f=e.i(85607),N=e.i(77554);let _=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))});var v=e.i(94297);let j=[{value:"1",label:"Lunes"},{value:"2",label:"Martes"},{value:"3",label:"Miércoles"},{value:"4",label:"Jueves"},{value:"5",label:"Viernes"},{value:"6",label:"Sábado"},{value:"7",label:"Domingo"}];function C(){let e=(0,a.useRouter)(),[C,w]=(0,r.useState)([]),[I,P]=(0,r.useState)([]),[S,A]=(0,r.useState)(!1),[E,k]=(0,r.useState)(!1),[$,O]=(0,r.useState)(!1),[D,T]=(0,r.useState)(!1),[L,M]=(0,r.useState)(null),[B,G]=(0,r.useState)(null),[R,q]=(0,r.useState)(null),[z,Z]=(0,r.useState)(!1),[H,W]=(0,r.useState)(!1),[U,V]=(0,r.useState)(!1),[F,K]=(0,r.useState)(""),[J,Q]=(0,r.useState)({nombre:"",id_curso:"",cupo_maximo:"",hora_inicio:"",hora_fin:"",dias_semana:[],estado:"activo",id_instructor:""});(0,r.useEffect)(()=>{Promise.all([d.cursosService.getAll({per_page:100}),p.instructoresService.getDisponibles()]).then(([e,t])=>{w(e.data),P(t)}).catch(console.error)},[]);let X=(0,r.useCallback)(e=>d.gruposCursoService.getAll(e),[]),{data:Y,isLoading:ee,page:et,perPage:er,total:ea,lastPage:es,search:ei,sortBy:en,sortOrder:eo,goToPage:el,changePerPage:ec,handleSearch:eu,handleSort:ed,refetch:ep}=(0,u.usePagination)(X),eg=async e=>{e.preventDefault(),W(!0);try{let e={nombre:J.nombre,id_curso:Number(J.id_curso),cupo_maximo:Number(J.cupo_maximo),hora_inicio:J.hora_inicio,hora_fin:J.hora_fin,dias_semana:J.dias_semana,estado:J.estado,id_instructor:J.id_instructor?Number(J.id_instructor):void 0};L?await d.gruposCursoService.update(L.id_grupo,e):await d.gruposCursoService.create(e),A(!1),eh(),ep()}catch(e){console.error("Error guardando grupo:",e)}finally{W(!1)}},em=async()=>{if(R){Z(!0);try{await d.gruposCursoService.delete(R),ep()}catch(e){console.error("Error:",e)}finally{Z(!1),O(!1),q(null)}}},ex=async()=>{if(B){V(!0);try{F?await d.gruposCursoService.asignarInstructor(B.id_grupo,Number(F)):B.id_instructor&&await d.gruposCursoService.quitarInstructor(B.id_grupo,B.id_instructor),T(!1),ep()}catch(e){console.error("Error asignando instructor:",e)}finally{V(!1)}}},eh=()=>{M(null),Q({nombre:"",id_curso:"",cupo_maximo:"",hora_inicio:"",hora_fin:"",dias_semana:[],estado:"activo",id_instructor:""})},eb=e=>{switch(e){case"activo":return"bg-emerald-50 text-emerald-600";case"completo":return"bg-blue-50 text-blue-600";case"inactivo":default:return"bg-gray-100 text-gray-500";case"cancelado":return"bg-red-50 text-red-600"}},ey=[{key:"nombre",header:"Grupo",sortable:!0,render:e=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-7 h-7 bg-purple-50 rounded-lg flex items-center justify-center",children:(0,t.jsx)(b.UserGroupIcon,{className:"h-3.5 w-3.5 text-purple-600"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.nombre})]})},{key:"curso",header:"Curso",render:e=>(0,t.jsx)("span",{className:"text-sm text-gray-600",children:e.curso?.nombre||"-"})},{key:"instructor",header:"Instructor",render:e=>(0,t.jsx)("div",{className:"flex items-center gap-2",children:e.instructor?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-6 h-6 bg-green-50 rounded-full flex items-center justify-center",children:(0,t.jsxs)("span",{className:"text-xs font-medium text-green-600",children:[e.instructor.nombre?.charAt(0),e.instructor.apellido?.charAt(0)]})}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[e.instructor.nombre," ",e.instructor.apellido]})]}):(0,t.jsx)("span",{className:"text-sm text-gray-400 italic",children:"Sin asignar"})})},{key:"horario",header:"Horario",render:e=>(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(f.ClockIcon,{className:"h-3.5 w-3.5 text-gray-400"}),(0,t.jsxs)("span",{children:[e.hora_inicio," - ",e.hora_fin]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:e.dias_semana_nombres||"-"})]})},{key:"cupo",header:"Cupo",render:e=>(0,t.jsx)("div",{className:"text-sm",children:(0,t.jsxs)("span",{className:"font-medium text-gray-900",children:[e.cupo_actual||0," / ",e.cupo_maximo]})})},{key:"estado",header:"Estado",render:e=>(0,t.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${eb(e.estado)}`,children:e.estado})},{key:"acciones",header:"",render:r=>(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,t.jsx)("button",{onClick:()=>e.push(`/cursos/grupos/${r.id_grupo}`),title:"Ver participantes e instructor",className:"p-1.5 text-gray-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",children:(0,t.jsx)(v.UsersIcon,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>{G(r),k(!0)},title:"Ver detalle",className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,t.jsx)(y.EyeIcon,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>{G(r),K(r.id_instructor?.toString()||""),T(!0)},title:"Asignar instructor",className:"p-1.5 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:(0,t.jsx)(_,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>{M(r),Q({nombre:r.nombre,id_curso:r.id_curso?.toString()||"",cupo_maximo:r.cupo_maximo?.toString()||"",hora_inicio:r.hora_inicio||"",hora_fin:r.hora_fin||"",dias_semana:(r.dias_semana||[]).map(String),estado:r.estado||"activo",id_instructor:r.id_instructor?.toString()||""}),A(!0)},title:"Editar",className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:(0,t.jsx)(x.PencilSquareIcon,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>{q(r.id_grupo),O(!0)},title:"Eliminar",className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,t.jsx)(h.TrashIcon,{className:"h-4 w-4"})})]})}];return(0,t.jsx)(s.DashboardLayout,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-50 rounded-lg",children:(0,t.jsx)(b.UserGroupIcon,{className:"h-5 w-5 text-purple-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Grupos de Curso"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[ea," registros"]})]})]}),(0,t.jsxs)(i.Button,{size:"sm",onClick:()=>{eh(),A(!0)},children:[(0,t.jsx)(g.PlusIcon,{className:"h-4 w-4 mr-1"}),"Nuevo Grupo"]})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl border border-gray-100 p-3",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(m.MagnifyingGlassIcon,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Buscar grupo...",value:ei,onChange:e=>eu(e.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500"})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:[(0,t.jsx)(n.Table,{columns:ey,data:Y,keyExtractor:e=>e.id_grupo,isLoading:ee,onSort:ed,sortBy:en,sortOrder:eo}),(0,t.jsx)("div",{className:"border-t border-gray-100",children:(0,t.jsx)(o.Pagination,{page:et,lastPage:es,total:ea,perPage:er,onPageChange:el,onPerPageChange:ec})})]}),(0,t.jsx)(l.Modal,{isOpen:E,onClose:()=>k(!1),title:"Detalle del Grupo",size:"md",children:B&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-100",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-purple-50 rounded-xl flex items-center justify-center text-purple-600",children:(0,t.jsx)(b.UserGroupIcon,{className:"h-6 w-6"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:B.nombre}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:B.curso?.nombre})]})]}),(0,t.jsxs)("div",{className:"p-3 bg-green-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(N.AcademicCapIcon,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)("span",{className:"text-xs font-medium text-green-600",children:"Instructor"})]}),B.instructor?(0,t.jsxs)("p",{className:"text-sm text-gray-900",children:[B.instructor.nombre," ",B.instructor.apellido,B.instructor.especialidad&&(0,t.jsxs)("span",{className:"text-gray-500 ml-1",children:["(",B.instructor.especialidad,")"]})]}):(0,t.jsx)("p",{className:"text-sm text-green-700 italic",children:"Sin instructor asignado"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Horario"}),(0,t.jsxs)("p",{className:"text-gray-900",children:[B.hora_inicio," - ",B.hora_fin]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Días"}),(0,t.jsx)("p",{className:"text-gray-900",children:B.dias_semana_nombres||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Cupo"}),(0,t.jsxs)("p",{className:"text-gray-900",children:[B.cupo_actual||0," /"," ",B.cupo_maximo]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Estado"}),(0,t.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${eb(B.estado)}`,children:B.estado})]})]})]})}),(0,t.jsx)(l.Modal,{isOpen:D,onClose:()=>T(!1),title:"Asignar Instructor",size:"sm",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Grupo"}),(0,t.jsx)("p",{className:"font-medium text-gray-900",children:B?.nombre}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:B?.curso?.nombre})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Instructor"}),(0,t.jsxs)("select",{value:F,onChange:e=>K(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500",children:[(0,t.jsx)("option",{value:"",children:"Sin instructor"}),I.map(e=>(0,t.jsxs)("option",{value:e.id_usuario,children:[e.nombre," ",e.apellido,e.especialidad&&` - ${e.especialidad}`]},e.id_usuario))]})]}),B?.instructor&&!F&&(0,t.jsx)("div",{className:"p-3 bg-amber-50 rounded-lg",children:(0,t.jsxs)("p",{className:"text-xs text-amber-700",children:["Se quitará el instructor actual:"," ",B.instructor.nombre," ",B.instructor.apellido]})}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-3 border-t border-gray-100",children:[(0,t.jsx)(i.Button,{type:"button",variant:"secondary",size:"sm",onClick:()=>T(!1),children:"Cancelar"}),(0,t.jsx)(i.Button,{size:"sm",onClick:ex,disabled:U,children:U?"Guardando...":"Guardar"})]})]})}),(0,t.jsx)(l.Modal,{isOpen:S,onClose:()=>A(!1),title:`${L?"Editar":"Nuevo"} Grupo`,size:"md",children:(0,t.jsxs)("form",{onSubmit:eg,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Nombre del Grupo *"}),(0,t.jsx)("input",{type:"text",value:J.nombre,onChange:e=>Q({...J,nombre:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Curso *"}),(0,t.jsxs)("select",{value:J.id_curso,onChange:e=>Q({...J,id_curso:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Seleccionar curso"}),C.map(e=>(0,t.jsx)("option",{value:e.id_curso,children:e.nombre},e.id_curso))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Instructor"}),(0,t.jsxs)("select",{value:J.id_instructor,onChange:e=>Q({...J,id_instructor:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500",children:[(0,t.jsx)("option",{value:"",children:"Sin instructor"}),I.map(e=>(0,t.jsxs)("option",{value:e.id_usuario,children:[e.nombre," ",e.apellido,e.especialidad&&` - ${e.especialidad}`]},e.id_usuario))]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Hora Inicio *"}),(0,t.jsx)("input",{type:"time",value:J.hora_inicio,onChange:e=>Q({...J,hora_inicio:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Hora Fin *"}),(0,t.jsx)("input",{type:"time",value:J.hora_fin,onChange:e=>Q({...J,hora_fin:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Días de la Semana *"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:j.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>{var t;return t=e.value,void Q(e=>({...e,dias_semana:e.dias_semana.includes(t)?e.dias_semana.filter(e=>e!==t):[...e.dias_semana,t]}))},className:`px-3 py-1.5 text-xs rounded-lg border transition-colors ${J.dias_semana.includes(e.value)?"bg-purple-50 border-purple-200 text-purple-600":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Cupo Máximo *"}),(0,t.jsx)("input",{type:"number",min:"1",value:J.cupo_maximo,onChange:e=>Q({...J,cupo_maximo:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Estado"}),(0,t.jsxs)("select",{value:J.estado,onChange:e=>Q({...J,estado:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500",children:[(0,t.jsx)("option",{value:"activo",children:"Activo"}),(0,t.jsx)("option",{value:"inactivo",children:"Inactivo"}),(0,t.jsx)("option",{value:"completo",children:"Completo"}),(0,t.jsx)("option",{value:"cancelado",children:"Cancelado"})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-3 border-t border-gray-100",children:[(0,t.jsx)(i.Button,{type:"button",variant:"secondary",size:"sm",onClick:()=>A(!1),children:"Cancelar"}),(0,t.jsx)(i.Button,{type:"submit",size:"sm",disabled:H,children:H?"Guardando...":L?"Actualizar":"Crear"})]})]})}),(0,t.jsx)(c.ConfirmModal,{isOpen:$,onClose:()=>O(!1),onConfirm:em,title:"¿Eliminar grupo?",message:"Esta acción no se puede deshacer. El grupo será eliminado permanentemente.",isLoading:z})]})})}e.s(["default",()=>C],55463)}]);