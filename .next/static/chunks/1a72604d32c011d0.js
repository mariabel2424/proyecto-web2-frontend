(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49547,e=>{"use strict";var a=e.i(96564),t=e.i(55528);e.s(["deportistasService",0,{async getAll(e){let{data:r}=await a.apiClient.get(t.API_ENDPOINTS.deportistas,e);if(r&&"object"==typeof r&&"success"in r&&r.data){let e=r.data;return Array.isArray(e)?{data:e,total:e.length,current_page:1,last_page:1,per_page:e.length,from:1,to:e.length}:e}return Array.isArray(r)?{data:r,total:r.length,current_page:1,last_page:1,per_page:r.length,from:1,to:r.length}:r},async getById(e){let{data:r}=await a.apiClient.get(`${t.API_ENDPOINTS.deportistas}/${e}`);return r},async create(e){let{data:r}=await a.apiClient.post(t.API_ENDPOINTS.deportistas,e);return r},async update(e,r){let{data:i}=await a.apiClient.put(`${t.API_ENDPOINTS.deportistas}/${e}`,r);return i},async delete(e){await a.apiClient.delete(`${t.API_ENDPOINTS.deportistas}/${e}`)},async cambiarEstado(e,r){let{data:i}=await a.apiClient.post(`${t.API_ENDPOINTS.deportistas}/${e}/cambiar-estado`,{estado:r});return i},async restaurar(e){let{data:r}=await a.apiClient.post(`${t.API_ENDPOINTS.deportistas}/${e}/restaurar`);return r},async getEstadisticas(){let{data:e}=await a.apiClient.get(`${t.API_ENDPOINTS.deportistas}/estadisticas/generales`);return e},async getActivos(){let{data:e}=await a.apiClient.get(`${t.API_ENDPOINTS.deportistas}/activos/listar`);return e},async getByEstado(e){let{data:r}=await a.apiClient.get(`${t.API_ENDPOINTS.deportistas}/estado/${e}`);return r},async getByCategoria(e){let{data:r}=await a.apiClient.get(`${t.API_ENDPOINTS.deportistas}/categoria/${e}`);return r},async getMisParticipantes(){let{data:e}=await a.apiClient.get(t.API_ENDPOINTS.misParticipantes);return e&&"object"==typeof e&&"data"in e&&Array.isArray(e.data)?e.data:Array.isArray(e)?e:[]},async crearMiParticipante(e){let{data:r}=await a.apiClient.post(t.API_ENDPOINTS.misParticipantes,e);return r&&"object"==typeof r&&"data"in r?r.data:r},async actualizarMiParticipante(e,r){let{data:i}=await a.apiClient.put(`${t.API_ENDPOINTS.misParticipantes}/${e}`,r);return i&&"object"==typeof i&&"data"in i?i.data:i},async eliminarMiParticipante(e){await a.apiClient.delete(`${t.API_ENDPOINTS.misParticipantes}/${e}`)}}])},11174,e=>{"use strict";var a=e.i(96564),t=e.i(55528);e.s(["categoriasService",0,{async getAll(){let{data:e}=await a.apiClient.get(t.API_ENDPOINTS.categorias);if(e&&"object"==typeof e&&"success"in e&&e.data){let a=e.data;return Array.isArray(a)?a:a.data||[]}return e&&"object"==typeof e&&"data"in e?e.data:Array.isArray(e)?e:[]},async getAllPaginated(e){let{data:r}=await a.apiClient.get(t.API_ENDPOINTS.categorias,e);if(r&&"object"==typeof r&&"success"in r&&r.data){let e=r.data;return Array.isArray(e)?{data:e,total:e.length,current_page:1,last_page:1,per_page:e.length,from:1,to:e.length}:e}return Array.isArray(r)?{data:r,total:r.length,current_page:1,last_page:1,per_page:r.length,from:1,to:r.length}:r},async getById(e){let{data:r}=await a.apiClient.get(`${t.API_ENDPOINTS.categorias}/${e}`);return r},async create(e){let{data:r}=await a.apiClient.post(t.API_ENDPOINTS.categorias,e);return r},async update(e,r){let{data:i}=await a.apiClient.put(`${t.API_ENDPOINTS.categorias}/${e}`,r);return i},async delete(e){await a.apiClient.delete(`${t.API_ENDPOINTS.categorias}/${e}`)}}])},60127,e=>{"use strict";var a=e.i(44472),t=e.i(30680),r=e.i(96833);e.i(51766);var i=e.i(5174);e.i(36106);var s=e.i(75650),n=e.i(75227),l=e.i(13762),o=e.i(80028),c=e.i(49547),d=e.i(11174);function p(){let e=(0,r.useRouter)(),p=Number((0,r.useParams)().id),[u,g]=(0,t.useState)(!1),[m,y]=(0,t.useState)(!0),[h,b]=(0,t.useState)(""),[N,I]=(0,t.useState)([]),[P,f]=(0,t.useState)({nombres:"",apellidos:"",cedula:"",fecha_nacimiento:"",genero:"M",direccion:"",telefono:"",email:"",peso:"",altura:"",tipo_sangre:"",alergias:"",enfermedades:"",id_categoria:""});(0,t.useEffect)(()=>{(async()=>{try{let[e,a]=await Promise.all([c.deportistasService.getById(p),d.categoriasService.getAll()]);I(a),f({nombres:e.nombres||"",apellidos:e.apellidos||"",cedula:e.cedula||"",fecha_nacimiento:e.fecha_nacimiento||"",genero:e.genero||"M",direccion:e.direccion||"",telefono:e.telefono||"",email:e.email||"",peso:e.peso?String(e.peso):"",altura:e.altura?String(e.altura):"",tipo_sangre:e.tipo_sangre||"",alergias:e.alergias||"",enfermedades:e.enfermedades||"",id_categoria:e.id_categoria?String(e.id_categoria):""})}catch(e){b("Error al cargar el deportista"),console.error(e)}finally{y(!1)}})()},[p]);let _=e=>{let{name:a,value:t}=e.target;f(e=>({...e,[a]:t}))},x=async a=>{a.preventDefault(),g(!0),b("");try{await c.deportistasService.update(p,{...P,genero:P.genero,peso:P.peso?parseFloat(P.peso):void 0,altura:P.altura?parseFloat(P.altura):void 0,id_categoria:P.id_categoria?parseInt(P.id_categoria):void 0}),e.push("/deportistas")}catch(e){b(e instanceof Error?e.message:"Error al actualizar")}finally{g(!1)}};return m?(0,a.jsx)(i.DashboardLayout,{children:(0,a.jsx)("div",{className:"flex justify-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):(0,a.jsx)(i.DashboardLayout,{children:(0,a.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{children:(0,a.jsx)(s.CardTitle,{children:"Editar Deportista"})}),(0,a.jsxs)(s.CardContent,{children:[h&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:h}),(0,a.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(l.Input,{label:"Nombres",name:"nombres",value:P.nombres,onChange:_,required:!0}),(0,a.jsx)(l.Input,{label:"Apellidos",name:"apellidos",value:P.apellidos,onChange:_,required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(l.Input,{label:"Cédula",name:"cedula",value:P.cedula,onChange:_}),(0,a.jsx)(l.Input,{label:"Fecha de Nacimiento",name:"fecha_nacimiento",type:"date",value:P.fecha_nacimiento,onChange:_,required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(o.Select,{label:"Género",name:"genero",value:P.genero,onChange:_,options:[{value:"M",label:"Masculino"},{value:"F",label:"Femenino"}]}),(0,a.jsx)(o.Select,{label:"Categoría",name:"id_categoria",value:P.id_categoria,onChange:_,placeholder:"Seleccionar",options:N.map(e=>({value:e.id_categoria,label:e.nombre}))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(l.Input,{label:"Teléfono",name:"telefono",value:P.telefono,onChange:_}),(0,a.jsx)(l.Input,{label:"Email",name:"email",type:"email",value:P.email,onChange:_})]}),(0,a.jsx)(l.Input,{label:"Dirección",name:"direccion",value:P.direccion,onChange:_}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsx)(l.Input,{label:"Peso (kg)",name:"peso",type:"number",step:"0.1",value:P.peso,onChange:_}),(0,a.jsx)(l.Input,{label:"Altura (cm)",name:"altura",type:"number",step:"0.1",value:P.altura,onChange:_}),(0,a.jsx)(l.Input,{label:"Tipo de Sangre",name:"tipo_sangre",value:P.tipo_sangre,onChange:_})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alergias"}),(0,a.jsx)("textarea",{name:"alergias",value:P.alergias,onChange:_,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enfermedades"}),(0,a.jsx)("textarea",{name:"enfermedades",value:P.enfermedades,onChange:_,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,a.jsx)(n.Button,{type:"button",variant:"secondary",onClick:()=>e.back(),children:"Cancelar"}),(0,a.jsx)(n.Button,{type:"submit",disabled:u,children:u?"Guardando...":"Guardar Cambios"})]})]})]})]})})})}e.s(["default",()=>p])}]);