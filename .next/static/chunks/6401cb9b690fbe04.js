(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32959,e=>{"use strict";var a=e.i(96564),t=e.i(55528);e.s(["asistenciasService",0,{async getAsistencias(e,r){let{data:i}=await a.apiClient.get(`${t.API_ENDPOINTS.gruposCurso}/${e}/asistencias`,r?{fecha:r}:{});return i},async registrarAsistencias(e,r,i){let{data:n}=await a.apiClient.post(`${t.API_ENDPOINTS.gruposCurso}/${e}/asistencias`,{fecha:r,asistencias:i});return n},async getHistorial(e,r,i){let n={};r&&(n.fecha_inicio=r),i&&(n.fecha_fin=i);let{data:s}=await a.apiClient.get(`${t.API_ENDPOINTS.gruposCurso}/${e}/asistencias/historial`,n);return s},async getReporte(e,r){let{data:i}=await a.apiClient.get(`${t.API_ENDPOINTS.gruposCurso}/${e}/asistencias/reporte`,{fecha:r});return i}},"cursosService",0,{async getAll(e){let{data:r}=await a.apiClient.get(t.API_ENDPOINTS.cursos,e);if(r&&"object"==typeof r&&"success"in r&&r.data){let e=r.data;return Array.isArray(e)?{data:e,total:e.length,current_page:1,last_page:1,per_page:e.length,from:1,to:e.length}:e}return r&&"object"==typeof r&&"current_page"in r&&"data"in r?{data:Array.isArray(r.data)?r.data:[],total:r.total||0,current_page:r.current_page||1,last_page:r.last_page||1,per_page:r.per_page||15,from:r.from||0,to:r.to||0}:Array.isArray(r)?{data:r,total:r.length,current_page:1,last_page:1,per_page:r.length,from:1,to:r.length}:{data:[],total:0,current_page:1,last_page:1,per_page:15,from:0,to:0}},async getById(e){let{data:r}=await a.apiClient.get(`${t.API_ENDPOINTS.cursos}/${e}`);return r},async create(e){let{data:r}=await a.apiClient.post(t.API_ENDPOINTS.cursos,e);return r},async update(e,r){let{data:i}=await a.apiClient.put(`${t.API_ENDPOINTS.cursos}/${e}`,r);return i},async delete(e){await a.apiClient.delete(`${t.API_ENDPOINTS.cursos}/${e}`)},async getCursosAbiertos(){let{data:e}=await a.apiClient.get(t.API_ENDPOINTS.cursosAbiertos);return e},async getParticipantes(e){let{data:r}=await a.apiClient.get(`${t.API_ENDPOINTS.cursos}/${e}/participantes`);return r},async getGruposDisponibles(e){let{data:r}=await a.apiClient.get(`${t.API_ENDPOINTS.cursos}/${e}/grupos-disponibles`);return r},async getGruposPublico(e){let{data:r}=await a.apiClient.get(`${t.API_ENDPOINTS.cursos}/${e}/grupos-publico`);return r}},"gruposCursoService",0,{async getAll(e){let{data:r}=await a.apiClient.get(t.API_ENDPOINTS.gruposCurso,e);if(r&&"object"==typeof r&&"success"in r&&r.data){let e=r.data;return Array.isArray(e)?{data:e,total:e.length,current_page:1,last_page:1,per_page:e.length,from:1,to:e.length}:e}return Array.isArray(r)?{data:r,total:r.length,current_page:1,last_page:1,per_page:r.length,from:1,to:r.length}:r},async getById(e){let{data:r}=await a.apiClient.get(`${t.API_ENDPOINTS.gruposCurso}/${e}`);return r},async create(e){let{data:r}=await a.apiClient.post(t.API_ENDPOINTS.gruposCurso,e);return r},async update(e,r){let{data:i}=await a.apiClient.put(`${t.API_ENDPOINTS.gruposCurso}/${e}`,r);return i},async delete(e){await a.apiClient.delete(`${t.API_ENDPOINTS.gruposCurso}/${e}`)},async getDeportistas(e){let{data:r}=await a.apiClient.get(`${t.API_ENDPOINTS.gruposCurso}/${e}/deportistas`);return r},async asignarInstructor(e,r){let{data:i}=await a.apiClient.post(`${t.API_ENDPOINTS.gruposCurso}/${e}/asignar-instructor`,{id_instructor:r});return i},async quitarInstructor(e,r){let{data:i}=await a.apiClient.post(`${t.API_ENDPOINTS.gruposCurso}/${e}/quitar-instructor`,{id_instructor:r});return i},async getInstructores(e){let{data:r}=await a.apiClient.get(`${t.API_ENDPOINTS.gruposCurso}/${e}/instructores`);return r},async cambiarEstado(e,r){let{data:i}=await a.apiClient.patch(`${t.API_ENDPOINTS.gruposCurso}/${e}/cambiar-estado`,{estado:r});return i}},"inscripcionesService",0,{async getAll(e){let{data:r}=await a.apiClient.get(t.API_ENDPOINTS.inscripcionesCurso,e);if(r&&"object"==typeof r&&"success"in r&&r.data){let e=r.data;return Array.isArray(e)?{data:e,total:e.length,current_page:1,last_page:1,per_page:e.length,from:1,to:e.length}:e}return Array.isArray(r)?{data:r,total:r.length,current_page:1,last_page:1,per_page:r.length,from:1,to:r.length}:r},async getById(e){let{data:r}=await a.apiClient.get(`${t.API_ENDPOINTS.inscripcionesCurso}/${e}`);return r},async create(e){let{data:r}=await a.apiClient.post(t.API_ENDPOINTS.inscripcionesCurso,e);return r},async update(e,r){let{data:i}=await a.apiClient.put(`${t.API_ENDPOINTS.inscripcionesCurso}/${e}`,r);return i},async delete(e){await a.apiClient.delete(`${t.API_ENDPOINTS.inscripcionesCurso}/${e}`)},async calificar(e,r,i){let{data:n}=await a.apiClient.post(`${t.API_ENDPOINTS.inscripcionesCurso}/${e}/calificar`,{calificacion:r,comentarios:i});return n},async cancelar(e,r){let{data:i}=await a.apiClient.patch(`${t.API_ENDPOINTS.inscripcionesCurso}/${e}/cancelar`,{motivo:r});return i},async generarFactura(e,r){let{data:i}=await a.apiClient.post(`${t.API_ENDPOINTS.inscripcionesCurso}/${e}/generar-factura`,{id_tutor:r});return i},async getMisInscripciones(e){let{data:t}=await a.apiClient.get("/mis-inscripciones",e);return Array.isArray(t)?{data:t,total:t.length,current_page:1,last_page:1,per_page:t.length,from:1,to:t.length}:t}}])},16802,e=>{"use strict";var a=e.i(44472),t=e.i(30680),r=e.i(96833);e.i(51766);var i=e.i(5174);e.i(36106);var n=e.i(75650),s=e.i(75227),o=e.i(13762),l=e.i(80028),c=e.i(32959);function p(){let e=(0,r.useRouter)(),p=Number((0,r.useParams)().id),[u,g]=(0,t.useState)(!1),[d,_]=(0,t.useState)(!0),[m,h]=(0,t.useState)(""),[C,I]=(0,t.useState)({nombre:"",descripcion:"",fecha_inicio:"",fecha_fin:"",representante:"",email_representante:"",telefono_representante:"",tipo:"vacacional",precio:"",cupo_maximo:"",estado:"abierto"});(0,t.useEffect)(()=>{(async()=>{try{let e=await c.cursosService.getById(p);I({nombre:e.nombre||"",descripcion:e.descripcion||"",fecha_inicio:e.fecha_inicio||"",fecha_fin:e.fecha_fin||"",representante:e.representante||"",email_representante:e.email_representante||"",telefono_representante:e.telefono_representante||"",tipo:e.tipo||"vacacional",precio:String(e.precio||""),cupo_maximo:e.cupo_maximo?String(e.cupo_maximo):"",estado:e.estado||"abierto"})}catch(e){h("Error al cargar el curso"),console.error(e)}finally{_(!1)}})()},[p]);let y=e=>{let{name:a,value:t}=e.target;I(e=>({...e,[a]:t}))},N=async a=>{a.preventDefault(),g(!0),h("");try{await c.cursosService.update(p,{nombre:C.nombre,descripcion:C.descripcion||void 0,fecha_inicio:C.fecha_inicio,fecha_fin:C.fecha_fin,representante:C.representante,email_representante:C.email_representante||void 0,telefono_representante:C.telefono_representante||void 0,tipo:C.tipo,precio:C.precio?parseFloat(C.precio):void 0,cupo_maximo:C.cupo_maximo?parseInt(C.cupo_maximo):void 0}),e.push("/cursos")}catch(e){h(e instanceof Error?e.message:"Error al actualizar el curso")}finally{g(!1)}};return d?(0,a.jsx)(i.DashboardLayout,{children:(0,a.jsx)("div",{className:"flex justify-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):(0,a.jsx)(i.DashboardLayout,{children:(0,a.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,a.jsxs)(n.Card,{children:[(0,a.jsx)(n.CardHeader,{children:(0,a.jsx)(n.CardTitle,{children:"Editar Curso Vacacional"})}),(0,a.jsxs)(n.CardContent,{children:[m&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:m}),(0,a.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,a.jsx)(o.Input,{label:"Nombre del Curso",name:"nombre",value:C.nombre,onChange:y,required:!0}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),(0,a.jsx)("textarea",{name:"descripcion",value:C.descripcion,onChange:y,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(o.Input,{label:"Fecha Inicio",name:"fecha_inicio",type:"date",value:C.fecha_inicio,onChange:y,required:!0}),(0,a.jsx)(o.Input,{label:"Fecha Fin",name:"fecha_fin",type:"date",value:C.fecha_fin,onChange:y,required:!0})]}),(0,a.jsx)(l.Select,{label:"Tipo",name:"tipo",value:C.tipo,onChange:y,options:[{value:"vacacional",label:"Vacacional"},{value:"permanente",label:"Permanente"}]}),(0,a.jsx)(o.Input,{label:"Representante",name:"representante",value:C.representante,onChange:y,required:!0}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(o.Input,{label:"Email Representante",name:"email_representante",type:"email",value:C.email_representante,onChange:y}),(0,a.jsx)(o.Input,{label:"Teléfono Representante",name:"telefono_representante",value:C.telefono_representante,onChange:y})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(o.Input,{label:"Precio ($)",name:"precio",type:"number",step:"0.01",value:C.precio,onChange:y}),(0,a.jsx)(o.Input,{label:"Cupo Máximo",name:"cupo_maximo",type:"number",value:C.cupo_maximo,onChange:y,placeholder:"Sin límite"})]}),(0,a.jsx)(l.Select,{label:"Estado",name:"estado",value:C.estado,onChange:y,options:[{value:"abierto",label:"Abierto"},{value:"cerrado",label:"Cerrado"},{value:"en_proceso",label:"En Proceso"},{value:"cancelado",label:"Cancelado"}]}),(0,a.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,a.jsx)(s.Button,{type:"button",variant:"secondary",onClick:()=>e.back(),children:"Cancelar"}),(0,a.jsx)(s.Button,{type:"submit",disabled:u,children:u?"Guardando...":"Guardar Cambios"})]})]})]})]})})})}e.s(["default",()=>p])}]);