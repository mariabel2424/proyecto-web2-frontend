(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58941,e=>{"use strict";var a=e.i(30680);let r=a.forwardRef(function({title:e,titleId:r,...t},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});e.s(["TrashIcon",0,r],58941)},19926,e=>{"use strict";var a=e.i(30680);let r=a.forwardRef(function({title:e,titleId:r,...t},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});e.s(["PlusIcon",0,r],19926)},44095,e=>{"use strict";var a=e.i(30680);let r=a.forwardRef(function({title:e,titleId:r,...t},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))});e.s(["PencilSquareIcon",0,r],44095)},89782,e=>{"use strict";var a=e.i(30680);let r=a.forwardRef(function({title:e,titleId:r,...t},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});e.s(["MagnifyingGlassIcon",0,r],89782)},82464,e=>{"use strict";var a=e.i(30680);function r(e,t={}){let{initialPage:s=1,initialPerPage:n=10}=t,[i,o]=(0,a.useState)([]),[l,d]=(0,a.useState)(!0),[c,m]=(0,a.useState)(null),[u,g]=(0,a.useState)(s),[x,h]=(0,a.useState)(n),[p,b]=(0,a.useState)(0),[f,y]=(0,a.useState)(1),[v,j]=(0,a.useState)(""),[N,w]=(0,a.useState)(),[_,k]=(0,a.useState)("asc"),C=(0,a.useCallback)(async()=>{d(!0),m(null);try{let a=await e({page:u,per_page:x,search:v||void 0,sort_by:N,sort_order:_});o(Array.isArray(a.data)?a.data:[]),b(a.total||0),y(a.last_page||1)}catch(e){m(e instanceof Error?e.message:"Error al cargar datos"),o([])}finally{d(!1)}},[e,u,x,v,N,_]);(0,a.useEffect)(()=>{C()},[C]);let E=(0,a.useCallback)(e=>{g(Math.max(1,Math.min(e,f)))},[f]),S=(0,a.useCallback)(()=>{u<f&&g(e=>e+1)},[u,f]),P=(0,a.useCallback)(()=>{u>1&&g(e=>e-1)},[u]),A=(0,a.useCallback)(e=>{h(e),g(1)},[]),L=(0,a.useCallback)(e=>{j(e),g(1)},[]),I=(0,a.useCallback)(e=>{N===e?k(e=>"asc"===e?"desc":"asc"):(w(e),k("asc")),g(1)},[N]);return{data:i,isLoading:l,error:c,page:u,perPage:x,total:p,lastPage:f,search:v,sortBy:N,sortOrder:_,goToPage:E,nextPage:S,prevPage:P,changePerPage:A,handleSearch:L,handleSort:I,refetch:C}}e.s(["usePagination",()=>r])},11174,e=>{"use strict";var a=e.i(96564),r=e.i(55528);e.s(["categoriasService",0,{async getAll(){let{data:e}=await a.apiClient.get(r.API_ENDPOINTS.categorias);if(e&&"object"==typeof e&&"success"in e&&e.data){let a=e.data;return Array.isArray(a)?a:a.data||[]}return e&&"object"==typeof e&&"data"in e?e.data:Array.isArray(e)?e:[]},async getAllPaginated(e){let{data:t}=await a.apiClient.get(r.API_ENDPOINTS.categorias,e);if(t&&"object"==typeof t&&"success"in t&&t.data){let e=t.data;return Array.isArray(e)?{data:e,total:e.length,current_page:1,last_page:1,per_page:e.length,from:1,to:e.length}:e}return Array.isArray(t)?{data:t,total:t.length,current_page:1,last_page:1,per_page:t.length,from:1,to:t.length}:t},async getById(e){let{data:t}=await a.apiClient.get(`${r.API_ENDPOINTS.categorias}/${e}`);return t},async create(e){let{data:t}=await a.apiClient.post(r.API_ENDPOINTS.categorias,e);return t},async update(e,t){let{data:s}=await a.apiClient.put(`${r.API_ENDPOINTS.categorias}/${e}`,t);return s},async delete(e){await a.apiClient.delete(`${r.API_ENDPOINTS.categorias}/${e}`)}}])},70558,e=>{"use strict";var a=e.i(44472),r=e.i(30680);e.i(51766);var t=e.i(5174);e.i(36106);var s=e.i(75227),n=e.i(4299),i=e.i(99375),o=e.i(94460),l=e.i(85547),d=e.i(82464),c=e.i(11174),m=e.i(19926),u=e.i(89782),g=e.i(44095),x=e.i(58941);let h=r.forwardRef(function({title:e,titleId:a,...t},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},t),e?r.createElement("title",{id:a},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))});function p(){let[e,p]=(0,r.useState)(!1),[b,f]=(0,r.useState)(!1),[y,v]=(0,r.useState)(null),[j,N]=(0,r.useState)(!1),[w,_]=(0,r.useState)(null),[k,C]=(0,r.useState)({nombre:"",edad_minima:"",edad_maxima:"",genero:"mixto",descripcion:""}),E=(0,r.useCallback)(e=>c.categoriasService.getAllPaginated(e),[]),{data:S,isLoading:P,page:A,perPage:L,total:I,lastPage:M,search:O,sortBy:B,sortOrder:T,goToPage:D,changePerPage:q,handleSearch:$,handleSort:R,refetch:z}=(0,d.usePagination)(E),H=async e=>{e.preventDefault();try{let e=k.edad_minima?Number(k.edad_minima):void 0,a=k.edad_maxima?Number(k.edad_maxima):void 0;if(void 0!==e&&void 0!==a&&a<=e)return void alert("La edad máxima debe ser mayor que la edad mínima");if(!e||!a)return void alert("Las edades mínima y máxima son requeridas");let r={nombre:k.nombre,edad_minima:e,edad_maxima:a,genero:k.genero,descripcion:k.descripcion||void 0};w?await c.categoriasService.update(w.id_categoria,r):await c.categoriasService.create(r),p(!1),Z(),z()}catch(e){console.error("Error guardando categoría:",e),alert("Error al guardar la categoría. Por favor verifica los datos.")}},W=async()=>{if(y){N(!0);try{await c.categoriasService.delete(y),z()}catch(e){console.error("Error:",e)}finally{N(!1),f(!1),v(null)}}},Z=()=>{_(null),C({nombre:"",edad_minima:"",edad_maxima:"",genero:"mixto",descripcion:""})},G=[{key:"nombre",header:"Nombre",sortable:!0,render:e=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-green-50 rounded flex items-center justify-center",children:(0,a.jsx)(h,{className:"h-3 w-3 text-green-600"})}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.nombre})]})},{key:"edad_minima",header:"Edad Mín",render:e=>(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e.edad_minima?`${e.edad_minima} a\xf1os`:"-"})},{key:"edad_maxima",header:"Edad Máx",render:e=>(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e.edad_maxima?`${e.edad_maxima} a\xf1os`:"-"})},{key:"descripcion",header:"Descripción",render:e=>(0,a.jsx)("span",{className:"text-sm text-gray-500 line-clamp-1",children:e.descripcion||"-"})},{key:"acciones",header:"",render:e=>(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,a.jsx)("button",{onClick:()=>{_(e),C({nombre:e.nombre,edad_minima:e.edad_minima?.toString()||"",edad_maxima:e.edad_maxima?.toString()||"",genero:e.genero||"mixto",descripcion:e.descripcion||""}),p(!0)},className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:(0,a.jsx)(g.PencilSquareIcon,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>{v(e.id_categoria),f(!0)},className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,a.jsx)(x.TrashIcon,{className:"h-4 w-4"})})]})}];return(0,a.jsx)(t.DashboardLayout,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-green-50 rounded-lg",children:(0,a.jsx)(h,{className:"h-5 w-5 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Categorías"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[I," registros"]})]})]}),(0,a.jsxs)(s.Button,{size:"sm",onClick:()=>{Z(),p(!0)},children:[(0,a.jsx)(m.PlusIcon,{className:"h-4 w-4 mr-1"}),"Nueva"]})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl border border-gray-100 p-3",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u.MagnifyingGlassIcon,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Buscar categoría...",value:O,onChange:e=>$(e.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500"})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:[(0,a.jsx)(n.Table,{columns:G,data:S,keyExtractor:e=>e.id_categoria,isLoading:P,onSort:R,sortBy:B,sortOrder:T}),(0,a.jsx)("div",{className:"border-t border-gray-100",children:(0,a.jsx)(i.Pagination,{page:A,lastPage:M,total:I,perPage:L,onPageChange:D,onPerPageChange:q})})]}),(0,a.jsx)(o.Modal,{isOpen:e,onClose:()=>p(!1),title:`${w?"Editar":"Nueva"} Categor\xeda`,size:"md",children:(0,a.jsxs)("form",{onSubmit:H,className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Nombre"}),(0,a.jsx)("input",{type:"text",value:k.nombre,onChange:e=>C({...k,nombre:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Edad Mínima *"}),(0,a.jsx)("input",{type:"number",min:"0",max:"100",value:k.edad_minima,onChange:e=>C({...k,edad_minima:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500",placeholder:"Ej: 5",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Edad Máxima *"}),(0,a.jsx)("input",{type:"number",min:"0",max:"100",value:k.edad_maxima,onChange:e=>C({...k,edad_maxima:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500",placeholder:"Ej: 12",required:!0})]})]}),k.edad_minima&&k.edad_maxima&&Number(k.edad_maxima)<=Number(k.edad_minima)&&(0,a.jsx)("div",{className:"text-xs text-red-600 bg-red-50 px-3 py-2 rounded-lg",children:"La edad máxima debe ser mayor que la edad mínima"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Género *"}),(0,a.jsxs)("select",{value:k.genero,onChange:e=>C({...k,genero:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500",required:!0,children:[(0,a.jsx)("option",{value:"mixto",children:"Mixto"}),(0,a.jsx)("option",{value:"masculino",children:"Masculino"}),(0,a.jsx)("option",{value:"femenino",children:"Femenino"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Descripción"}),(0,a.jsx)("textarea",{value:k.descripcion,onChange:e=>C({...k,descripcion:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500",rows:2})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,a.jsx)(s.Button,{type:"button",variant:"secondary",size:"sm",onClick:()=>p(!1),children:"Cancelar"}),(0,a.jsx)(s.Button,{type:"submit",size:"sm",children:w?"Actualizar":"Crear"})]})]})}),(0,a.jsx)(l.ConfirmModal,{isOpen:b,onClose:()=>f(!1),onConfirm:W,title:"¿Eliminar categoría?",message:"Esta acción no se puede deshacer.",isLoading:j})]})})}e.s(["default",()=>p],70558)}]);